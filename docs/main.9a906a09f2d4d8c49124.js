(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("os0x"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.1.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return hn}),n.d(e,"b",function(){return wu}),n.d(e,"c",function(){return mu}),n.d(e,"d",function(){return pu}),n.d(e,"e",function(){return gu}),n.d(e,"f",function(){return pc}),n.d(e,"g",function(){return ic}),n.d(e,"h",function(){return ba}),n.d(e,"i",function(){return Nu}),n.d(e,"j",function(){return Go}),n.d(e,"k",function(){return Su}),n.d(e,"l",function(){return Jo}),n.d(e,"m",function(){return Tr}),n.d(e,"n",function(){return Ya}),n.d(e,"o",function(){return os}),n.d(e,"p",function(){return _n}),n.d(e,"q",function(){return ln}),n.d(e,"r",function(){return Es}),n.d(e,"s",function(){return da}),n.d(e,"t",function(){return pa}),n.d(e,"u",function(){return Ou}),n.d(e,"v",function(){return ja}),n.d(e,"w",function(){return oc}),n.d(e,"x",function(){return xa}),n.d(e,"y",function(){return Xu}),n.d(e,"z",function(){return Ru}),n.d(e,"A",function(){return wn}),n.d(e,"B",function(){return _u}),n.d(e,"C",function(){return bu}),n.d(e,"D",function(){return Zo}),n.d(e,"E",function(){return Yo}),n.d(e,"F",function(){return xr}),n.d(e,"G",function(){return ta}),n.d(e,"H",function(){return vr}),n.d(e,"I",function(){return On}),n.d(e,"J",function(){return cc}),n.d(e,"K",function(){return Ta}),n.d(e,"L",function(){return Bu}),n.d(e,"M",function(){return fn}),n.d(e,"N",function(){return na}),n.d(e,"O",function(){return ea}),n.d(e,"P",function(){return Na}),n.d(e,"Q",function(){return F}),n.d(e,"R",function(){return tc}),n.d(e,"S",function(){return Yu}),n.d(e,"T",function(){return _}),n.d(e,"U",function(){return Ju}),n.d(e,"V",function(){return fc}),n.d(e,"W",function(){return $u}),n.d(e,"X",function(){return Eu}),n.d(e,"Y",function(){return us}),n.d(e,"Z",function(){return No}),n.d(e,"ab",function(){return mr}),n.d(e,"bb",function(){return Xn}),n.d(e,"cb",function(){return Bn}),n.d(e,"db",function(){return Hn}),n.d(e,"eb",function(){return Kn}),n.d(e,"fb",function(){return Gn}),n.d(e,"gb",function(){return $n}),n.d(e,"hb",function(){return Wn}),n.d(e,"ib",function(){return Ao}),n.d(e,"jb",function(){return hc}),n.d(e,"kb",function(){return xo}),n.d(e,"lb",function(){return jo}),n.d(e,"mb",function(){return zn}),n.d(e,"nb",function(){return z}),n.d(e,"ob",function(){return Ns}),n.d(e,"pb",function(){return Ws}),n.d(e,"qb",function(){return Gs}),n.d(e,"rb",function(){return Io}),n.d(e,"sb",function(){return kt}),n.d(e,"tb",function(){return y}),n.d(e,"ub",function(){return qn}),n.d(e,"vb",function(){return Ss}),n.d(e,"wb",function(){return Tt}),n.d(e,"xb",function(){return zo}),n.d(e,"yb",function(){return hi}),n.d(e,"zb",function(){return Rs}),n.d(e,"Ab",function(){return ao}),n.d(e,"Bb",function(){return oo}),n.d(e,"Cb",function(){return lu}),n.d(e,"Db",function(){return tt}),n.d(e,"Eb",function(){return at}),n.d(e,"Fb",function(){return O}),n.d(e,"Gb",function(){return S}),n.d(e,"Hb",function(){return it}),n.d(e,"Ib",function(){return ut}),n.d(e,"Jb",function(){return Vs}),n.d(e,"Kb",function(){return Bs}),n.d(e,"Lb",function(){return Hs}),n.d(e,"Mb",function(){return zs}),n.d(e,"Nb",function(){return qs}),n.d(e,"Ob",function(){return Us}),n.d(e,"Pb",function(){return $s}),n.d(e,"Qb",function(){return on}),n.d(e,"Rb",function(){return Eo}),n.d(e,"Sb",function(){return Nn}),n.d(e,"Tb",function(){return an}),n.d(e,"Ub",function(){return du}),n.d(e,"Vb",function(){return Ks}),n.d(e,"Wb",function(){return hu}),n.d(e,"Xb",function(){return Ys}),n.d(e,"Yb",function(){return Qa}),n.d(e,"Zb",function(){return Ja}),n.d(e,"ac",function(){return Fs}),n.d(e,"bc",function(){return Wa}),n.d(e,"cc",function(){return cu}),n.d(e,"dc",function(){return Jt}),n.d(e,"ec",function(){return br}),n.d(e,"fc",function(){return _r}),n.d(e,"gc",function(){return st}),n.d(e,"hc",function(){return so}),n.d(e,"ic",function(){return Oo}),n.d(e,"jc",function(){return Ls}),n.d(e,"kc",function(){return bo}),n.d(e,"lc",function(){return _o}),n.d(e,"mc",function(){return wo});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends s.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function m(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function y(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(y).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function v(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const b=g({__forward_ref__:g});function _(t){return t.__forward_ref__=_,t.toString=function(){return y(this())},t}function w(t){return E(t)?t():t}function E(t){return"function"==typeof t&&t.hasOwnProperty(b)&&t.__forward_ref__===_}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function S(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function T(t){return C(t,A)||C(t,j)}function C(t,e){return t.hasOwnProperty(e)?t[e]:null}function I(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(k))?t[x]:null}const A=g({"\u0275prov":g}),x=g({"\u0275inj":g}),j=g({ngInjectableDef:g}),k=g({ngInjectorDef:g});var N=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let D;function P(t){const e=D;return D=t,e}function R(t,e,n){const r=T(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&N.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${y(t)}]`)}function L(t){return{toString:t}.toString()}var V=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),F=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,z=M||B||U||q,H={},$=[],G=g({"\u0275cmp":g}),W=g({"\u0275dir":g}),K=g({"\u0275pipe":g}),Q=g({"\u0275mod":g}),J=g({"\u0275loc":g}),Y=g({"\u0275fac":g}),Z=g({__NG_ELEMENT_ID__:g});let X=0;function tt(t){return L(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===V.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||$,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||F.Emulated,id:"c",styles:t.styles||$,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=X++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[W]||null}(t)}function nt(t){return function(t){return t[K]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||$,declarations:t.declarations||$,imports:t.imports||$,exports:t.exports||$,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&L(()=>{rt[t.id]=t.type}),e}function st(t,e){return L(()=>{const n=lt(t,!0);n.declarations=e.declarations||$,n.imports=e.imports||$,n.exports=e.exports||$})}function ot(t,e){if(null==t)return H;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[G]||null}function lt(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${y(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(Y)?t[Y]:null}class _t extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function wt(t){return"string"==typeof t?t:null==t?"":String(t)}function Et(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():wt(t)}function Ot(t,e){const n=e?" in "+e:"";throw new _t("201",`No provider for ${Et(t)} found${n}`)}class St{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Tt(){return Ct}function Ct(t){return t.type.prototype.ngOnChanges&&(t.setInput=At),It}function It(){const t=xt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===H)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function At(t,e,n,r){const i=xt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:H,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new St(u&&u.currentValue,e,o===H),t[r]=e}function xt(t){return t.__ngSimpleChanges__||null}Tt.ngInherit=!0;let jt=void 0;function kt(t){jt=t}function Nt(){return void 0!==jt?jt:"undefined"!=typeof document?document:void 0}function Dt(t){return!!t.listen}const Pt={createRenderer:(t,e)=>Nt()};function Rt(t){for(;Array.isArray(t);)t=t[0];return t}function Lt(t,e){return Rt(e[t])}function Vt(t,e){return Rt(e[t.index])}function Ft(t,e){return t.data[e]}function Mt(t,e){const n=e[t];return dt(n)?n:n[0]}function Ut(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function qt(t){return 4==(4&t[2])}function Bt(t){return 128==(128&t[2])}function zt(t,e){return null==e?null:t[e]}function Ht(t){t[18]=0}function $t(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Gt={lFrame:me(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Wt(){return Gt.bindingsEnabled}function Kt(){return Gt.lFrame.lView}function Qt(){return Gt.lFrame.tView}function Jt(t){Gt.lFrame.contextLView=t}function Yt(){let t=Zt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Zt(){return Gt.lFrame.currentTNode}function Xt(t,e){const n=Gt.lFrame;n.currentTNode=t,n.isParent=e}function te(){return Gt.lFrame.isParent}function ee(){Gt.lFrame.isParent=!1}function ne(){return Gt.isInCheckNoChangesMode}function re(t){Gt.isInCheckNoChangesMode=t}function ie(){const t=Gt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function se(){return Gt.lFrame.bindingIndex++}function oe(t){const e=Gt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ae(t,e){const n=Gt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ue(e)}function ue(t){Gt.lFrame.currentDirectiveIndex=t}function ce(t){const e=Gt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function le(){return Gt.lFrame.currentQueryIndex}function he(t){Gt.lFrame.currentQueryIndex=t}function fe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function de(t,e,n){if(n&N.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&N.Host||(r=fe(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Gt.lFrame=ge();return r.currentTNode=e,r.lView=t,!0}function pe(t){const e=ge(),n=t[1];Gt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ge(){const t=Gt.lFrame,e=null===t?null:t.child;return null===e?me(t):e}function me(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ye(){const t=Gt.lFrame;return Gt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ve=ye;function be(){const t=ye();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _e(){return Gt.lFrame.selectedIndex}function we(t){Gt.lFrame.selectedIndex=t}function Ee(){const t=Gt.lFrame;return Ft(t.tView,t.selectedIndex)}function Oe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Se(t,e,n){Ie(t,e,3,n)}function Te(t,e,n,r){(3&t[2])===n&&Ie(t,e,n,r)}function Ce(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ie(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(Ae(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Ae(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const xe=-1;class je{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function ke(t,e,n){const r=Dt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];De(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ne(t){return 3===t||4===t||6===t}function De(t){return 64===t.charCodeAt(0)}function Pe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Re(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Re(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Le(t){return t!==xe}function Ve(t){return 32767&t}function Fe(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Me=!0;function Ue(t){const e=Me;return Me=t,e}let qe=0;function Be(t,e){const n=He(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,ze(r.data,t),ze(e,null),ze(r.blueprint,null));const i=$e(t,e),s=t.injectorIndex;if(Le(i)){const t=Ve(i),n=Fe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function ze(t,e){t.push(0,0,0,0,0,0,0,0,e)}function He(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function $e(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return xe;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return xe}function Ge(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(r=n[Z]),null==r&&(r=n[Z]=qe++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function We(t,e,n){if(n&N.Optional)return t;Ot(e,"NodeInjector")}function Ke(t,e,n,r){if(n&N.Optional&&void 0===r&&(r=null),0==(n&(N.Self|N.Host))){const i=t[9],s=P(void 0);try{return i?i.get(e,r,n&N.Optional):R(e,r,n&N.Optional)}finally{P(s)}}return We(r,e,n)}function Qe(t,e,n,r=N.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Z)?t[Z]:void 0;return"number"==typeof e?e>=0?255&e:Ye:e}(n);if("function"==typeof s){if(!de(e,t,r))return r&N.Host?We(i,n,r):Ke(e,n,r,i);try{const t=s();if(null!=t||r&N.Optional)return t;Ot(n)}finally{ve()}}else if("number"==typeof s){let i=null,o=He(t,e),a=xe,u=r&N.Host?e[16][6]:null;for((-1===o||r&N.SkipSelf)&&(a=-1===o?$e(t,e):e[o+8],a!==xe&&nn(r,!1)?(i=e[1],o=Ve(a),e=Fe(a,e)):o=-1);-1!==o;){const t=e[1];if(en(s,o,t.data)){const t=Ze(o,e,n,i,r,u);if(t!==Je)return t}a=e[o+8],a!==xe&&nn(r,e[1].data[o+8]===u)&&en(s,o,e)?(i=t,o=Ve(a),e=Fe(a,e)):o=-1}}}return Ke(e,n,r,i)}const Je={};function Ye(){return new rn(Yt(),Kt())}function Ze(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=Xe(a,o,n,null==r?mt(a)&&Me:r!=o&&0!=(3&a.type),i&N.Host&&s===a);return null!==u?tn(e,o,u,a):Je}function Xe(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&vt(t)&&t.type===n)return u}return null}function tn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof je){const o=i;o.resolving&&function(t,e){throw new _t("200","Circular dependency in DI detected for "+t)}(Et(s[n]));const a=Ue(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?P(o.injectImpl):null;de(t,r,N.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Ct(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&P(u),Ue(a),o.resolving=!1,ve()}}return i}function en(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function nn(t,e){return!(t&N.Self||t&N.Host&&e)}class rn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Qe(this._tNode,this._lView,t,void 0,e)}}function sn(t){const e=t;if(E(t))return()=>{const t=sn(w(e));return t?t():null};let n=bt(e);if(null===n){const t=I(e);n=t&&t.factory}return n||null}function on(t){return L(()=>{const e=t.prototype.constructor,n=e[Y]||sn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Y]||sn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function an(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ne(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Yt(),t)}const un="__parameters__";function cn(t,e,n){return L(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(un)?t[un]:Object.defineProperty(t,un,{value:[]})[un];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class ln{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=O({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const hn=new ln("AnalyzeForEntryComponents"),fn=Function;function dn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),dn(r,e)):e!==t&&e.push(r)}return e}function pn(t,e){t.forEach(t=>Array.isArray(t)?pn(t,e):e(t))}function gn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function mn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yn(t,e,n){let r=bn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function vn(t,e){const n=bn(t,e);if(n>=0)return t[1|n]}function bn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const _n=cn("Inject",t=>({token:t})),wn=cn("Optional"),En=cn("Self"),On=cn("SkipSelf"),Sn={},Tn=/\n/gm,Cn="__source",In=g({provide:String,useValue:g});let An,xn=void 0;function jn(t){const e=xn;return xn=t,e}function kn(t,e=N.Default){if(void 0===xn)throw new Error("inject() must be called from an injection context");return null===xn?R(t,void 0,e):xn.get(t,e&N.Optional?null:void 0,e)}function Nn(t,e=N.Default){return(D||kn)(w(t),e)}function Dn(t){const e=[];for(let n=0;n<t.length;n++){const r=w(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=N.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof wn||"Optional"===i.ngMetadataName||i===wn?n|=N.Optional:i instanceof On||"SkipSelf"===i.ngMetadataName||i===On?n|=N.SkipSelf:i instanceof En||"Self"===i.ngMetadataName||i===En?n|=N.Self:t=i instanceof _n||i===_n?i.token:i}e.push(Nn(t,n))}else e.push(Nn(r))}return e}function Pn(t){var e;return(null===(e=function(){if(void 0===An&&(An=null,z.trustedTypes))try{An=z.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return An}())||void 0===e?void 0:e.createHTML(t))||t}class Rn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Ln extends Rn{getTypeName(){return"HTML"}}class Vn extends Rn{getTypeName(){return"Style"}}class Fn extends Rn{getTypeName(){return"Script"}}class Mn extends Rn{getTypeName(){return"URL"}}class Un extends Rn{getTypeName(){return"ResourceURL"}}function qn(t){return t instanceof Rn?t.changingThisBreaksApplicationSecurity:t}function Bn(t,e){const n=zn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function zn(t){return t instanceof Rn&&t.getTypeName()||null}function Hn(t){return new Ln(t)}function $n(t){return new Vn(t)}function Gn(t){return new Fn(t)}function Wn(t){return new Mn(t)}function Kn(t){return new Un(t)}class Qn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Pn(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Jn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Pn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Pn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Yn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Zn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xn(t){return(t=String(t)).match(Yn)||t.match(Zn)?t:"unsafe:"+t}function tr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function er(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const nr=tr("area,br,col,hr,img,wbr"),rr=tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ir=tr("rp,rt"),sr=er(ir,rr),or=er(nr,er(rr,tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),er(ir,tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sr),ar=tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ur=tr("srcset"),cr=er(ar,ur,tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lr=tr("script,style,template");class hr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!or.hasOwnProperty(e))return this.sanitizedSomething=!0,!lr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!cr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;ar[s]&&(o=Xn(o)),ur[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Xn(t.trim())).join(", ")),this.buf.push(" ",e,'="',pr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();or.hasOwnProperty(e)&&!nr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(pr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const fr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dr=/([^\#-~ |!])/g;function pr(t){return t.replace(/&/g,"&amp;").replace(fr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(dr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gr;function mr(t,e){let n=null;try{gr=gr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString(Pn(""),"text/html")}catch(t){return!1}}()?new Qn:new Jn(t)}(t);let r=e?String(e):"";n=gr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=gr.getInertBodyElement(r)}while(r!==s);return(new hr).sanitizeChildren(yr(n)||n)}finally{if(n){const t=yr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function yr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var vr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function br(t){const e=wr();return e?e.sanitize(vr.HTML,t)||"":Bn(t,"HTML")?qn(t):mr(Nt(),wt(t))}function _r(t){const e=wr();return e?e.sanitize(vr.URL,t)||"":Bn(t,"URL")?qn(t):Xn(wt(t))}function wr(){const t=Kt();return t&&t[12]}function Er(t){return t.ngDebugContext}function Or(t){return t.ngOriginalError}function Sr(t,...e){t.error(...e)}class Tr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Sr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Er(t)?Er(t):this._findContext(Or(t)):null}_findOriginalError(t){let e=Or(t);for(;e&&Or(e);)e=Or(e);return e}}function Cr(t,e){t.__ngContext__=e}const Ir=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function Ar(t){return t instanceof Function?t():t}var xr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function jr(t,e){return(void 0)(t,e)}function kr(t){const e=t[3];return pt(e)?e[3]:e}function Nr(t){return Pr(t[13])}function Dr(t){return Pr(t[4])}function Pr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Rr(t,e,n,r,i){if(null!=r){let s,o=!1;pt(r)?s=r:dt(r)&&(o=!0,r=r[0]);const a=Rt(r);0===t&&null!==n?null==i?Br(e,n,a):qr(e,n,a,i||null,!0):1===t&&null!==n?qr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Hr(t,e);r&&function(t,e,n,r){Dt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Rt(n)&&Rr(e,t,r,s,i);for(let o=ft;o<n.length;o++){const i=n[o];Qr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Lr(t,e,n){return Dt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Vr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,$t(i,-1)),n.splice(r,1)}function Fr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Vr(s,r),e>0&&(t[n-1][4]=r[4]);const o=mn(t,ft+e);Qr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Mr(t,e){if(!(256&e[2])){const n=e[11];Dt(n)&&n.destroyNode&&Qr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ur(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Ur(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Ur(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ur(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof je)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n){for(let t=0;t<n.length-1;t+=2)if("string"==typeof n[t]){const s=n[t+1],o="function"==typeof s?s(e):Rt(e[s]),a=r[i=n[t+2]],u=n[t+3];"boolean"==typeof u?o.removeEventListener(n[t],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),t+=2}else{const e=r[i=n[t+1]];n[t].call(e)}if(null!==r)for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Dt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Vr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function qr(t,e,n,r,i){Dt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Br(t,e,n){Dt(t)?t.appendChild(e,n):e.appendChild(n)}function zr(t,e,n,r,i){null!==r?qr(t,e,n,r,i):Br(t,e,n)}function Hr(t,e){return Dt(t)?t.parentNode(e):e.parentNode}function $r(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===F.None||e===F.Emulated)return null}return Vt(r,n)}(t,e.parent,n)}(t,r,e),s=e[11],o=function(t,e,n){return function(t,e,n){return 40&t.type?Vt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)zr(s,i,n[a],o,!1);else zr(s,i,n,o,!1)}function Gr(t,e){if(null!==e){const n=e.type;if(3&n)return Vt(e,t);if(4&n)return Wr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Gr(t,n);{const n=t[e.index];return pt(n)?Wr(-1,n):Rt(n)}}if(32&n)return jr(e,t)()||Rt(t[e.index]);{const n=t[16],r=n[6],i=kr(n),s=r.projection[e.projection];return null!=s?Gr(i,s):Gr(t,e.next)}}return null}function Wr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Gr(t,r)}return e[7]}function Kr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Cr(Rt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Kr(t,e,n.child,r,i,s,!1),Rr(e,t,i,a,s);else if(32&u){const o=jr(n,r);let u;for(;u=o();)Rr(e,t,i,u,s);Rr(e,t,i,a,s)}else 16&u?Jr(t,e,r,n,i,s):Rr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Qr(t,e,n,r,i,s){Kr(n,r,t.firstChild,e,i,s,!1)}function Jr(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Rr(e,t,i,a[u],s);else Kr(t,e,a,o[3],i,s,!0)}function Yr(t,e,n){Dt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Zr(t,e,n){Dt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Xr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ti="ng-template";function ei(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Xr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ni(t){return 4===t.type&&t.value!==ti}function ri(t,e,n){return e===(4!==t.type||n?t.value:ti)}function ii(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ne(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!ri(t,u,n)||""===u&&1===e.length){if(si(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ei(t.attrs,c,n)){if(si(r))return!1;o=!0}continue}const l=oi(8&r?"class":u,i,ni(t),n);if(-1===l){if(si(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Xr(e,c,0)||2&r&&c!==t){if(si(r))return!1;o=!0}}}}else{if(!o&&!si(r)&&!si(u))return!1;if(o&&si(u))continue;o=!1,r=u|1&r}}return si(r)||o}function si(t){return 0==(1&t)}function oi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ai(t,e,n=!1){for(let r=0;r<e.length;r++)if(ii(t,e[r],n))return!0;return!1}function ui(t,e){return t?":not("+e.trim()+")":e}function ci(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||si(o)||(e+=ui(s,i),i=""),r=o,s=s||!si(r);n++}return""!==i&&(e+=ui(s,i)),e}const li={};function hi(t){fi(Qt(),Kt(),_e()+t,ne())}function fi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Se(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Te(e,r,0,n)}we(n)}function di(t,e){return t<<17|e<<2}function pi(t){return t>>17&32767}function gi(t){return 2|t}function mi(t){return(131068&t)>>2}function yi(t,e){return-131069&t|e<<2}function vi(t){return 1|t}function bi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];he(i),n.contentQueries(2,e[s],s)}}}function _i(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ht(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function wi(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Zt(),o=te(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Gt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Gt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Xt(s,!0),s}function Ei(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Oi(t,e,n){pe(e);try{const r=t.viewQuery;null!==r&&Xi(1,r,n);const i=t.template;null!==i&&Ci(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&bi(t,e),t.staticViewQueries&&Xi(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Ki(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,be()}}function Si(t,e,n,r){const i=e[2];if(256==(256&i))return;pe(e);const s=ne();try{Ht(e),Gt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ci(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Se(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Te(e,n,0,null),Ce(e,0)}if(function(t){for(let e=Nr(t);null!==e;e=Dr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&$t(r,1),n[2]|=1024}}}(e),function(t){for(let e=Nr(t);null!==e;e=Dr(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];Bt(n)&&Si(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&bi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Se(e,n)}else{const n=t.contentHooks;null!==n&&Te(e,n,1),Ce(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)we(~r);else{const i=r,s=n[++t],o=n[++t];ae(s,i),o(2,e[i])}}}finally{we(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Gi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Xi(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Se(e,n)}else{const n=t.viewHooks;null!==n&&Te(e,n,2),Ce(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,$t(e[3],-1))}finally{be()}}function Ti(t,e,n,r){const i=e[10],s=!ne(),o=qt(e);try{s&&!o&&i.begin&&i.begin(),o&&Oi(t,e,r),Si(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ci(t,e,n,r,i){const s=_e();try{we(-1),2&r&&e.length>ht&&fi(t,e,ht,ne()),n(r,i)}finally{we(s)}}function Ii(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ai(t,e,n){Wt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Be(n,e),Cr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=vt(r);s&&Bi(e,n,r);const u=tn(e,t,a,n);Cr(u,e),null!==o&&zi(0,a-i,u,r,0,o),s&&(Mt(n.index,e)[8]=u)}}(t,e,n,Vt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Gt.lFrame.currentDirectiveIndex;try{we(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ue(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Vi(r,i)}}finally{we(-1),ue(o)}}(t,e,n))}function xi(t,e,n=Vt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ji(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ki(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ki(t,e,n,r,i,s,o,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:li);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ni(t,e,n,r){const i=es(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&ns(t).push(r,i.length-1))}function Di(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Pi(t,e,n,r,i,s,o,a){const u=Vt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(is(t,n,c,r,i),mt(e)&&function(t,e){const n=Mt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Dt(s)?s.setProperty(u,r,i):De(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ri(t,e,n,r){let i=!1;if(Wt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ai(n,o.selectors,!1)&&(i||(i=[]),Ge(Be(n,e),t,o.type),vt(o)?(Fi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Ui(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Ei(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Pe(n.mergedAttrs,c.hostAttrs),qi(t,n,e,u,c),Mi(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ni(e)?null:Hi(n,i);s.push(c),o=Di(n,u,o),a=Di(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new _t("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Pe(n.mergedAttrs,n.attrs),i}function Li(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Vi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Fi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Mi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function Ui(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function qi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=bt(i.type)),o=new je(s,vt(i),null);t.blueprint[r]=o,n[r]=o,Li(t,e,0,r,Ei(t,n,i.hostVars,li),i)}function Bi(t,e,n){const r=Vt(e,t),i=ji(n),s=t[10],o=Qi(t,_i(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function zi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Hi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function $i(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Gi(t,e){const n=Mt(e,t);if(Bt(n)){const t=n[1];80&n[2]?Si(t,n,t.template,n[8]):n[5]>0&&Wi(n)}}function Wi(t){for(let n=Nr(t);null!==n;n=Dr(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Si(t,e,t.template,e[8])}else e[5]>0&&Wi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Mt(e[n],t);Bt(r)&&r[5]>0&&Wi(r)}}function Ki(t,e){const n=Mt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Oi(r,n,n[8])}function Qi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ji(t){for(;t;){t[2]|=64;const e=kr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Yi(t,e,n){const r=e[10];r.begin&&r.begin();try{Si(t,e,t.template,n)}catch(i){throw rs(e,i),i}finally{r.end&&r.end()}}function Zi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ut(n),i=r[1];Ti(i,r,i.template,n)}}(t[8])}function Xi(t,e,n){he(0),e(t,n)}const ts=(()=>Promise.resolve(null))();function es(t){return t[7]||(t[7]=[])}function ns(t){return t.cleanup||(t.cleanup=[])}function rs(t,e){const n=t[9],r=n?n.get(Tr,null):null;r&&r.handleError(e)}function is(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function ss(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=v(i,t):2==s&&(r=v(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const os=new ln("INJECTOR",-1);class as{get(t,e=Sn){if(e===Sn){const e=new Error(`NullInjectorError: No provider for ${y(t)}!`);throw e.name="NullInjectorError",e}return e}}const us=new ln("Set Injector scope."),cs={},ls={},hs=[];let fs=void 0;function ds(){return void 0===fs&&(fs=new as),fs}function ps(t,e=null,n=null,r){return new gs(t,n,e||ds(),r)}class gs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&pn(e,n=>this.processProvider(n,t,e)),pn([t],t=>this.processInjectorType(t,[],i)),this.records.set(os,vs(void 0,this));const s=this.records.get(us);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:y(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Sn,n=N.Default){this.assertNotDestroyed();const r=jn(this);try{if(!(n&N.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof ln)&&T(t);e=n&&this.injectableDefInScope(n)?vs(ms(t),cs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&N.Self?ds():this.parent).get(t,e=n&N.Optional&&e===Sn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(y(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Cn]&&i.unshift(e[Cn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=y(e);if(Array.isArray(e))i=e.map(y).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):y(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Tn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{jn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(y(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=w(t)))return!1;let r=I(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=I(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{pn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];pn(r,t=>this.processProvider(t,n,r||hs))}}this.injectorDefTypes.add(s),this.records.set(s,vs(r.factory,cs));const a=r.providers;if(null!=a&&!o){const e=t;pn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=_s(t=w(t))?t:w(t&&t.provide);const i=function(t,e,n){return bs(t)?vs(void 0,t.useValue):vs(ys(t),cs)}(t);if(_s(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=vs(void 0,cs,!0),e.factory=()=>Dn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===cs&&(e.value=ls,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ms(t){const e=T(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;const r=I(t);if(null!==r)return r.factory;if(t instanceof ln)throw new Error(`Token ${y(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${y(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[A]||t[j]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ys(t,e,n){let r=void 0;if(_s(t)){const e=w(t);return bt(e)||ms(e)}if(bs(t))r=()=>w(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Dn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Nn(w(t.useExisting));else{const e=w(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||ms(e);r=()=>new e(...Dn(t.deps))}var i;return r}function vs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function bs(t){return null!==t&&"object"==typeof t&&In in t}function _s(t){return"function"==typeof t}const ws=function(t,e,n){return function(t,e=null,n=null,r){const i=ps(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Es=(()=>{class t{static create(t,e){return Array.isArray(t)?ws(t,e,""):ws(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Sn,t.NULL=new as,t.\u0275prov=O({token:t,providedIn:"any",factory:()=>Nn(os)}),t.__NG_ELEMENT_ID__=-1,t})();function Os(t,e){Oe(Ut(t)[1],Yt())}function Ss(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ts(t.inputs),e.declaredInputs=Ts(t.declaredInputs),e.outputs=Ts(t.outputs);const n=i.hostBindings;n&&As(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Cs(t,s),o&&Is(t,o),m(t.inputs,i.inputs),m(t.declaredInputs,i.declaredInputs),m(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Ss&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pe(i.hostAttrs,n=Pe(n,i.hostAttrs))}}(r)}function Ts(t){return t===H?{}:t===$?[]:t}function Cs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Is(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function As(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let xs=null;function js(){if(!xs){const t=z.Symbol;if(t&&t.iterator)xs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(xs=n)}}}return xs}class ks{constructor(t){this.wrapped=t}static wrap(t){return new ks(t)}static unwrap(t){return ks.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ks}}function Ns(t){return!!Ds(t)&&(Array.isArray(t)||!(t instanceof Map)&&js()in t)}function Ds(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ps(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Rs(t,e,n,r){const i=Kt();return Ps(i,se(),e)&&(Qt(),function(t,e,n,r,i,s){const o=Vt(t,e);!function(t,e,n,r,i,s,o){if(null==s)Dt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?wt(s):o(s,r||"",i);Dt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(Ee(),i,t,e,n,r)),Rs}function Ls(t,e,n,r,i,s,o,a){const u=Kt(),c=Qt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=wi(e,t,4,o||null,zt(c,a));Ri(e,n,l,zt(c,u)),Oe(e,l);const h=l.tViews=ki(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Xt(h,!1);const f=u[11].createComment("");$r(c,u,f,h),Cr(f,u),Qi(u,u[l]=$i(f,u,f,h)),yt(h)&&Ai(c,u,h),null!=o&&xi(u,h,a)}function Vs(t,e=N.Default){const n=Kt();return null===n?Nn(t,e):Qe(Yt(),n,w(t),e)}function Fs(t,e,n){const r=Kt();return Ps(r,se(),e)&&Pi(Qt(),Ee(),r,t,e,r[11],n,!1),Fs}function Ms(t,e,n,r,i){const s=i?"class":"style";is(t,n,e.inputs[s],s,r)}function Us(t,e,n,r){const i=Kt(),s=Qt(),o=ht+t,a=i[11],u=i[o]=Lr(a,e,Gt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=wi(e,t,2,i,zt(a,s));return Ri(e,n,u,zt(a,o)),null!==u.attrs&&ss(u,u.attrs,!1),null!==u.mergedAttrs&&ss(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];Xt(c,!0);const l=c.mergedAttrs;null!==l&&ke(a,u,l);const h=c.classes;null!==h&&Zr(a,u,h);const f=c.styles;null!==f&&Yr(a,u,f),64!=(64&c.flags)&&$r(s,i,u,c),0===Gt.lFrame.elementDepthCount&&Cr(u,i),Gt.lFrame.elementDepthCount++,yt(c)&&(Ai(s,i,c),Ii(s,c,i)),null!==r&&xi(i,c)}function qs(){let t=Yt();te()?ee():(t=t.parent,Xt(t,!1));const e=t;Gt.lFrame.elementDepthCount--;const n=Qt();n.firstCreatePass&&(Oe(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ms(n,e,Kt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ms(n,e,Kt(),e.stylesWithoutHost,!1)}function Bs(t,e,n,r){Us(t,e,n,r),qs()}function zs(t,e,n){const r=Kt(),i=Qt(),s=t+ht,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=zt(s,r),a=wi(e,t,8,"ng-container",o);return null!==o&&ss(a,o,!0),Ri(e,n,a,zt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Xt(o,!0);const a=r[s]=r[11].createComment("");$r(i,r,a,o),Cr(a,r),yt(o)&&(Ai(i,r,o),Ii(i,o,r)),null!=n&&xi(r,o)}function Hs(){let t=Yt();const e=Qt();te()?ee():(t=t.parent,Xt(t,!1)),e.firstCreatePass&&(Oe(e,t),gt(t)&&e.queries.elementEnd(t))}function $s(){return Kt()}function Gs(t){return!!t&&"function"==typeof t.then}function Ws(t){return!!t&&"function"==typeof t.subscribe}function Ks(t,e,n=!1,r){const i=Kt(),s=Qt(),o=Yt();return function(t,e,n,r,i,s,o=!1,a){const u=yt(r),c=t.firstCreatePass&&ns(t),l=es(e);let h=!0;if(3&r.type){const f=Vt(r,e),d=a?a(f):H,p=d.target||f,g=l.length,m=a?t=>a(Rt(t[r.index])).target:r.index;if(Dt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Js(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,m,g,g+1)}}else s=Js(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,g,o)}else s=Js(r,e,s,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),Ks}function Qs(t,e,n){try{return!1!==e(n)}catch(r){return rs(t,r),!1}}function Js(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Mt(t.index,e):e;0==(32&e[2])&&Ji(o);let a=Qs(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=Qs(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Ys(t=1){return function(t){return(Gt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Gt.lFrame.contextLView))[8]}(t)}const Zs=[];function Xs(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?pi(s):mi(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];to(t[a],e)&&(u=!0,t[a+1]=r?vi(n):gi(n)),a=r?pi(n):mi(n)}u&&(t[n+1]=r?gi(s):vi(s))}function to(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&bn(t,e)>=0}const eo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function no(t){return t.substring(eo.key,eo.keyEnd)}function ro(t,e){const n=eo.textEnd;return n===e?-1:(e=eo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,eo.key=e,n),io(t,e,n))}function io(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function so(t,e,n){return co(t,e,n,!1),so}function oo(t,e){return co(t,e,null,!0),oo}function ao(t){!function(t,e,n,r){const i=Qt(),s=oe(2);i.firstUpdatePass&&ho(i,null,s,r);const o=Kt();if(n!==li&&Ps(o,s,n)){const a=i.data[_e()];if(vo(a,r)&&!lo(i,s)){let t=a.classesWithoutHost;null!==t&&(n=v(t,n||"")),Ms(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===li&&(i=Zs);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let d=null,p=void 0;l===h?(u+=2,c+=2,o!==f&&(d=h,p=f)):null===h||null!==l&&l<h?(u+=2,d=l):(c+=2,d=h,p=f),null!==d&&go(t,e,n,r,d,p,true,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return Zs;const r=[],i=qn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}(yn,uo,t,!0)}function uo(t,e){for(let n=function(t){return function(t){eo.key=0,eo.keyEnd=0,eo.value=0,eo.valueEnd=0,eo.textEnd=t.length}(t),ro(t,io(t,0,eo.textEnd))}(e);n>=0;n=ro(e,n))yn(t,no(e),!0)}function co(t,e,n,r){const i=Kt(),s=Qt(),o=oe(2);s.firstUpdatePass&&ho(s,t,o,r),e!==li&&Ps(i,o,e)&&go(s,s.data[_e()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=y(qn(t)))),t}(e,n),r,o)}function lo(t,e){return e>=t.expandoStartIndex}function ho(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[_e()],o=lo(t,n);vo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=ce(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=po(n=fo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=fo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==mi(r))return t[pi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=fo(null,t,e,n[1],r),n=po(n,e.attrs,r),function(t,e,n,r){t[pi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=po(r,t[s].hostAttrs,n);return po(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=pi(o),u=mi(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||bn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=pi(t[a+1]);t[r+1]=di(e,a),0!==e&&(t[e+1]=yi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=di(a,0),0!==a&&(t[a+1]=yi(t[a+1],r)),a=r;else t[r+1]=di(u,0),0===a?a=r:t[u+1]=yi(t[u+1],r),u=r;l&&(t[r+1]=gi(t[r+1])),Xs(t,c,r,!0),Xs(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&bn(s,e)>=0&&(n[r+1]=vi(n[r+1]))}(e,c,t,r,s),o=di(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function fo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=po(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function po(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),yn(t,o,!!n||e[++s]))}return void 0===t?null:t}function go(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];yo(1==(1&c)?mo(u,e,n,i,mi(c),o):void 0)||(yo(s)||2==(2&c)&&(s=mo(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Dt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:xr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=xr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Lt(_e(),n),i,s))}function mo(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===li&&(l=c?Zs:void 0);let h=c?vn(l,r):u===r?l:void 0;if(s&&!yo(h)&&(h=vn(e,r)),yo(h)&&(a=h,o))return a;const f=t[i+1];i=o?pi(f):mi(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=vn(t,r))}return a}function yo(t){return void 0!==t}function vo(t,e){return 0!=(t.flags&(e?16:32))}function bo(t,e=""){const n=Kt(),r=Qt(),i=t+ht,s=r.firstCreatePass?wi(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Dt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);$r(r,n,o,s),Xt(s,!1)}function _o(t){return wo("",t,""),_o}function wo(t,e,n){const r=Kt(),i=function(t,e,n,r){return Ps(t,se(),n)?e+wt(n)+r:li}(r,t,e,n);return i!==li&&function(t,e,n){const r=Lt(e,t);!function(t,e,n){Dt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,_e(),i),wo}function Eo(t,e,n){const r=Kt();return Ps(r,se(),e)&&Pi(Qt(),Ee(),r,t,e,r[11],n,!0),Eo}function Oo(t,e,n){const r=Kt();if(Ps(r,se(),e)){const i=Qt(),s=Ee();Pi(i,s,r,t,e,function(t,e,n){return(null===t||vt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}(ce(i.data),s,r),n,!0)}return Oo}const So=void 0;var To=["en",[["a","p"],["AM","PM"],So],[["AM","PM"],So,So],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],So,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],So,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",So,"{1} 'at' {0}",So],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Co={};function Io(t,e,n){"string"!=typeof e&&(n=e,e=t[No.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Co[e]=t,n&&(Co[e][No.ExtraData]=n)}function Ao(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ko(e);if(n)return n;const r=e.split("-")[0];if(n=ko(r),n)return n;if("en"===r)return To;throw new Error(`Missing locale data for the locale "${t}".`)}function xo(t){return Ao(t)[No.CurrencyCode]||null}function jo(t){return Ao(t)[No.PluralCase]}function ko(t){return t in Co||(Co[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),Co[t]}var No=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Do="en-US";let Po=Do;function Ro(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Po=t.toLowerCase().replace(/_/g,"-"))}function Lo(t,e,n,r,i){if(t=w(t),Array.isArray(t))for(let s=0;s<t.length;s++)Lo(t[s],e,n,r,i);else{const s=Qt(),o=Kt();let a=_s(t)?t:w(t.provide),u=ys(t);const c=Yt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(_s(t)||!t.multi){const r=new je(u,i,Vs),d=Mo(a,e,i?l:l+f,h);-1===d?(Ge(Be(c,o),s,a),Vo(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=Mo(a,e,l+f,h),p=Mo(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){Ge(Be(c,o),s,a);const l=function(t,e,n,r,i){const s=new je(t,n,Vs);return s.multi=[],s.index=e,s.componentProviders=0,Fo(s,i,r&&!n),s}(i?qo:Uo,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Vo(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Vo(s,t,d>-1?d:p,Fo(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Vo(t,e,n,r){const i=_s(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Fo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Mo(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Uo(t,e,n,r){return Bo(this.multi,[])}function qo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=tn(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Bo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Bo(i,s);return s}function Bo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function zo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Qt();if(r.firstCreatePass){const i=vt(t);Lo(n,r.data,r.blueprint,i,!0),Lo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Ho{}class $o{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${y(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Go=(()=>{class t{}return t.NULL=new $o,t})();function Wo(...t){}function Ko(t,e){return new Jo(Vt(t,e))}const Qo=function(){return Ko(Yt(),Kt())};let Jo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Qo,t})();class Yo{}let Zo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Xo(),t})();const Xo=function(){const t=Kt(),e=Mt(Yt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let ta=(()=>{class t{}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>null}),t})();class ea{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const na=new ea("11.0.4");class ra{constructor(){}supports(t){return Ns(t)}create(t){return new sa(t)}}const ia=(t,e)=>e;class sa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ia}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<ca(n,r,i)?e:n,o=ca(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ns(t))throw new Error(`Error trying to diff '${y(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[js()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new oa(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ua),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ua),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class oa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ua{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new aa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ca(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class la{constructor(){}supports(t){return t instanceof Map||Ds(t)}create(){return new ha}}class ha{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ds(t)))throw new Error(`Error trying to diff '${y(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new fa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class fa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let da=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new On,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>new t([new ra])}),t})(),pa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new On,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>new t([new la])}),t})();function ga(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Rt(s)),pt(s))for(let t=ft;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&ga(e[1],e,n,r)}const o=n.type;if(8&o)ga(t,e,n.child,r);else if(32&o){const t=jr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=kr(t);ga(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class ma{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return ga(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Mr(this._lView[1],this._lView)}onDestroy(t){Ni(this._lView[1],this._lView,null,t)}markForCheck(){Ji(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){re(!0);try{Yi(t,e,n)}finally{re(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Qr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ya extends ma{constructor(t){super(t),this._view=t}detectChanges(){Zi(this._view)}checkNoChanges(){!function(t){re(!0);try{Zi(t)}finally{re(!1)}}(this._view)}get context(){return null}}const va=_a;let ba=(()=>{class t{}return t.__NG_ELEMENT_ID__=va,t.__ChangeDetectorRef__=!0,t})();function _a(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Mt(t.index,e);return new ma(n,n)}return 47&t.type?new ma(e[16],e):null}(Yt(),Kt(),t)}const wa=[new la],Ea=new da([new ra]),Oa=new pa(wa),Sa=function(){return Aa(Yt(),Kt())};let Ta=(()=>{class t{}return t.__NG_ELEMENT_ID__=Sa,t})();const Ca=Ta,Ia=class extends Ca{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=_i(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Oi(e,n,t),new ma(n)}};function Aa(t,e){return 4&t.type?new Ia(e,t,Ko(t,e)):null}class xa{}class ja{}const ka=function(){return Va(Yt(),Kt())};let Na=(()=>{class t{}return t.__NG_ELEMENT_ID__=ka,t})();const Da=Na,Pa=class extends Da{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ko(this._hostTNode,this._hostLView)}get injector(){return new rn(this._hostTNode,this._hostLView)}get parentInjector(){const t=$e(this._hostTNode,this._hostLView);if(Le(t)){const e=Fe(t,this._hostLView),n=Ve(t);return new rn(e[1].data[n+8],e)}return new rn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ra(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(xa,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Pa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ft+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ft?(e[4]=n[i],gn(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Wr(i,s),a=n[11],u=Hr(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Qr(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(this),gn(La(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ra(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Fr(this._lContainer,e);n&&(mn(La(this._lContainer),e),Mr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Fr(this._lContainer,e);return n&&null!=mn(La(this._lContainer),e)?new ma(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ra(t){return t[8]}function La(t){return t[8]||(t[8]=[])}function Va(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Rt(r);else{const n=e[11];i=n.createComment("");const r=Vt(t,e);qr(n,Hr(n,r),i,function(t,e){return Dt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=$i(r,e,i,t),Qi(e,n)}return new Pa(n,t,e)}const Fa={};class Ma extends Go{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new Ba(e,this.ngModule)}}function Ua(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const qa=new ln("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ir});class Ba extends Ho{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ci).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ua(this.componentDef.inputs)}get outputs(){return Ua(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Fa,i);return s!==Fa||r===Fa?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Yo,Pt),o=i.get(ta,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Dt(t))return t.selectRootElement(e,n===F.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Lr(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Ir,clean:ts,playerHandler:null,flags:0},f=ki(0,null,null,1,0,null,null,null,null,null),d=_i(null,f,h,l,null,null,s,a,o,i);let p,g;pe(d);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=wi(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(ss(a,u,!0),null!==t&&(ke(i,t,u),null!==a.classes&&Zr(i,t,a.classes),null!==a.styles&&Yr(i,t,a.styles)));const c=r.createRenderer(t,e),l=_i(n,ji(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(Ge(Be(a,n),o,e.type),Fi(o,a),Ui(a,n.length,1)),Qi(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)ke(a,c,["ng-version",na.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!si(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&ke(a,c,t),e&&e.length>0&&Zr(a,c,e.join(" "))}if(g=Ft(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Yt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),qi(t,r,e,Ei(t,e,1,null),n));const i=tn(e,t,r.directiveStart,r);Cr(i,e);const s=Vt(r,e);return s&&Cr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Yt();e.contentQueries(1,o,t.directiveStart)}const a=Yt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(we(a.index),Li(n[1],a,0,a.directiveStart,a.directiveEnd,e),Vi(e,o)),o}(t,this.componentDef,d,h,[Os]),Oi(f,d,null)}finally{be()}return new za(this.componentType,p,Ko(g,d),d,g)}}class za extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ya(r),this.componentType=t}get injector(){return new rn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ha=new Map;class $a extends xa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ma(this);const n=lt(t),r=t[J]||null;r&&Ro(r),this._bootstrapComponents=Ar(n.bootstrap),this._r3Injector=ps(t,e,[{provide:xa,useValue:this},{provide:Go,useValue:this.componentFactoryResolver}],y(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Es.THROW_IF_NOT_FOUND,n=N.Default){return t===Es||t===xa||t===os?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ga extends ja{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${y(e)} vs ${y(e.name)}`)}(i,Ha.get(i),n),Ha.set(i,n));const s=Ar(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new $a(this.moduleType,t)}}function Wa(t,e,n,r){return Ka(Kt(),ie(),t,e,n,r)}function Ka(t,e,n,r,i,s){const o=e+n;return Ps(t,o,i)?function(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===li?void 0:n}(t,o+1)}function Qa(t,e){const n=Qt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new _t("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=bt(r.type)),o=P(Vs);try{const t=Ue(!1),e=s();return Ue(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Kt(),i,e),e}finally{P(o)}}function Ja(t,e,n){const r=t+ht,i=Kt(),s=function(t,e){return t[e]}(i,r);return function(t,e){return ks.isWrapped(e)&&(e=ks.unwrap(e),t[Gt.lFrame.bindingIndex]=li),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?Ka(i,ie(),e,s.transform,n,s):s.transform(n))}const Ya=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function Za(){return this._results[js()]()}class Xa{constructor(){this.dirty=!0,this._results=[],this.changes=new Ya,this.length=0;const t=js(),e=Xa.prototype;e[t]||(e[t]=Za)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=dn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class tu{constructor(t){this.queryList=t,this.matches=null}clone(){return new tu(this.queryList)}setDirty(){this.queryList.setDirty()}}class eu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new eu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==fu(t,e).matches&&this.queries[e].setDirty()}}class nu{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class ru{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new ru(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class iu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new iu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,su(e,i)),this.matchTNodeWithReadOption(t,e,Xe(e,t,i,!1,!1))}else n===Ta?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Xe(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Jo||r===Na||r===Ta&&4&e.type)this.addMatch(e.index,-2);else{const n=Xe(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function su(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function ou(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ko(t,e):4&t.type?Aa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Jo?Ko(e,t):n===Ta?Aa(e,t):n===Na?Va(e,t):void 0}(t,e,r):tn(t,t[1],n,e)}function au(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:ou(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function uu(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=au(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ft;t<o.length;t++){const e=o[t];e[17]===e[3]&&uu(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];uu(n[1],n,i,r)}}}}}return r}function cu(t){const e=Kt(),n=Qt(),r=le();he(r+1);const i=fu(n,r);if(t.dirty&&qt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?uu(n,e,r,[]):au(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function lu(t,e,n,r){!function(t,e,n,r,i,s,o,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new ru),t.queries.track(new iu(e,n))}(t,new nu(n,r,false,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new Xa;Ni(t,e,n,n.destroy),null===e[19]&&(e[19]=new eu),e[19].queries.push(new tu(n))}(t,e)}(Qt(),Kt(),e,n,r,0,Yt(),t)}function hu(){return t=Kt(),e=le(),t[19].queries[e].queryList;var t,e}function fu(t,e){return t.queries.getByIndex(e)}function du(t=N.Default){const e=_a(!0);if(null!=e||t&N.Optional)return e;Ot("ChangeDetectorRef")}const pu=new ln("Application Initializer");let gu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Wo,this.reject=Wo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Gs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Nn(pu,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const mu=new ln("AppId"),yu={provide:mu,useFactory:function(){return`${vu()}${vu()}${vu()}`},deps:[]};function vu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bu=new ln("Platform Initializer"),_u=new ln("Platform ID"),wu=new ln("appBootstrapListener");let Eu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const Ou=new ln("LocaleId"),Su=new ln("DefaultCurrencyCode");class Tu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Cu=function(t){return new Ga(t)},Iu=Cu,Au=function(t){return Promise.resolve(Cu(t))},xu=function(t){const e=Cu(t),n=Ar(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new Ba(n)),t},[]);return new Tu(e,n)},ju=xu,ku=function(t){return Promise.resolve(xu(t))};let Nu=(()=>{class t{constructor(){this.compileModuleSync=Iu,this.compileModuleAsync=Au,this.compileModuleAndAllComponentsSync=ju,this.compileModuleAndAllComponentsAsync=ku}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const Du=(()=>Promise.resolve(0))();function Pu(t){"undefined"==typeof Zone?Du.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ru{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ya(!1),this.onMicrotaskEmpty=new Ya(!1),this.onStable=new Ya(!1),this.onError=new Ya(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Fu(t),Vu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Fu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Mu(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Uu(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Mu(t),e.invoke(r,i,s,o,a)}finally{Uu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Fu(t),Vu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ru.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ru.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Lu,Wo,Wo);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Lu={};function Vu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Fu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Mu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Uu(t){t._nesting--,Vu(t)}class qu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ya,this.onMicrotaskEmpty=new Ya,this.onStable=new Ya,this.onError=new Ya}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Bu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ru.assertNotInAngularZone(),Pu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Nn(Ru))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),zu=(()=>{class t{constructor(){this._applications=new Map,Wu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Wu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();class Hu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function $u(t){Wu=t}let Gu,Wu=new Hu,Ku=!0,Qu=!1;function Ju(){return Qu=!0,Ku}function Yu(){if(Qu)throw new Error("Cannot enable prod mode after platform setup.");Ku=!1}const Zu=new ln("AllowMultipleToken");class Xu{constructor(t,e){this.name=t,this.token=e}}function tc(t,e,n=[]){const r="Platform: "+e,i=new ln(r);return(e=[])=>{let s=ec();if(!s||s.injector.get(Zu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:us,useValue:"platform"});!function(t){if(Gu&&!Gu.destroyed&&!Gu.injector.get(Zu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Gu=t.get(nc);const e=t.get(bu,null);e&&e.forEach(t=>t())}(Es.create({providers:t,name:r}))}return function(t){const e=ec();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ec(){return Gu&&!Gu.destroyed?Gu:null}let nc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new qu:("zone.js"===t?void 0:t)||new Ru({enableLongStackTrace:Ju(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Ru,useValue:n}];return n.run(()=>{const e=Es.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Tr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{sc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Gs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(gu);return t.runInitializers(),t.donePromise.then(()=>(Ro(i.injector.get(Ou,Do)||Do),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=rc({},e);return function(t,e,n){const r=new Ga(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(ic);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${y(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Nn(Es))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function rc(t,e){return Array.isArray(e)?e.reduce(rc,t):Object.assign(Object.assign({},t),e)}let ic=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ru.assertNotInAngularZone(),Pu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ru.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ho?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(xa),i=n.create(Es.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(Bu,null),a=o&&i.injector.get(zu);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),sc(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),Ju()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;sc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(wu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Nn(Ru),Nn(Eu),Nn(Es),Nn(Tr),Nn(Go),Nn(gu))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function sc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class oc{}class ac{}const uc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let cc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||uc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>lc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>lc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Nn(Nu),Nn(ac,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function lc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const hc=function(t){return null},fc=tc(null,"core",[{provide:_u,useValue:"unknown"},{provide:nc,deps:[Es]},{provide:zu,deps:[]},{provide:Eu,deps:[]}]),dc=[{provide:ic,useClass:ic,deps:[Ru,Eu,Es,Tr,Go,gu]},{provide:qa,deps:[Ru],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:gu,useClass:gu,deps:[[new wn,pu]]},{provide:Nu,useClass:Nu,deps:[]},yu,{provide:da,useFactory:function(){return Ea},deps:[]},{provide:pa,useFactory:function(){return Oa},deps:[]},{provide:Ou,useFactory:function(t){return Ro(t=t||"undefined"!=typeof $localize&&$localize.locale||Do),t},deps:[[new _n(Ou),new wn,new On]]},{provide:Su,useValue:"USD"}];let pc=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=S({factory:function(e){return new(e||t)(Nn(ic))},providers:dc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},os0x:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("os0x");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?v(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new m(i,a,r);return u},t}();function v(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function O(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return C}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return S}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),_=new u.O("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&O("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:w,deps:[v,u.z,[new u.A,b]]};let C=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Hb({type:t}),t.\u0275inj=u.Gb({factory:function(e){return new(e||t)(u.Sb(u.B))},providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,s=n("os0x"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(s.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyBLmXNAnZWB2sTmpxbpO9jptn7xdspVdfA",authDomain:"empleados-6f308.firebaseapp.com",projectId:"empleados-6f308",storageBucket:"empleados-6f308.appspot.com",messagingSenderId:"236768629086",appId:"1:236768629086:web:4d160140f315879684ffcf"};let s=null;function o(){return s}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Sb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Sb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Sb)(a).location;return new _(Object(r.Sb)(u),e&&e.origin||"")}const b=new r.q("appBaseHref");let _=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(u),r.Sb(b,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(u),r.Sb(b,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(y),r.Sb(u))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Fb)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new E(Object(r.Sb)(y),Object(r.Sb)(u))}function S(t){return t.replace(/\/index.html$/,"")}const T={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var C=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),I=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),A=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function x(t,e){const n=Object(r.ib)(t),i=n[r.Z.NumberSymbols][e];if(void 0===i){if(e===A.CurrencyDecimal)return n[r.Z.NumberSymbols][A.Decimal];if(e===A.CurrencyGroup)return n[r.Z.NumberSymbols][A.Group]}return i}const j=r.lb,k=/^(\d+)?\.((\d+)(-(\d+))?)?$/,N=".",D="0";function P(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class R{}let L=(()=>{class t extends R{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(j(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.u))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class V{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let F=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new V(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new M(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new M(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.P),r.Jb(r.K),r.Jb(r.s))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class M{constructor(t,e){this.record=t,this.view=e}}let U=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new q,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){B("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){B("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.P),r.Jb(r.K))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class q{constructor(){this.$implicit=null,this.ngIf=null}}function B(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}let z=(()=>{class t{constructor(t,e="USD"){this._locale=t,this._defaultCurrencyCode=e}transform(e,n,i="symbol",s,o){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=n||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function(t,e,n="en"){const i=function(t){return Object(r.ib)(t)[r.Z.Currencies]}(n)[t]||T[t]||[],s=i[1];return"narrow"===e&&"string"==typeof s?s:i[0]||t}(a,"symbol"===i?"wide":"narrow",o):i);try{return function(t,e,n,i,s){const o=function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(N)?i.split(N):[i.substring(0,i.lastIndexOf(D)+1),i.substring(i.lastIndexOf(D)+1)],a=o[0],u=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);t===D?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const t=i.length-n.posPre.length-n.posSuf.length,e=s.indexOf("#");n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.ib)(t)[r.Z.NumberFormats][e]}(e,C.Currency),x(e,A.MinusSign));return o.minFrac=function(t){let e;const n=T[t];return n&&(e=n[2]),"number"==typeof e?e:2}(i),o.maxFrac=o.minFrac,function(t,e,n,r,i,s,o=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,s,o=Math.abs(t)+"",a=0;for((n=o.indexOf(N))>-1&&(o=o.replace(N,"")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;o.charAt(r)===D;r++);if(r===(s=o.length))e=[0],n=1;else{for(s--;o.charAt(s)===D;)s--;for(n-=r,e=[],i=0;r<=s;r++,i++)e[i]=Number(o.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);o&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,f=e.maxFrac;if(s){const t=s.match(k);if(null===t)throw new Error(s+" is not a valid digit info");const e=t[1],n=t[3],r=t[5];null!=e&&(l=P(e)),null!=n&&(h=P(n)),null!=r?f=P(r):null!=n&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let t=o;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let t=1;t<o;t++)r[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=e+t.integerLen,l=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,h,f);let d=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(u=d.every(t=>!t);p<l;p++)d.unshift(0);for(;p<0;p++)d.unshift(0);p>0?m=d.splice(p,d.length):(m=d,d=[0]);const y=[];for(d.length>=e.lgSize&&y.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)y.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&y.unshift(d.join("")),a=y.join(x(n,r)),m.length&&(a+=x(n,i)+m.join("")),g&&(a+=x(n,A.Exponential)+"+"+g)}else a=x(n,A.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,o,e,A.CurrencyGroup,A.CurrencyDecimal,s).replace("\xa4",n).replace("\xa4","").trim()}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(e),o,a,n,s)}catch(u){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.tb)(t)}'`)}(t,u.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.u),r.Jb(r.k))},t.\u0275pipe=r.Ib({name:"currency",type:t,pure:!0}),t})(),H=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[{provide:R,useClass:L}]}),t})();function $(t){return"server"===t}let G=(()=>{class t{}return t.\u0275prov=Object(r.Fb)({token:t,providedIn:"root",factory:()=>new W(Object(r.Sb)(a),window,Object(r.Sb)(r.m))}),t})();class W{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=K(this.window.history)||K(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function K(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Q extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Q,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Y||(Y=document.querySelector("base"),Y)?Y.getAttribute("href"):null;return null==e?null:(n=e,J||(J=document.createElement("a")),J.setAttribute("href",n),"/"===J.pathname.charAt(0)?J.pathname:"/"+J.pathname);var n}resetBaseElement(){Y=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let J,Y=null;const Z=new r.q("TRANSITION_ID"),X=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Z,a,r.r],multi:!0}];class tt{static init(){Object(r.W)(new tt)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const et=new r.q("EventManagerPlugins");let nt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(et),r.Sb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class rt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let it=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),st=(()=>{class t extends it{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},at=/%COMP%/g;function ut(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ut(t,i,n):(i=i.replace(at,t),n.push(i))}return n}function ct(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let lt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ht(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ft(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new dt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ut(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(nt),r.Sb(st),r.Sb(r.c))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class ht{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ot[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=ot[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=ot[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ct(n)):this.eventManager.addEventListener(t,e,ct(n))}}class ft extends ht{constructor(t,e,n,r){super(t),this.component=n;const i=ut(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(at,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(at,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class dt extends ht{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=ut(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let pt=(()=>{class t extends rt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const gt=["alt","control","meta","shift"],mt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let bt=(()=>{class t extends rt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(gt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&yt.hasOwnProperty(e)&&(e=yt[e]))}return mt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),gt.forEach(r=>{r!=n&&(0,vt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),_t=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:function(){return Object(r.Sb)(wt)},token:t,providedIn:"root"}),t})(),wt=(()=>{class t extends _t{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.H.NONE:return e;case r.H.HTML:return Object(r.cb)(e,"HTML")?Object(r.ub)(e):Object(r.ab)(this._doc,String(e));case r.H.STYLE:return Object(r.cb)(e,"Style")?Object(r.ub)(e):e;case r.H.SCRIPT:if(Object(r.cb)(e,"Script"))return Object(r.ub)(e);throw new Error("unsafe value used in a script context");case r.H.URL:return Object(r.mb)(e),Object(r.cb)(e,"URL")?Object(r.ub)(e):Object(r.bb)(String(e));case r.H.RESOURCE_URL:if(Object(r.cb)(e,"ResourceURL"))return Object(r.ub)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.db)(t)}bypassSecurityTrustStyle(t){return Object(r.gb)(t)}bypassSecurityTrustScript(t){return Object(r.fb)(t)}bypassSecurityTrustUrl(t){return Object(r.hb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.eb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:function(){return t=Object(r.Sb)(r.o),new wt(t.get(a));var t},token:t,providedIn:"root"}),t})();const Et=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){Q.makeCurrent(),tt.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],Ot=Object(r.R)(r.V,"browser",Et),St=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:et,useClass:pt,multi:!0,deps:[a,r.z,r.B]},{provide:et,useClass:bt,multi:!0,deps:[a]},[],{provide:lt,useClass:lt,deps:[nt,st,r.c]},{provide:r.E,useExisting:lt},{provide:it,useExisting:st},{provide:st,useClass:st,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:nt,useClass:nt,deps:[et,r.z]},[]];let Tt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Z,useExisting:r.c},X]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Sb(t,12))},providers:St,imports:[H,r.f]}),t})();"undefined"!=typeof window&&window;var Ct=n("LRne"),It=n("Cfvw"),At=n("XNiG"),xt=n("9ppp");class jt extends At.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new xt.a;return this._value}next(t){super.next(this._value=t)}}var kt=n("z+Ro"),Nt=n("DH7j"),Dt=n("7o/Q");class Pt extends Dt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Rt extends Dt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Lt=n("SeVD"),Vt=n("HDdC");function Ft(t,e,n,r,i=new Rt(t,n,r)){if(!i.closed)return e instanceof Vt.a?e.subscribe(i):Object(Lt.a)(e)(i)}var Mt=n("yCtX");const Ut={};class qt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Bt(t,this.resultSelector))}}class Bt extends Pt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ut),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Ft(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Ut?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const zt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Ht=n("EY2u");function $t(t){return new Vt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(It.a)(n):Object(Ht.b)()).subscribe(e)})}var Gt=n("lJxs"),Wt=n("bHdf");function Kt(){return Object(Wt.a)(1)}function Qt(t,e){return function(n){return n.lift(new Jt(t,e))}}class Jt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Yt(t,this.predicate,this.thisArg))}}class Yt extends Dt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Zt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Xt(t){return function(e){return 0===t?Object(Ht.b)():e.lift(new te(t))}}class te{constructor(t){if(this.total=t,this.total<0)throw new Zt}call(t,e){return e.subscribe(new ee(t,this.total))}}class ee extends Dt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ne(t=se){return e=>e.lift(new re(t))}class re{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ie(t,this.errorFactory))}}class ie extends Dt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function se(){return new zt}function oe(t=null){return e=>e.lift(new ae(t))}class ae{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ue(t,this.defaultValue))}}class ue extends Dt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ce=n("SpAZ"),le=n("zx2A");function he(t,e){return"function"==typeof e?n=>n.pipe(he((n,r)=>Object(It.a)(t(n,r)).pipe(Object(Gt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new fe(t))}class fe{constructor(t){this.project=t}call(t,e){return e.subscribe(new de(t,this.project))}}class de extends le.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new le.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(le.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function pe(t){return e=>0===t?Object(Ht.b)():e.lift(new ge(t))}class ge{constructor(t){if(this.total=t,this.total<0)throw new Zt}call(t,e){return e.subscribe(new me(t,this.total))}}class me extends Dt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function ye(...t){return Kt()(Object(Ct.a)(...t))}function ve(...t){const e=t[t.length-1];return Object(kt.a)(e)?(t.pop(),n=>ye(t,n,e)):e=>ye(t,e)}function be(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new _e(t,e,n))}}class _e{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new we(t,this.accumulator,this.seed,this.hasSeed))}}class we extends Dt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ee(t){return function(e){const n=new Oe(t),r=e.lift(n);return n.caught=r}}class Oe{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Se(t,this.selector,this.caught))}}class Se extends le.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new le.a(this);this.add(r);const i=Object(le.c)(n,r);i!==r&&this.add(i)}}}var Te=n("5+tZ");function Ce(t,e){return Object(Te.a)(t,e,1)}function Ie(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Qt((e,n)=>t(e,n,r)):ce.a,pe(1),n?oe(e):ne(()=>new zt))}var Ae=n("vkgz"),xe=n("quSY");class je{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ke(t,this.callback))}}class ke extends Dt.a{constructor(t,e){super(t),this.add(new xe.a(e))}}class Ne{constructor(t,e){this.id=t,this.url=e}}class De extends Ne{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pe extends Ne{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Re extends Ne{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Le extends Ne{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ve extends Ne{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fe extends Ne{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Me extends Ne{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ue extends Ne{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qe extends Ne{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Be{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ze{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class He{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $e{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ge{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class We{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ke{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Qe="primary";class Je{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ye(t){return new Je(t)}function Ze(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Xe(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function tn(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!en(t[i],e[i]))return!1;return!0}function en(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function nn(t){return Array.prototype.concat.apply([],t)}function rn(t){return t.length>0?t[t.length-1]:null}function sn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function on(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(It.a)(Promise.resolve(t)):Object(Ct.a)(t)}function an(t,e,n){return n?function(t,e){return tn(t,e)}(t.queryParams,e.queryParams)&&un(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>en(t[n],e[n]))}(t.queryParams,e.queryParams)&&cn(t.root,e.root)}function un(t,e){if(!pn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!un(t.children[n],e.children[n]))return!1}return!0}function cn(t,e){return ln(t,e,e.segments)}function ln(t,e,n){if(t.segments.length>n.length)return!!pn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!pn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!cn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!pn(t.segments,r)&&!!t.children.primary&&ln(t.children.primary,e,i)}}class hn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ye(this.queryParams)),this._queryParamMap}toString(){return vn.serialize(this)}}class fn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,sn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bn(this)}}class dn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ye(this.parameters)),this._parameterMap}toString(){return Cn(this)}}function pn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function gn(t,e){let n=[];return sn(t.children,(t,r)=>{r===Qe&&(n=n.concat(e(t,r)))}),sn(t.children,(t,r)=>{r!==Qe&&(n=n.concat(e(t,r)))}),n}class mn{}class yn{parse(t){const e=new kn(t);return new hn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+_n(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${En(e)}=${En(t)}`).join("&"):`${En(e)}=${En(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const vn=new yn;function bn(t){return t.segments.map(t=>Cn(t)).join("/")}function _n(t,e){if(!t.hasChildren())return bn(t);if(e){const e=t.children.primary?_n(t.children.primary,!1):"",n=[];return sn(t.children,(t,e)=>{e!==Qe&&n.push(`${e}:${_n(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=gn(t,(e,n)=>n===Qe?[_n(t.children.primary,!1)]:[`${n}:${_n(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${bn(t)}/${e[0]}`:`${bn(t)}/(${e.join("//")})`}}function wn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function En(t){return wn(t).replace(/%3B/gi,";")}function On(t){return wn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sn(t){return decodeURIComponent(t)}function Tn(t){return Sn(t.replace(/\+/g,"%20"))}function Cn(t){return`${On(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${On(t)}=${On(e[t])}`).join("")}`;var e}const In=/^[^\/()?;=#]+/;function An(t){const e=t.match(In);return e?e[0]:""}const xn=/^[^=?&#]+/,jn=/^[^?&#]+/;class kn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new fn(t,e)),n}parseSegment(){const t=An(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new dn(Sn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=An(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=An(this.remaining);t&&(n=t,this.capture(n))}t[Sn(e)]=Sn(n)}parseQueryParam(t){const e=function(t){const e=t.match(xn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(jn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Tn(e),i=Tn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=An(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Qe);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new fn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Nn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Dn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Dn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Pn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Pn(t,this._root).map(t=>t.value)}}function Dn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Dn(t,n);if(e)return e}return null}function Pn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Pn(t,n);if(r.length)return r.unshift(e),r}return[]}class Rn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ln(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Vn extends Nn{constructor(t,e){super(t),this.snapshot=e,zn(this,t)}toString(){return this.snapshot.toString()}}function Fn(t,e){const n=function(t,e){const n=new qn([],{},{},"",{},Qe,e,null,t.root,-1,{});return new Bn("",new Rn(n,[]))}(t,e),r=new jt([new dn("",{})]),i=new jt({}),s=new jt({}),o=new jt({}),a=new jt(""),u=new Mn(r,i,o,a,s,Qe,e,n.root);return u.snapshot=n.root,new Vn(new Rn(u,[]),n)}class Mn{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Gt.a)(t=>Ye(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Gt.a)(t=>Ye(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Un(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class qn{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ye(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ye(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bn extends Nn{constructor(t,e){super(e),this.url=t,zn(this,e)}toString(){return Hn(this._root)}}function zn(t,e){e.value._routerState=t,e.children.forEach(e=>zn(t,e))}function Hn(t){const e=t.children.length>0?` { ${t.children.map(Hn).join(", ")} } `:"";return`${t.value}${e}`}function $n(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,tn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),tn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!tn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),tn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Gn(t,e){return tn(t.params,e.params)&&function(t,e){return pn(t,e)&&t.every((t,n)=>tn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Gn(t.parent,e.parent))}function Wn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Wn(t,e,r);return Wn(t,e)})}(t,e,n);return new Rn(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Kn(e,t),t}{const n=new Mn(new jt((r=e.value).url),new jt(r.params),new jt(r.queryParams),new jt(r.fragment),new jt(r.data),r.outlet,r.component,r),i=e.children.map(e=>Wn(t,e));return new Rn(n,i)}}var r}function Kn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Kn(t.children[n],e.children[n])}function Qn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Jn(t){return"object"==typeof t&&null!=t&&t.outlets}function Yn(t,e,n,r,i){let s={};return r&&sn(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new hn(n.root===t?e:Zn(n.root,t,e),s,i)}function Zn(t,e,n){const r={};return sn(t.children,(t,i)=>{r[i]=t===e?n:Zn(t,e,n)}),new fn(t.segments,r)}class Xn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Qn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Jn);if(r&&r!==rn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class tr{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function er(t,e,n){if(t||(t=new fn([],{})),0===t.segments.length&&t.hasChildren())return nr(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Jn(o))break;const a=""+o,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!or(a,u,e))return s;r+=2}else{if(!or(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new fn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new fn(t.segments.slice(r.pathIndex),t.children),nr(e,0,i)}return r.match&&0===i.length?new fn(t.segments,{}):r.match&&!t.hasChildren()?rr(t,e,n):r.match?nr(t,0,i):rr(t,e,n)}function nr(t,e,n){if(0===n.length)return new fn(t.segments,{});{const r=function(t){return Jn(t[0])?t[0].outlets:{[Qe]:t}}(n),i={};return sn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=er(t.children[r],e,n))}),sn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new fn(t.segments,i)}}function rr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Jn(s)){const t=ir(s.outlets);return new fn(r,t)}if(0===i&&Qn(n[0])){r.push(new dn(t.segments[e].path,n[0])),i++;continue}const o=Jn(s)?s.outlets.primary:""+s,a=i<n.length-1?n[i+1]:null;o&&a&&Qn(a)?(r.push(new dn(o,sr(a))),i+=2):(r.push(new dn(o,{})),i++)}return new fn(r,{})}function ir(t){const e={};return sn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=rr(new fn([],{}),0,t))}),e}function sr(t){const e={};return sn(t,(t,n)=>e[n]=""+t),e}function or(t,e,n){return t==n.path&&tn(e,n.parameters)}class ar{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),$n(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Ln(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),sn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Ln(t),i=t.value.component?n.children:e;sn(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Ln(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new We(t.value.snapshot))}),t.children.length&&this.forwardEvent(new $e(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if($n(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ur(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ur(t){$n(t.value),t.children.forEach(ur)}class cr{constructor(t,e){this.routes=t,this.module=e}}function lr(t){return"function"==typeof t}function hr(t){return t instanceof hn}const fr=Symbol("INITIAL_VALUE");function dr(){return he(t=>function(...t){let e=void 0,n=void 0;return Object(kt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Nt.a)(t[0])&&(t=t[0]),Object(Mt.a)(t,n).lift(new qt(e))}(...t.map(t=>t.pipe(pe(1),ve(fr)))).pipe(be((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==fr)return t;if(r===fr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||hr(r))return r}return t},t)},fr),Qt(t=>t!==fr),Object(Gt.a)(t=>hr(t)?t:!0===t),pe(1)))}let pr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Kb(0,"router-outlet")},directives:function(){return[oi]},encapsulation:2}),t})();function gr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];mr(r,yr(e,r))}}function mr(t,e){t.children&&gr(t.children,e)}function yr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function vr(t){const e=t.children&&t.children.map(vr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Qe&&(n.component=pr),n}function br(t){return t.outlet||Qe}class _r{constructor(t){this.segmentGroup=t||null}}class wr{constructor(t){this.urlTree=t}}function Er(t){return new Vt.a(e=>e.error(new _r(t)))}function Or(t){return new Vt.a(e=>e.error(new wr(t)))}function Sr(t){return new Vt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Tr{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Qe).pipe(Object(Gt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ee(t=>{if(t instanceof wr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof _r)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Qe).pipe(Object(Gt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Ee(t=>{if(t instanceof _r)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new fn([],{[Qe]:t}):t;return new hn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Gt.a)(t=>new fn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Ct.a)({});const n=[],r=[],i={};return sn(t,(t,s)=>{const o=e(s,t).pipe(Object(Gt.a)(t=>i[s]=t));s===Qe?n.push(o):r.push(o)}),Ct.a.apply(null,n.concat(r)).pipe(Kt(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Qt((e,n)=>t(e,n,r)):ce.a,Xt(1),n?oe(e):ne(()=>new zt))}(),Object(Gt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){const o=function(t){return t.reduce((t,e)=>{const n=br(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);o.has(i)||o.set(i,[]);const a=n=>Object(It.a)(n).pipe(Ce(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(Ee(t=>{if(t instanceof _r)return Object(Ct.a)(null);throw t}))),Ie(t=>null!==t),Ee(t=>{if(t instanceof zt||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Ct.a)(new fn([],{}));throw new _r(e)}throw t})),u=Array.from(o.entries()).map(([t,e])=>{const n=a(e);return t===i?n:n.pipe(Object(Gt.a)(()=>null),Ee(()=>Object(Ct.a)(null)))});return Object(It.a)(u).pipe(t=>t.lift(new qt(void 0)),Ie(),Object(Gt.a)(t=>t.find(t=>null!==t)))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return br(r)!==s&&""!==r.path?Er(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Er(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Or(i):this.lineralizeSegments(n,i).pipe(Object(Te.a)(n=>{const i=new fn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Cr(e,r,i);if(!o)return Er(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Or(l):this.lineralizeSegments(r,l).pipe(Object(Te.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Gt.a)(t=>(n._loadedConfig=t,new fn(r,{})))):Object(Ct.a)(new fn(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=Cr(e,n,r);if(!i)return Er(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(Te.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Ar(t,e,n)&&br(n)!==Qe)}(t,n,r)?{segmentGroup:Ir(new fn(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&br(r)!==Qe&&(n[br(r)]=new fn([],{}));return n}(r,new fn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Ar(t,e,n))}(t,n,r)?{segmentGroup:Ir(new fn(t.segments,function(t,e,n,r){const i={};for(const s of n)Ar(t,e,s)&&!r[br(s)]&&(i[br(s)]=new fn([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Gt.a)(t=>new fn(s,t))):0===r.length&&0===o.length?Object(Ct.a)(new fn(s,{})):this.expandSegment(n,i,r,o,Qe,!0).pipe(Object(Gt.a)(t=>new fn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Ct.a)(new cr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ct.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Te.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Gt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Vt.a(e=>e.error(Ze(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Ct.a)(new cr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Ct.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&lr(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!lr(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return on(s)});return Object(Ct.a)(i).pipe(dr(),Object(Ae.a)(t=>{if(!hr(t))return;const e=Ze(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Gt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ct.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Sr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new hn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return sn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return sn(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new fn(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Cr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Xe)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Ir(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new fn(t.segments.concat(e.segments),e.children)}return t}function Ar(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class xr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class jr{constructor(t,e){this.component=t,this.route=e}}function kr(t,e,n){const r=t._root;return Dr(r,e?e._root:null,n,[r.value])}function Nr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Dr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ln(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!pn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!pn(t.url,e.url)||!tn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gn(t,e)||!tn(t.queryParams,e.queryParams);case"paramsChange":default:return!Gn(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new xr(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Dr(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new jr(a.outlet.component,o))}else o&&Pr(e,a,i),i.canActivateChecks.push(new xr(r)),Dr(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),sn(s,(t,e)=>Pr(t,n.getContext(e),i)),i}function Pr(t,e,n){const r=Ln(t),i=t.value;sn(r,(t,r)=>{Pr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new jr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Rr(t,e){return null!==t&&e&&e(new Ge(t)),Object(Ct.a)(!0)}function Lr(t,e){return null!==t&&e&&e(new He(t)),Object(Ct.a)(!0)}function Vr(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ct.a)(!0);const i=r.map(r=>$t(()=>{const i=Nr(r,e,n);let s;if(function(t){return t&&lr(t.canActivate)}(i))s=on(i.canActivate(e,t));else{if(!lr(i))throw new Error("Invalid CanActivate guard");s=on(i(e,t))}return s.pipe(Ie())}));return Object(Ct.a)(i).pipe(dr())}function Fr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>$t(()=>{const i=e.guards.map(i=>{const s=Nr(i,e.node,n);let o;if(function(t){return t&&lr(t.canActivateChild)}(s))o=on(s.canActivateChild(r,t));else{if(!lr(s))throw new Error("Invalid CanActivateChild guard");o=on(s(r,t))}return o.pipe(Ie())});return Object(Ct.a)(i).pipe(dr())}));return Object(Ct.a)(i).pipe(dr())}class Mr{}class Ur{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=zr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Qe),n=new qn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qe,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Rn(n,e),i=new Bn(this.url,r);return this.inheritParamsAndData(i._root),Object(Ct.a)(i)}catch(t){return new Vt.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Un(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=gn(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===Qe?-1:e.value.outlet===Qe?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof Mr))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Mr}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Mr;if((t.outlet||Qe)!==r)throw new Mr;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?rn(n).parameters:{};i=new qn(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$r(t),r,t.component,t,qr(e),Br(e)+n.length,Gr(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Mr;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Xe)(n,t,e);if(!r)throw new Mr;const i={};sn(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new qn(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$r(t),r,t.component,t,qr(e),Br(e)+s.length,Gr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=zr(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Rn(i,t)]}if(0===a.length&&0===c.length)return[new Rn(i,[])];const l=this.processSegment(a,u,c,Qe);return[new Rn(i,l)]}}function qr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Br(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function zr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Hr(t,e,n)&&br(n)!==Qe)}(t,n,r)){const i=new fn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&br(s)!==Qe){const n=new fn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[br(s)]=n}return i}(t,e,r,new fn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Hr(t,e,n))}(t,n,r)){const s=new fn(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Hr(t,n,a)&&!i[br(a)]){const n=new fn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[br(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new fn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Hr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function $r(t){return t.data||{}}function Gr(t){return t.resolve||{}}function Wr(t){return function(e){return e.pipe(he(e=>{const n=t(e);return n?Object(It.a)(n).pipe(Object(Gt.a)(()=>e)):Object(It.a)([e])}))}}class Kr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Qr=new r.q("ROUTES");class Jr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Gt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new cr(nn(r.injector.get(Qr)).map(vr),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(It.a)(this.loader.load(t)):on(t()).pipe(Object(Te.a)(t=>t instanceof r.v?Object(Ct.a)(t):Object(It.a)(this.compiler.compileModuleAsync(t))))}}class Yr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Zr,this.attachRef=null}}class Zr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Yr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Xr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ti(t){throw t}function ei(t,e,n){return e.parse("/")}function ni(t,e){return Object(Ct.a)(null)}let ri=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new At.a,this.errorHandler=ti,this.malformedUriErrorHandler=ei,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ni,afterPreactivation:ni},this.urlHandlingStrategy=new Xr,this.routeReuseStrategy=new Kr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.x),this.console=s.get(r.X);const c=s.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new hn(new fn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Jr(o,a,t=>this.triggerEvent(new Be(t)),t=>this.triggerEvent(new ze(t))),this.routerState=Fn(this.currentUrlTree,this.rootComponentType),this.transitions=new jt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Qt(t=>0!==t.id),Object(Gt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),he(t=>{let n=!1,r=!1;return Object(Ct.a)(t).pipe(Object(Ae.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),he(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ct.a)(t).pipe(he(t=>{const n=this.transitions.getValue();return e.next(new De(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ht.a:[t]}),he(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(he(t=>function(t,e,n,r,i){return new Tr(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(Gt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Ae.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(Te.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new Ur(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(Gt.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Ae.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Ae.a)(t=>{const n=new Ve(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new De(n,this.serializeUrl(r),i,s);e.next(a);const u=Fn(r,this.rootComponentType).snapshot;return Object(Ct.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ht.a}),Wr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Ae.a)(t=>{const e=new Fe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Gt.a)(t=>Object.assign(Object.assign({},t),{guards:kr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Te.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Ct.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(It.a)(t).pipe(Object(Te.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Ct.a)(!0);const o=s.map(s=>{const o=Nr(s,e,i);let a;if(function(t){return t&&lr(t.canDeactivate)}(o))a=on(o.canDeactivate(t,e,n,r));else{if(!lr(o))throw new Error("Invalid CanDeactivate guard");a=on(o(t,e,n,r))}return a.pipe(Ie())});return Object(Ct.a)(o).pipe(dr())}(t.component,t.route,n,e,r)),Ie(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(Te.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(It.a)(e).pipe(Ce(e=>Object(It.a)([Lr(e.route.parent,r),Rr(e.route,r),Fr(t,e.path,n),Vr(t,e.route,n)]).pipe(Kt(),Ie(t=>!0!==t,!0))),Ie(t=>!0!==t,!0))}(r,s,t,e):Object(Ct.a)(n)),Object(Gt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Ae.a)(t=>{if(hr(t.guardsResult)){const e=Ze(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Ae.a)(t=>{const e=new Me(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Qt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Re(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Wr(t=>{if(t.guards.canActivateChecks.length)return Object(Ct.a)(t).pipe(Object(Ae.a)(t=>{const e=new Ue(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),he(t=>{let n=!1;return Object(Ct.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(Te.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Ct.a)(t);let s=0;return Object(It.a)(n).pipe(Ce(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Ct.a)({});const s={};return Object(It.a)(i).pipe(Object(Te.a)(i=>function(t,e,n,r){const i=Nr(t,e,r);return on(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Ae.a)(t=>{s[i]=t}))),Xt(1),Object(Te.a)(()=>Object.keys(s).length===i.length?Object(Ct.a)(s):Ht.a))}(t._resolve,t,e,r).pipe(Object(Gt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Un(t,n).resolve),null)))}(t.route,e,r,i)),Object(Ae.a)(()=>s++),Xt(1),Object(Te.a)(e=>s===n.length?Object(Ct.a)(t):Ht.a))}))}),Object(Ae.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Re(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Ae.a)(t=>{const e=new qe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Wr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Gt.a)(t=>{const e=function(t,e,n){const r=Wn(t,e._root,n?n._root:void 0);return new Vn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Ae.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Gt.a)(t=>(new ar(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(Ae.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Re(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new je(i))),Ee(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=hr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Re(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Le(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Mh){t.reject(Mh)}}var i;return Ht.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){gr(t),this.config=t.map(vr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Yn(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Xn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return sn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Xn(n,e,r)}(n);if(s.toRoot())return Yn(e.root,new fn([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new tr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new tr(t,t===e.root,0)}const r=Qn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new tr(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?nr(o.segmentGroup,o.index,s.commands):er(o.segmentGroup,o.index,s.commands);return Yn(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=hr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(hr(t))return an(this.currentUrlTree,t,e);const n=this.parseUrl(t);return an(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Pe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.M),r.Sb(mn),r.Sb(Zr),r.Sb(E),r.Sb(r.r),r.Sb(r.w),r.Sb(r.i),r.Sb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),ii=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new At.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:si(this.skipLocationChange),replaceUrl:si(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:si(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ri),r.Jb(Mn),r.Tb("tabindex"),r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Vb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function si(t){return""===t||!!t}let oi=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Qe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ai(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Zr),r.Jb(r.P),r.Jb(r.j),r.Tb("name"),r.Jb(r.h))},t.\u0275dir=r.Eb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ai{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Mn?this.route:t===Zr?this.childContexts:this.parent.get(t,e)}}class ui{}class ci{preload(t,e){return Object(Ct.a)(null)}}let li=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Jr(e,n,e=>t.triggerEvent(new Be(e)),e=>t.triggerEvent(new ze(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Qt(t=>t instanceof Pe),Ce(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(It.a)(n).pipe(Object(Wt.a)(),Object(Gt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Te.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(ri),r.Sb(r.w),r.Sb(r.i),r.Sb(r.r),r.Sb(ui))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),hi=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof De?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Pe&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ke&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Ke(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(ri),r.Sb(G),r.Sb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const fi=new r.q("ROUTER_CONFIGURATION"),di=new r.q("ROUTER_FORROOT_GUARD"),pi=[E,{provide:mn,useClass:yn},{provide:ri,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new ri(null,t,e,n,r,i,s,nn(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[mn,Zr,E,r.r,r.w,r.i,Qr,fi,[class{},new r.A],[class{},new r.A]]},Zr,{provide:Mn,useFactory:function(t){return t.routerState.root},deps:[ri]},{provide:r.w,useClass:r.J},li,ci,class{preload(t,e){return e().pipe(Ee(()=>Object(Ct.a)(null)))}},{provide:fi,useValue:{enableTracing:!1}}];function gi(){return new r.y("Router",ri)}let mi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[pi,_i(e),{provide:di,useFactory:bi,deps:[[ri,new r.A,new r.I]]},{provide:fi,useValue:n||{}},{provide:y,useFactory:vi,deps:[u,[new r.p(b),new r.A],fi]},{provide:hi,useFactory:yi,deps:[ri,G,fi]},{provide:ui,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ci},{provide:r.y,multi:!0,useFactory:gi},[wi,{provide:r.d,multi:!0,useFactory:Ei,deps:[wi]},{provide:Si,useFactory:Oi,deps:[wi]},{provide:r.b,multi:!0,useExisting:Si}]]}}static forChild(e){return{ngModule:t,providers:[_i(e)]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Sb(di,8),r.Sb(ri,8))}}),t})();function yi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new hi(t,e,n)}function vi(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function bi(t){return"guarded"}function _i(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Qr,multi:!0,useValue:t}]}let wi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new At.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ri),r=this.injector.get(fi);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Ct.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(fi),n=this.injector.get(li),i=this.injector.get(hi),s=this.injector.get(ri),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.r))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();function Ei(t){return t.appInitializer.bind(t)}function Oi(t){return t.bootstrapListener.bind(t)}const Si=new r.q("Router Initializer");var Ti=n("XoHu");function Ci(t,e){return new Vt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(It.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Ii=new r.q("NgValueAccessor"),Ai={provide:Ii,useExisting:Object(r.T)(()=>xi),multi:!0};let xi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([Ai])]}),t})();const ji={provide:Ii,useExisting:Object(r.T)(()=>Ni),multi:!0},ki=new r.q("CompositionEventMode");let Ni=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l),r.Jb(ki,8))},t.\u0275dir=r.Eb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Vb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([ji])]}),t})();function Di(t){return null==t||0===t.length}function Pi(t){return null!=t&&"number"==typeof t.length}const Ri=new r.q("NgValidators"),Li=new r.q("NgAsyncValidators"),Vi=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Fi{static min(t){return e=>{if(Di(e.value)||Di(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Di(e.value)||Di(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Di(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Di(t.value)||Vi.test(t.value)?null:{email:!0}}static minLength(t){return e=>Di(e.value)||!Pi(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Pi(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Fi.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Di(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Mi);return 0==e.length?null:function(t){return qi(Bi(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Mi);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Nt.a)(e))return Ci(e,null);if(Object(Ti.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ci(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ci(t=1===t.length&&Object(Nt.a)(t[0])?t[0]:t,null).pipe(Object(Gt.a)(t=>e(...t)))}return Ci(t,null)}(Bi(t,e).map(Ui)).pipe(Object(Gt.a)(qi))}}}function Mi(t){return null!=t}function Ui(t){const e=Object(r.qb)(t)?Object(It.a)(t):t;return Object(r.pb)(e),e}function qi(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Bi(t,e){return e.map(e=>e(t))}function zi(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Hi(t){return null!=t?Fi.compose(zi(t)):null}function $i(t){return null!=t?Fi.composeAsync(zi(t)):null}function Gi(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Wi(t){return t._rawValidators}function Ki(t){return t._rawAsyncValidators}let Qi=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Hi(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=$i(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t}),t})(),Ji=(()=>{class t extends Qi{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Yi(e||t)},t.\u0275dir=r.Eb({type:t,features:[r.vb]}),t})();const Yi=r.Qb(Ji);class Zi extends Qi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xi{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let ts=(()=>{class t extends Xi{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Zi,2))},t.\u0275dir=r.Eb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),es=(()=>{class t extends Xi{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Ji,2))},t.\u0275dir=r.Eb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const ns={provide:Ii,useExisting:Object(r.T)(()=>rs),multi:!0};let rs=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([ns])]}),t})();const is={provide:Ii,useExisting:Object(r.T)(()=>os),multi:!0};let ss=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),os=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Zi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l),r.Jb(ss),r.Jb(r.r))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([is])]}),t})();const as={provide:Ii,useExisting:Object(r.T)(()=>us),multi:!0};let us=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([as])]}),t})();const cs={provide:Ii,useExisting:Object(r.T)(()=>ls),multi:!0};let ls=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([cs])]}),t})();const hs={provide:Ii,useExisting:Object(r.T)(()=>fs),multi:!0};let fs=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([hs])]}),t})();function ds(t,e){gs(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ys(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ys(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function ps(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function gs(t,e,n){const r=Wi(t);null!==e.validator?t.setValidators(Gi(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Ki(t);if(null!==e.asyncValidator?t.setAsyncValidators(Gi(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();ps(e._rawValidators,n),ps(e._rawAsyncValidators,n)}}function ms(t,e,n){if(null!==t){if(null!==e.validator){const n=Wi(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=Ki(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};ps(e._rawValidators,t),ps(e._rawAsyncValidators,t)}}function ys(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function vs(t,e){gs(t,e,!1)}const bs=[xi,us,rs,ls,fs,os];function _s(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ws="VALID",Es="INVALID",Os="PENDING",Ss="DISABLED";function Ts(t){return(xs(t)?t.validators:t)||null}function Cs(t){return Array.isArray(t)?Hi(t):t||null}function Is(t,e){return(xs(e)?e.asyncValidators:t)||null}function As(t){return Array.isArray(t)?$i(t):t||null}function xs(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class js{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Cs(this._rawValidators),this._composedAsyncValidatorFn=As(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ws}get invalid(){return this.status===Es}get pending(){return this.status==Os}get disabled(){return this.status===Ss}get enabled(){return this.status!==Ss}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Cs(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=As(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Os,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ss,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ws,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==ws&&this.status!==Os||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ss:ws}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Os,this._hasOwnPendingAsyncValidator=!0;const e=Ui(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Ns?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ds&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Ss:this.errors?Es:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Os)?Os:this._anyControlsHaveStatus(Es)?Es:ws}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){xs(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ks extends js{constructor(t=null,e,n){super(Ts(e),Is(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){_s(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){_s(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ns extends js{constructor(t,e,n){super(Ts(e),Is(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ks?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ds extends js{constructor(t,e,n){super(Ts(e),Is(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ks?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let Ps=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Rs=new r.q("NgModelWithFormControlWarning"),Ls={provide:Ji,useExisting:Object(r.T)(()=>Vs)};let Vs=(()=>{class t extends Ji{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return ds(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){_s(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);vs(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);vs(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),ms(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&ds(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gs(this.form,this,!1),this._oldForm&&ms(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Ri,10),r.Jb(Li,10))},t.\u0275dir=r.Eb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Vb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([Ls]),r.vb,r.wb]}),t})();const Fs={provide:Zi,useExisting:Object(r.T)(()=>Ms)};let Ms=(()=>{class t extends Zi{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Ni?n=t:(e=t,bs.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Ji,13),r.Jb(Ri,10),r.Jb(Li,10),r.Jb(Ii,10),r.Jb(Rs,8))},t.\u0275dir=r.Eb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.xb([Fs]),r.vb,r.wb]}),t._ngModelWarningSentOnce=!1,t})();const Us={provide:Ri,useExisting:Object(r.T)(()=>qs),multi:!0};let qs=(()=>{class t{constructor(){this._validator=Fi.nullValidator}ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Fi.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.zb("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[r.xb([Us]),r.wb]}),t})(),Bs=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})(),zs=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Ns(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new ks(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Ds(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof ks||t instanceof Ns||t instanceof Ds?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Hs=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Rs,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[zs,ss],imports:[Bs]}),t})();var $s=n("D0XW");function Gs(){return t=>t.lift(new Ws)}class Ws{call(t,e){return e.subscribe(new Ks(t))}}class Ks extends Dt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Qs{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Js(t,this.compare,this.keySelector))}}class Js extends Dt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Ys=n("pxpQ"),Zs=n("spgP"),Xs=n("Jgta"),to=n("os0x"),eo=n("zIRd"),no=n("q/0M"),ro=n("qOnz"),io=function(t,e){return(io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function so(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var oo,ao="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},uo=uo||{},co=ao||self;function lo(){}function ho(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function fo(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var po="closure_uid_"+(1e9*Math.random()>>>0),go=0;function mo(t,e,n){return t.call.apply(t.bind,arguments)}function yo(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function vo(t,e,n){return(vo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mo:yo).apply(null,arguments)}function bo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function _o(){return Date.now()}function wo(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Eo(){this.j=this.j,this.i=this.i}Eo.prototype.j=!1,Eo.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,po)&&t[po]||(t[po]=++go)}(this)},Eo.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Oo=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},So=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function To(t){return Array.prototype.concat.apply([],arguments)}function Co(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Io(t){return/^[\s\xa0]*$/.test(t)}var Ao,xo=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function jo(t,e){return-1!=t.indexOf(e)}function ko(t,e){return t<e?-1:t>e?1:0}t:{var No=co.navigator;if(No){var Do=No.userAgent;if(Do){Ao=Do;break t}}Ao=""}function Po(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ro(t){var e={};for(var n in t)e[n]=t[n];return e}var Lo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vo(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Lo.length;s++)n=Lo[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Fo(t){return Fo[" "](t),t}Fo[" "]=lo;var Mo,Uo,qo=jo(Ao,"Opera"),Bo=jo(Ao,"Trident")||jo(Ao,"MSIE"),zo=jo(Ao,"Edge"),Ho=zo||Bo,$o=jo(Ao,"Gecko")&&!(jo(Ao.toLowerCase(),"webkit")&&!jo(Ao,"Edge"))&&!(jo(Ao,"Trident")||jo(Ao,"MSIE"))&&!jo(Ao,"Edge"),Go=jo(Ao.toLowerCase(),"webkit")&&!jo(Ao,"Edge");function Wo(){var t=co.document;return t?t.documentMode:void 0}t:{var Ko="",Qo=(Uo=Ao,$o?/rv:([^\);]+)(\)|;)/.exec(Uo):zo?/Edge\/([\d\.]+)/.exec(Uo):Bo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Uo):Go?/WebKit\/(\S+)/.exec(Uo):qo?/(?:Version)[ \/]?(\S+)/.exec(Uo):void 0);if(Qo&&(Ko=Qo?Qo[1]:""),Bo){var Jo=Wo();if(null!=Jo&&Jo>parseFloat(Ko)){Mo=String(Jo);break t}}Mo=Ko}var Yo={};function Zo(t){return function(t,e){var n=Yo;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=xo(String(Mo)).split("."),r=xo(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=ko(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||ko(0==o[2].length,0==a[2].length)||ko(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var Xo=co.document&&Bo&&(Wo()||parseInt(Mo,10))||void 0,ta=!Bo||9<=Number(Xo),ea=Bo&&!Zo("9"),na=function(){if(!co.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{co.addEventListener("test",lo,e),co.removeEventListener("test",lo,e)}catch(n){}return t}();function ra(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ia(t,e){if(ra.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if($o){t:{try{Fo(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:sa[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ra.prototype.b=function(){this.defaultPrevented=!0},wo(ia,ra);var sa={2:"touch",3:"pen",4:"mouse"};ia.prototype.b=function(){ia.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ea)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var oa="closure_listenable_"+(1e6*Math.random()|0),aa=0;function ua(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++aa,this.Y=this.Z=!1}function ca(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function la(t){this.src=t,this.a={},this.b=0}function ha(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Oo(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ca(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function fa(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}la.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=fa(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new ua(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var da="closure_lm_"+(1e6*Math.random()|0),pa={};function ga(t,e,n,r,i){if(r&&r.once)return ya(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ga(t,e[s],n,r,i);return null}return n=Ta(n),t&&t[oa]?t.va(e,n,fo(r)?!!r.capture:!!r,i):ma(t,e,n,!1,r,i)}function ma(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=fo(i)?!!i.capture:!!i;if(o&&!ta)return null;var a=Oa(t);if(a||(t[da]=a=new la(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Ea,e=ta?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)na||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_a(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ya(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ya(t,e[s],n,r,i);return null}return n=Ta(n),t&&t[oa]?t.wa(e,n,fo(r)?!!r.capture:!!r,i):ma(t,e,n,!0,r,i)}function va(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)va(t,e[s],n,r,i);else r=fo(r)?!!r.capture:!!r,n=Ta(n),t&&t[oa]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=fa(s=t.a[e],n,r,i))&&(ca(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Oa(t))&&(e=t.a[e.toString()],t=-1,e&&(t=fa(e,n,r,i)),(n=-1<t?e[t]:null)&&ba(n))}function ba(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[oa])ha(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_a(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Oa(e))?(ha(n,t),0==n.b&&(n.src=null,e[da]=null)):ca(t)}}}function _a(t){return t in pa?pa[t]:pa[t]="on"+t}function wa(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ba(t),n.call(r,e)}function Ea(t,e){if(t.Y)return!0;if(!ta){if(!e)t:{e=["window","event"];for(var n=co,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return wa(t,e=new ia(e,this))}return wa(t,new ia(e,this))}function Oa(t){return(t=t[da])instanceof la?t:null}var Sa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ta(t){return"function"==typeof t?t:(t[Sa]||(t[Sa]=function(e){return t.handleEvent(e)}),t[Sa])}function Ca(){Eo.call(this),this.c=new la(this),this.J=this,this.C=null}function Ia(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ra(e,t);else if(e instanceof ra)e.target=e.target||t;else{var i=e;Vo(e=new ra(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=Aa(o,r,!0,e)&&i}if(i=Aa(o=e.a=t,r,!0,e)&&i,i=Aa(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Aa(o=e.a=n[s],r,!1,e)&&i}function Aa(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&ha(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}wo(Ca,Eo),Ca.prototype[oa]=!0,(oo=Ca.prototype).addEventListener=function(t,e,n,r){ga(this,t,e,n,r)},oo.removeEventListener=function(t,e,n,r){va(this,t,e,n,r)},oo.G=function(){if(Ca.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ca(n[r]);delete e.a[t],e.b--}}this.C=null},oo.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},oo.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var xa=co.JSON.stringify;function ja(){this.b=this.a=null}var ka,Na=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Pa},function(t){t.reset()});function Da(){var t=Fa,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Pa(){this.next=this.b=this.a=null}function Ra(t){co.setTimeout(function(){throw t},0)}function La(t,e){ka||function(){var t=co.Promise.resolve(void 0);ka=function(){t.then(Ma)}}(),Va||(ka(),Va=!0),Fa.add(t,e)}ja.prototype.add=function(t,e){var n=Na.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Pa.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Pa.prototype.reset=function(){this.next=this.b=this.a=null};var Va=!1,Fa=new ja;function Ma(){for(var t;t=Da();){try{t.a.call(t.b)}catch(n){Ra(n)}var e=Na;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Va=!1}function Ua(t,e){Ca.call(this),this.b=t||1,this.a=e||co,this.f=vo(this.Za,this),this.g=_o()}function qa(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ba(t,e,n){if("function"==typeof t)n&&(t=vo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=vo(t.handleEvent,t)}return 2147483647<Number(e)?-1:co.setTimeout(t,e||0)}function za(t){t.a=Ba(function(){t.a=null,t.c&&(t.c=!1,za(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}wo(Ua,Ca),(oo=Ua.prototype).aa=!1,oo.M=null,oo.Za=function(){if(this.aa){var t=_o()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ia(this,"tick"),this.aa&&(qa(this),this.start()))}},oo.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=_o())},oo.G=function(){Ua.X.G.call(this),qa(this),delete this.a};var Ha=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}io(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:za(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(co.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Eo);function $a(t){Eo.call(this),this.b=t,this.a={}}wo($a,Eo);var Ga=[];function Wa(t,e,n,r){Array.isArray(n)||(n&&(Ga[0]=n.toString()),n=Ga);for(var i=0;i<n.length;i++){var s=ga(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Ka(t){Po(t.a,function(t,e){this.a.hasOwnProperty(e)&&ba(t)},t),t.a={}}function Qa(){this.a=!0}function Ja(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return xa(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}$a.prototype.G=function(){$a.X.G.call(this),Ka(this)},$a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qa.prototype.info=function(){};var Ya={},Za=null;function Xa(){return Za=Za||new Ca}function tu(t){ra.call(this,Ya.Fa,t)}function eu(t){var e=Xa();Ia(e,new tu(e,t))}function nu(t,e){ra.call(this,Ya.STAT_EVENT,t),this.stat=e}function ru(t){var e=Xa();Ia(e,new nu(e,t))}function iu(t){ra.call(this,Ya.Ga,t)}function su(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return co.setTimeout(function(){t()},e)}Ya.Fa="serverreachability",wo(tu,ra),Ya.STAT_EVENT="statevent",wo(nu,ra),Ya.Ga="timingevent",wo(iu,ra);var ou={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},au={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function uu(){}function cu(){}uu.prototype.a=null;var lu,hu={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function fu(){ra.call(this,"d")}function du(){ra.call(this,"c")}function pu(){}function gu(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new $a(this),this.P=mu,this.R=new Ua(t=Ho?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}wo(fu,ra),wo(du,ra),wo(pu,uu),lu=new pu;var mu=45e3,yu={},vu={};function bu(t,e,n){t.H=1,t.i=qu(Ru(e)),t.j=n,t.I=!0,_u(t,null)}function _u(t,e){t.u=_o(),Ou(t),t.l=Ru(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),tc(n.b,"t",r),t.D=0,t.a=Kc(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ha(vo(t.Ca,t,t.a),t.O)),Wa(t.J,t.a,"readystatechange",t.Xa),e=t.B?Ro(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),eu(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function wu(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Eu(t,n);if(i==vu){4==e&&(t.h=4,ru(14),r=!1),Ja(t.c,t.f,null,"[Incomplete Response]");break}if(i==yu){t.h=4,ru(15),Ja(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Ja(t.c,t.f,i,null),Au(t,i)}4==e&&0==n.length&&(t.h=1,ru(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Uc(e),e.F=!0,ru(11))):(Ja(t.c,t.f,n,"[Invalid Chunked Response]"),Iu(t),Cu(t))}function Eu(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?vu:(n=Number(e.substring(n,r)),isNaN(n)?yu:(r+=1)+n>e.length?vu:(e=e.substr(r,n),t.D=r+n,e))}function Ou(t){t.T=_o()+t.P,Su(t,t.P)}function Su(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=su(vo(t.Va,t),e)}function Tu(t){t.o&&(co.clearTimeout(t.o),t.o=null)}function Cu(t){0==t.g.v||t.A||zc(t.g,t)}function Iu(t){Tu(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,qa(t.R),Ka(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Au(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||ac(n.b,t)))if(n.I=t.N,!t.C&&ac(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Vb){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Bc(n),kc(n)}Mc(n),ru(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=su(vo(n.Sa,n),6e3));if(1>=oc(n.b)&&n.ea){try{n.ea()}catch(Vb){}n.ea=void 0}}else $c(n,11)}else if((t.C||n.a==t)&&Bc(n),!Io(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(jo(l,"spdy")||jo(l,"quic")||jo(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(uc(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Uu(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=_o()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Wc(u,u.C?u.ga:null,u.fa),d.C){cc(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Tu(p),Ou(p)),u.a=d}else Fc(u);0<n.g.length&&Pc(n)}else"stop"!=i[0]&&"close"!=i[0]||$c(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?$c(n,7):jc(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);eu(4)}catch(Vb){}}function xu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ho(t)||"string"==typeof t)So(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ho(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ho(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function ju(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ju)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ku(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Nu(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Nu(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Nu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(oo=gu.prototype).setTimeout=function(t){this.P=t},oo.Xa=function(t){t=t.target;var e=this.F;e&&3==Cc(t)?e.f():this.Ca(t)},oo.Ca=function(t){try{if(t==this.a)t:{var e=Cc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Ho&&!this.a.$())){this.A||4!=e||7==n||eu(8==n||0>=r?3:2),Tu(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Io(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,ru(12),Iu(this),Cu(this);break t}Ja(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Au(this,u)}this.I?(wu(this,e,s),Ho&&this.b&&3==e&&(Wa(this.J,this.R,"tick",this.Wa),this.R.start())):(Ja(this.c,this.f,s,null),Au(this,s)),4==e&&Iu(this),this.b&&!this.A&&(4==e?zc(this.g,this):(this.b=!1,Ou(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,ru(12)):(this.h=0,ru(13)),Iu(this),Cu(this)}}}catch(c){}},oo.Wa=function(){if(this.a){var t=Cc(this.a),e=this.a.$();this.D<e.length&&(Tu(this),wu(this,t,e),this.b&&4!=t&&Ou(this))}},oo.cancel=function(){this.A=!0,Iu(this)},oo.Va=function(){this.o=null;var t=_o();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(eu(3),ru(17)),Iu(this),this.h=2,Cu(this)):Su(this,this.T-t)},(oo=ju.prototype).K=function(){ku(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},oo.L=function(){return ku(this),this.a.concat()},oo.get=function(t,e){return Nu(this.b,t)?this.b[t]:e},oo.set=function(t,e){Nu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},oo.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Du=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Pu){this.a=void 0!==e?e:t.a,Lu(this,t.f),this.j=t.j,Vu(this,t.c),Fu(this,t.h),this.g=t.g,e=t.b;var n=new Ju;n.c=e.c,e.a&&(n.a=new ju(e.a),n.b=e.b),Mu(this,n),this.i=t.i}else t&&(n=String(t).match(Du))?(this.a=!!e,Lu(this,n[1]||"",!0),this.j=Bu(n[2]||""),Vu(this,n[3]||"",!0),Fu(this,n[4]),this.g=Bu(n[5]||"",!0),Mu(this,n[6]||"",!0),this.i=Bu(n[7]||"")):(this.a=!!e,this.b=new Ju(null,this.a))}function Ru(t){return new Pu(t)}function Lu(t,e,n){t.f=n?Bu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Vu(t,e,n){t.c=n?Bu(e,!0):e}function Fu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Mu(t,e,n){e instanceof Ju?(t.b=e,function(t,e){e&&!t.f&&(Yu(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Zu(this,e),tc(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=zu(e,Ku)),t.b=new Ju(e,t.a))}function Uu(t,e,n){t.b.set(e,n)}function qu(t){return Uu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_o()).toString(36)),t}function Bu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Hu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Hu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(zu(e,$u,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(zu(e,$u,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(zu(n,"/"==n.charAt(0)?Wu:Gu,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",zu(n,Qu)),t.join("")};var $u=/[#\/\?@]/g,Gu=/[#\?:]/g,Wu=/[#\?]/g,Ku=/[#\?@]/g,Qu=/#/g;function Ju(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Yu(t){t.a||(t.a=new ju,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Zu(t,e){Yu(t),e=ec(t,e),Nu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Nu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ku(t)))}function Xu(t,e){return Yu(t),e=ec(t,e),Nu(t.a.b,e)}function tc(t,e,n){Zu(t,e),0<n.length&&(t.c=null,t.a.set(ec(t,e),Co(n)),t.b+=n.length)}function ec(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(oo=Ju.prototype).add=function(t,e){Yu(this),this.c=null,t=ec(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},oo.forEach=function(t,e){Yu(this),this.a.forEach(function(n,r){So(n,function(n){t.call(e,n,r,this)},this)},this)},oo.L=function(){Yu(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},oo.K=function(t){Yu(this);var e=[];if("string"==typeof t)Xu(this,t)&&(e=To(e,this.a.get(ec(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=To(e,t[n])}return e},oo.set=function(t,e){return Yu(this),this.c=null,Xu(this,t=ec(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},oo.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},oo.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var nc=function(){return function(t,e){this.b=t,this.a=e}}();function rc(t){this.g=t||ic,t=co.PerformanceNavigationTiming?0<(t=co.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(co.ia&&co.ia.ya&&co.ia.ya()&&co.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ic=10;function sc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function oc(t){return t.b?1:t.a?t.a.size:0}function ac(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function uc(t,e){t.a?t.a.add(e):t.b=e}function cc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function lc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=so(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Co(t.c)}function hc(){}function fc(){this.a=new hc}function dc(t,e,n){var r=n||"";try{xu(t,function(t,n){var i=t;fo(t)&&(i=xa(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function pc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}rc.prototype.cancel=function(){var t,e;if(this.c=lc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=so(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},hc.prototype.stringify=function(t){return co.JSON.stringify(t,void 0)},hc.prototype.parse=function(t){return co.JSON.parse(t,void 0)};var gc=co.JSON.parse;function mc(t){Ca.call(this),this.headers=new ju,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=yc,this.D=this.F=!1}wo(mc,Ca);var yc="",vc=/^https?$/i,bc=["POST","PUT"];function _c(t){return"content-type"==t.toLowerCase()}function wc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ec(t),Sc(t)}function Ec(t){t.u||(t.u=!0,Ia(t,"complete"),Ia(t,"error"))}function Oc(t){if(t.b&&void 0!==uo&&(!t.s[1]||4!=Cc(t)||2!=t.W()))if(t.l&&4==Cc(t))Ba(t.za,0,t);else if(Ia(t,"readystatechange"),4==Cc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Du)[1]||null;if(!s&&co.self&&co.self.location){var o=co.self.location.protocol;s=o.substr(0,o.length-1)}i=!vc.test(s?s.toLowerCase():"")}e=i}if(e)Ia(t,"complete"),Ia(t,"success");else{t.h=6;try{var a=2<Cc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Ec(t)}}finally{Sc(t)}}}function Sc(t,e){if(t.a){Tc(t);var n=t.a,r=t.s[0]?lo:null;t.a=null,t.s=null,e||Ia(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function Tc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(co.clearTimeout(t.m),t.m=null)}function Cc(t){return t.a?t.a.readyState:0}function Ic(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Po(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Uu(t,e,n))}function Ac(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function xc(t){this.pa=0,this.g=[],this.c=new Qa,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ac("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ac("baseRetryDelayMs",5e3,t),this.Ra=Ac("retryDelaySeedMs",1e4,t),this.Ma=Ac("forwardChannelMaxRetries",2,t),this.ma=Ac("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new rc(t&&t.concurrentRequestLimit),this.ka=new fc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function jc(t){if(Nc(t),3==t.v){var e=t.R++,n=Ru(t.B);Uu(n,"SID",t.J),Uu(n,"RID",e),Uu(n,"TYPE","terminate"),Lc(t,n),(e=new gu(t,t.c,e,void 0)).H=2,e.i=qu(Ru(n)),n=!1,co.navigator&&co.navigator.sendBeacon&&(n=co.navigator.sendBeacon(e.i.toString(),"")),!n&&co.Image&&((new Image).src=e.i,n=!0),n||(e.a=Kc(e.g,null),e.a.ba(e.i)),e.u=_o(),Ou(e)}Gc(t)}function kc(t){t.a&&(Uc(t),t.a.cancel(),t.a=null)}function Nc(t){kc(t),t.j&&(co.clearTimeout(t.j),t.j=null),Bc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&co.clearTimeout(t.h),t.h=null)}function Dc(t,e){t.g.push(new nc(t.Oa++,e)),3==t.v&&Pc(t)}function Pc(t){sc(t.b)||t.h||(t.h=!0,La(t.Ba,t),t.u=0)}function Rc(t,e){var n;n=e?e.f:t.R++;var r=Ru(t.B);Uu(r,"SID",t.J),Uu(r,"RID",n),Uu(r,"AID",t.P),Lc(t,r),t.i&&t.l&&Ic(r,t.i,t.l),n=new gu(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Vc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),uc(t.b,n),bu(n,r,e)}function Lc(t,e){t.f&&xu({},function(t,n){Uu(e,n,t)})}function Vc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?vo(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{dc(l,o,"req"+c+"_")}catch(Cl){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Fc(t){t.a||t.j||(t.T=1,La(t.Aa,t),t.o=0)}function Mc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=su(vo(t.Aa,t),Hc(t,t.o)),t.o++,0))}function Uc(t){null!=t.s&&(co.clearTimeout(t.s),t.s=null)}function qc(t){t.a=new gu(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ru(t.la);Uu(e,"RID","rpc"),Uu(e,"SID",t.J),Uu(e,"CI",t.H?"0":"1"),Uu(e,"AID",t.P),Lc(t,e),Uu(e,"TYPE","xmlhttp"),t.i&&t.l&&Ic(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=qu(Ru(e)),n.j=null,n.I=!0,_u(n,t)}function Bc(t){null!=t.m&&(co.clearTimeout(t.m),t.m=null)}function zc(t,e){var n=null;if(t.a==e){Bc(t),Uc(t),t.a=null;var r=2}else{if(!ac(t.b,e))return;n=e.s,cc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=_o()-e.u;var i=t.u;Ia(r=Xa(),new iu(r,n,e,i)),Pc(t)}else Fc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(oc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=su(vo(t.Ba,t,e),Hc(t,t.u)),t.u++,0)))}(t,e)||2==r&&Mc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:$c(t,5);break;case 4:$c(t,10);break;case 3:$c(t,6);break;default:$c(t,2)}}function Hc(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function $c(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=vo(t.Ya,t);n||(n=new Pu("//www.google.com/images/cleardot.gif"),co.location&&"http"==co.location.protocol||Lu(n,"https"),qu(n)),function(t,e){var n=new Qa;if(co.Image){var r=new Image;r.onload=bo(pc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=bo(pc,n,r,"TestLoadImage: error",!1,e),r.onabort=bo(pc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=bo(pc,n,r,"TestLoadImage: timeout",!1,e),co.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ru(2);t.v=0,t.f&&t.f.ra(e),Gc(t),Nc(t)}function Gc(t){t.v=0,t.I=-1,t.f&&(0==lc(t.b).length&&0==t.g.length||(t.b.c.length=0,Co(t.g),t.g.length=0),t.f.qa())}function Wc(t,e,n){var r=function(t){return t instanceof Pu?Ru(t):new Pu(t,void 0)}(n);if(""!=r.c)e&&Vu(r,e+"."+r.c),Fu(r,r.h);else{var i=co.location;r=function(t,e,n,r){var i=new Pu(null,void 0);return t&&Lu(i,t),e&&Vu(i,e),n&&Fu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Po(t.V,function(t,e){Uu(r,e,t)}),n=t.na,(e=t.A)&&n&&Uu(r,e,n),Uu(r,"VER",t.ha),Lc(t,r),r}function Kc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mc(t.Na)).F=t.C,e}function Qc(){}function Jc(){if(Bo&&!(10<=Number(Xo)))throw Error("Environmental error: no available transport.")}function Yc(t,e){Ca.call(this),this.a=new xc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Io(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Io(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new tl(this)}function Zc(t){fu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Xc(){du.call(this),this.status=1}function tl(t){this.a=t}(oo=mc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:lu),this.a.onreadystatechange=vo(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void wc(this,s)}t=n||"";var i=new ju(this.headers);r&&xu(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=_c,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=co.FormData&&t instanceof co.FormData,!(0<=Oo(bc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Tc(this),0<this.o&&((this.D=function(t){return Bo&&Zo(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=vo(this.xa,this)):this.m=Ba(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){wc(this,s)}},oo.xa=function(){void 0!==uo&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ia(this,"timeout"),this.abort(8))},oo.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ia(this,"complete"),Ia(this,"abort"),Sc(this))},oo.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Sc(this,!0)),mc.X.G.call(this)},oo.za=function(){this.j||(this.A||this.l||this.g?Oc(this):this.Ua())},oo.Ua=function(){Oc(this)},oo.W=function(){try{return 2<Cc(this)?this.a.status:-1}catch(Uo){return-1}},oo.$=function(){try{return this.a?this.a.responseText:""}catch(Uo){return""}},oo.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),gc(e)}},oo.ua=function(){return this.h},oo.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(oo=xc.prototype).ha=8,oo.v=1,oo.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new gu(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Vo(r=Ro(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Vc(this,n,e),Uu(i=Ru(this.B),"RID",t),Uu(i,"CVER",22),this.A&&Uu(i,"X-HTTP-Session-Id",this.A),Lc(this,i),this.i&&r&&Ic(i,this.i,r),uc(this.b,n),this.Ia&&Uu(i,"TYPE","init"),this.da?(Uu(i,"$req",e),Uu(i,"SID","null"),n.U=!0,bu(n,i,null)):bu(n,i,e),this.v=2}}else 3==this.v&&(t?Rc(this,t):0==this.g.length||sc(this.b)||Rc(this))},oo.Aa=function(){if(this.j=null,qc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=su(vo(this.Ta,this),t)}},oo.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ru(10),kc(this),qc(this))},oo.Sa=function(){null!=this.m&&(this.m=null,kc(this),Mc(this),ru(19))},oo.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ru(2)):(this.c.info("Failed to ping google.com"),ru(1))},(oo=Qc.prototype).ta=function(){},oo.sa=function(){},oo.ra=function(){},oo.qa=function(){},oo.Ja=function(){},Jc.prototype.a=function(t,e){return new Yc(t,e)},wo(Yc,Ca),Yc.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ru(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Wc(t,null,t.fa),Pc(t)},Yc.prototype.close=function(){jc(this.a)},Yc.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Dc(this.a,e)}else this.l?((e={}).__data__=xa(t),Dc(this.a,e)):Dc(this.a,t)},Yc.prototype.G=function(){this.a.f=null,delete this.f,jc(this.a),delete this.a,Yc.X.G.call(this)},wo(Zc,fu),wo(Xc,du),wo(tl,Qc),tl.prototype.ta=function(){Ia(this.a,"a")},tl.prototype.sa=function(t){Ia(this.a,new Zc(t))},tl.prototype.ra=function(t){Ia(this.a,new Xc(t))},tl.prototype.qa=function(){Ia(this.a,"b")},Jc.prototype.createWebChannel=Jc.prototype.a,Yc.prototype.send=Yc.prototype.h,Yc.prototype.open=Yc.prototype.g,Yc.prototype.close=Yc.prototype.close,ou.NO_ERROR=0,ou.TIMEOUT=8,ou.HTTP_ERROR=6,au.COMPLETE="complete",cu.EventType=hu,hu.OPEN="a",hu.CLOSE="b",hu.ERROR="c",hu.MESSAGE="d",Ca.prototype.listen=Ca.prototype.va,mc.prototype.listenOnce=mc.prototype.wa,mc.prototype.getLastError=mc.prototype.Qa,mc.prototype.getLastErrorCode=mc.prototype.ua,mc.prototype.getStatus=mc.prototype.W,mc.prototype.getResponseJson=mc.prototype.Pa,mc.prototype.getResponseText=mc.prototype.$,mc.prototype.send=mc.prototype.ba;var el=ou,nl=au,rl=Ya,il=cu,sl=mc,ol=n("/6Yf"),al=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},ul=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),cl=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();cl.UNAUTHENTICATED=new cl(null),cl.l=new cl("google-credentials-uid"),cl._=new cl("first-party-uid");var ll=new no.b("@firebase/firestore");function hl(){return ll.logLevel}function fl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ll.logLevel<=no.a.DEBUG){var r=e.map(gl);ll.debug.apply(ll,Object(to.g)(["Firestore (8.1.2): "+t],r))}}function dl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ll.logLevel<=no.a.ERROR){var r=e.map(gl);ll.error.apply(ll,Object(to.g)(["Firestore (8.1.2): "+t],r))}}function pl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ll.logLevel<=no.a.WARN){var r=e.map(gl);ll.warn.apply(ll,Object(to.g)(["Firestore (8.1.2): "+t],r))}}function gl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function ml(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.2) INTERNAL ASSERTION FAILED: "+t;throw dl(e),new Error(e)}function yl(t,e){t||ml()}function vl(t,e){return t}var bl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_l=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(to.c)(e,t),e}(Error),wl=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},El=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(cl.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),Ol=function(){function t(t){var e=this;this.P=null,this.currentUser=cl.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then(function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.V!==e?(fl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(yl("string"==typeof n.accessToken),new wl(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return yl(null===t||"string"==typeof t),new cl(t)},t}(),Sl=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=cl._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Tl=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new Sl(this.v,this.S))},t.prototype.A=function(t){t(cl._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function Cl(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Il=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Cl(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Al(t,e){return t<e?-1:t>e?1:0}function xl(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function jl(t){return t+"\0"}var kl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _l(bl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new _l(bl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new _l(bl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _l(bl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?Al(this.nanoseconds,t.nanoseconds):Al(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Nl=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new kl(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),Dl=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ml(),void 0===n?n=t.length-e:n>t.length-e&&ml(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return this.L(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Pl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new _l(bl.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.X=function(){return new e([])},e}(Dl),Rl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ll=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return Rl.test(t)},e.prototype.J=function(){return this.H().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.Z(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new _l(bl.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new _l(bl.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new _l(bl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new _l(bl.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(Dl),Vl=function(){function t(t){this.path=t}return t.st=function(e){return new t(Pl.Y(e))},t.it=function(e){return new t(Pl.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Pl.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return Pl.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new Pl(e.slice()))},t}();function Fl(t){return null==t}function Ml(t){return 0===t&&1/t==-1/0}function Ul(t){return"number"==typeof t&&Number.isInteger(t)&&!Ml(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ql=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ut=null};function Bl(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new ql(t,e,n,r,i,s,o)}function zl(t){var e=vl(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.J()+t.op.toString()+Fh(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.J()+t.dir}(t)}).join(","),Fl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=qd(e.startAt)),e.endAt&&(n+="|ub:",n+=qd(e.endAt)),e.ut=n}return e.ut}function Hl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Gd(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Ph(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zd(t.startAt,e.startAt)&&zd(t.endAt,e.endAt)}function $l(t){return Vl.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Gl=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.at)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return Al(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();Gl.lt=new Gl("");var Wl,Kl,Ql=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Nl.min()),void 0===s&&(s=Nl.min()),void 0===o&&(o=Gl.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),Jl=function(t){this.count=t};function Yl(t){switch(t){case bl.OK:return ml();case bl.CANCELLED:case bl.UNKNOWN:case bl.DEADLINE_EXCEEDED:case bl.RESOURCE_EXHAUSTED:case bl.INTERNAL:case bl.UNAVAILABLE:case bl.UNAUTHENTICATED:return!1;case bl.INVALID_ARGUMENT:case bl.NOT_FOUND:case bl.ALREADY_EXISTS:case bl.PERMISSION_DENIED:case bl.FAILED_PRECONDITION:case bl.ABORTED:case bl.OUT_OF_RANGE:case bl.UNIMPLEMENTED:case bl.DATA_LOSS:return!0;default:return ml()}}function Zl(t){if(void 0===t)return dl("GRPC error has no .code"),bl.UNKNOWN;switch(t){case Wl.OK:return bl.OK;case Wl.CANCELLED:return bl.CANCELLED;case Wl.UNKNOWN:return bl.UNKNOWN;case Wl.DEADLINE_EXCEEDED:return bl.DEADLINE_EXCEEDED;case Wl.RESOURCE_EXHAUSTED:return bl.RESOURCE_EXHAUSTED;case Wl.INTERNAL:return bl.INTERNAL;case Wl.UNAVAILABLE:return bl.UNAVAILABLE;case Wl.UNAUTHENTICATED:return bl.UNAUTHENTICATED;case Wl.INVALID_ARGUMENT:return bl.INVALID_ARGUMENT;case Wl.NOT_FOUND:return bl.NOT_FOUND;case Wl.ALREADY_EXISTS:return bl.ALREADY_EXISTS;case Wl.PERMISSION_DENIED:return bl.PERMISSION_DENIED;case Wl.FAILED_PRECONDITION:return bl.FAILED_PRECONDITION;case Wl.ABORTED:return bl.ABORTED;case Wl.OUT_OF_RANGE:return bl.OUT_OF_RANGE;case Wl.UNIMPLEMENTED:return bl.UNIMPLEMENTED;case Wl.DATA_LOSS:return bl.DATA_LOSS;default:return ml()}}(Kl=Wl||(Wl={}))[Kl.OK=0]="OK",Kl[Kl.CANCELLED=1]="CANCELLED",Kl[Kl.UNKNOWN=2]="UNKNOWN",Kl[Kl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kl[Kl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kl[Kl.NOT_FOUND=5]="NOT_FOUND",Kl[Kl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kl[Kl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kl[Kl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kl[Kl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kl[Kl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kl[Kl.ABORTED=10]="ABORTED",Kl[Kl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kl[Kl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kl[Kl.INTERNAL=13]="INTERNAL",Kl[Kl.UNAVAILABLE=14]="UNAVAILABLE",Kl[Kl.DATA_LOSS=15]="DATA_LOSS";var Xl=function(){function t(t,e){this.$=t,this.root=e||eh.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,eh.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,eh.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Pt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new th(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new th(this.root,t,this.$,!1)},t.prototype.vt=function(){return new th(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new th(this.root,t,this.$,!0)},t}(),th=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),eh=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw ml();if(this.right.Mt())throw ml();var t=this.left.Qt();if(t!==this.right.Qt())throw ml();return t+(this.Mt()?0:1)},t}();eh.EMPTY=null,eh.RED=!0,eh.It=!1,eh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ml()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ml()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ml()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ml()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ml()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new eh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var nh=function(){function t(t){this.$=t,this.data=new Xl(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt(function(e,n){return t(e),!1})},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new rh(this.data.yt())},t.prototype.Vt=function(t){return new rh(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(0!==this.$(i,s))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),rh=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),ih=new Xl(Vl.$);function sh(){return ih}function oh(){return sh()}var ah=new Xl(Vl.$);function uh(){return ah}var ch=new Xl(Vl.$),lh=new nh(Vl.$);function hh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=lh,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var fh=new nh(Al);function dh(){return fh}var ph=function(){function t(t){this.$=t?function(e,n){return t(e,n)||Vl.$(e.key,n.key)}:function(t,e){return Vl.$(t.key,e.key)},this.Ht=uh(),this.Jt=new Xl(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),gh=function(){function t(){this.Xt=new Xl(Vl.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):ml():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt(function(e,n){t.push(n)}),t},t}(),mh=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=s,this.ne=o,this.se=a}return t.ie=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,ph.Yt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&Cd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),yh=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,vh.he(e,n)),new t(Nl.min(),r,dh(),sh(),hh())},t}(),vh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(Gl.lt,n,hh(),hh(),hh())},t}(),bh=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},_h=function(t,e){this.targetId=t,this.Te=e},wh=function(t,e,n,r){void 0===n&&(n=Gl.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Eh=function(){function t(){this.Ie=0,this.me=Th(),this.Ae=Gl.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=hh(),e=hh(),n=hh();return this.me.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ml()}}),new vh(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=Th()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),Oh=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=sh(),this.Me=Sh(),this.ke=new nh(Al)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof fd?this.Le(r,t.Ee):t.Ee instanceof dd&&this.Be(r,t.key,t.Ee)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Be(s[i],t.key,t.Ee)},t.prototype.qe=function(t){var e=this;this.Ue(t,function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:ml()}})},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach(function(t,r){n.Ke(r)&&e(r)})},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if($l(i))if(0===n){var s=new Vl(i.path);this.Be(e,s,new dd(s,Nl.min()))}else yl(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach(function(r,i){var s=e.Ge(i);if(s){if(r.le&&$l(s.target)){var o=new Vl(s.target.path);null!==e.Oe.get(o)||e.Je(i,o)||e.Be(i,o,new dd(o,t))}r.ye&&(n.set(i,r.pe()),r.ve())}});var r=hh();this.Me.forEach(function(t,n){var i=!0;n.Wt(function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)}),i&&(r=r.add(t))});var i=new yh(t,n,this.ke,this.Oe,r);return this.Oe=sh(),this.Me=Sh(),this.ke=new nh(Al),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new Eh,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new nh(Al),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||fl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new Eh),this.xe.Xe(t).forEach(function(n){e.Be(t,n,null)})},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function Sh(){return new Xl(Vl.$)}function Th(){return new Xl(Vl.$)}function Ch(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ih(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ah(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function jh(t){var e=t.mapValue.fields.__previous_value__;return xh(e)?jh(e):e}function kh(t){var e=Uh(t.mapValue.fields.__local_write_time__.timestampValue);return new kl(e.seconds,e.nanos)}var Nh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xh(t)?4:10:ml()}function Ph(t,e){var n=Dh(t);if(n!==Dh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kh(t).isEqual(kh(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Uh(t.timestampValue),r=Uh(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Bh(t.bytesValue).isEqual(Bh(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return qh(t.geoPointValue.latitude)===qh(e.geoPointValue.latitude)&&qh(t.geoPointValue.longitude)===qh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return qh(t.integerValue)===qh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=qh(t.doubleValue),r=qh(e.doubleValue);return n===r?Ml(n)===Ml(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return xl(t.arrayValue.values||[],e.arrayValue.values||[],Ph);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ch(n)!==Ch(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ph(n[i],r[i])))return!1;return!0}(t,e);default:return ml()}}function Rh(t,e){return void 0!==(t.values||[]).find(function(t){return Ph(t,e)})}function Lh(t,e){var n=Dh(t),r=Dh(e);if(n!==r)return Al(n,r);switch(n){case 0:return 0;case 1:return Al(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=qh(t.integerValue||t.doubleValue),r=qh(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Vh(t.timestampValue,e.timestampValue);case 4:return Vh(kh(t),kh(e));case 5:return Al(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Bh(t),r=Bh(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Al(n[i],r[i]);if(0!==s)return s}return Al(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Al(qh(t.latitude),qh(e.latitude));return 0!==n?n:Al(qh(t.longitude),qh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Lh(n[i],r[i]);if(s)return s}return Al(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Al(r[o],s[o]);if(0!==a)return a;var u=Lh(n[r[o]],i[s[o]]);if(0!==u)return u}return Al(r.length,s.length)}(t.mapValue,e.mapValue);default:throw ml()}}function Vh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Al(t,e);var n=Uh(t),r=Uh(e),i=Al(n.seconds,r.seconds);return 0!==i?i:Al(n.nanos,r.nanos)}function Fh(t){return Mh(t)}function Mh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Uh(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Bh(t.bytesValue).toBase64():"referenceValue"in t?Vl.it(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Mh(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Mh(t.fields[s])}return e+"}"}(t.mapValue):ml();var e}function Uh(t){if(yl(!!t),"string"==typeof t){var e=0,n=Nh.exec(t);if(yl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:qh(t.seconds),nanos:qh(t.nanos)}}function qh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Bh(t){return"string"==typeof t?Gl.fromBase64String(t):Gl.fromUint8Array(t)}function zh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function Hh(t){return!!t&&"integerValue"in t}function $h(t){return!!t&&"arrayValue"in t}function Gh(t){return!!t&&"nullValue"in t}function Wh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kh(t){return!!t&&"mapValue"in t}var Qh={asc:"ASCENDING",desc:"DESCENDING"},Jh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yh=function(t,e){this.t=t,this.tn=e};function Zh(t){return{integerValue:""+t}}function Xh(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ml(e)?"-0":e}}function tf(t,e){return Ul(e)?Zh(e):Xh(t,e)}function ef(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function nf(t,e){return t.tn?e.toBase64():e.toUint8Array()}function rf(t,e){return ef(t,e.M())}function sf(t){return yl(!!t),Nl.N(function(t){var e=Uh(t);return new kl(e.seconds,e.nanos)}(t))}function of(t,e){return function(t){return new Pl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function af(t){var e=Pl.Y(t);return yl(jf(e)),e}function uf(t,e){return of(t.t,e.path)}function cf(t,e){var n=af(e);if(n.get(1)!==t.t.projectId)throw new _l(bl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new _l(bl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Vl(df(n))}function lf(t,e){return of(t.t,e)}function hf(t){var e=af(t);return 4===e.length?Pl.X():df(e)}function ff(t){return new Pl(["projects",t.t.projectId,"databases",t.t.database]).J()}function df(t){return yl(t.length>4&&"documents"===t.get(4)),t.B(5)}function pf(t,e,n){return{name:uf(t,e),fields:n.proto.mapValue.fields}}function gf(t,e){var n;if(e instanceof td)n={update:pf(t,e.key,e.value)};else if(e instanceof od)n={delete:uf(t,e.key)};else if(e instanceof ed)n={update:pf(t,e.key,e.data),updateMask:xf(e.en)};else if(e instanceof rd)n={transform:{document:uf(t,e.key),fieldTransforms:e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Rf)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof Lf)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof Ff)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof Uf)return{fieldPath:e.field.J(),increment:n.nn};throw ml()}(0,t)})}};else{if(!(e instanceof ad))return ml();n={verify:uf(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:rf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ml()}(t,e.rn)),n}function mf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Gf.updateTime(sf(t.updateTime)):void 0!==t.exists?Gf.exists(t.exists):Gf.on()}(e.currentDocument):Gf.on();if(e.update){var r=cf(t,e.update.name),i=new ud({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new zf((t.fieldPaths||[]).map(function(t){return Ll.nt(t)}))}(e.updateMask);return new ed(r,i,s,n)}return new td(r,i,n)}if(e.delete){var o=cf(t,e.delete);return new od(o,n)}if(e.transform){var a=cf(t,e.transform.document),u=e.transform.fieldTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(yl("REQUEST_TIME"===e.setToServerValue),n=new Rf):"appendMissingElements"in e?n=new Lf(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Ff(e.removeAllFromArray.values||[]):"increment"in e?n=new Uf(t,e.increment):ml();var r=Ll.nt(e.fieldPath);return new Hf(r,n)}(t,e)});return yl(!0===n.exists),new rd(a,u)}if(e.verify){var c=cf(t,e.verify);return new ad(c,n)}return ml()}function yf(t,e){return{documents:[lf(t,e.path)]}}function vf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=lf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=lf(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Wh(t.value))return{unaryFilter:{field:Tf(t.field),op:"IS_NAN"}};if(Gh(t.value))return{unaryFilter:{field:Tf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Wh(t.value))return{unaryFilter:{field:Tf(t.field),op:"IS_NOT_NAN"}};if(Gh(t.value))return{unaryFilter:{field:Tf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tf(t.field),op:Sf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Tf(t.field),direction:Of(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.tn||Fl(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=wf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=wf(e.endAt)),n}function bf(t){var e=hf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){yl(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=_f(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Hd(Cf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Fl(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Ef(n.startAt));var l=null;return n.endAt&&(l=Ef(n.endAt)),md(e,i,a,o,u,"F",c,l)}function _f(t){return t?void 0!==t.unaryFilter?[Af(t)]:void 0!==t.fieldFilter?[If(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return _f(t)}).reduce(function(t,e){return t.concat(e)}):ml():[]}function wf(t){return{before:t.before,values:t.position}}function Ef(t){return new Ud(t.values||[],!!t.before)}function Of(t){return Qh[t]}function Sf(t){return Jh[t]}function Tf(t){return{fieldPath:t.J()}}function Cf(t){return Ll.nt(t.fieldPath)}function If(t){return kd.create(Cf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ml()}}(t.fieldFilter.op),t.fieldFilter.value)}function Af(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Cf(t.unaryFilter.field);return kd.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Cf(t.unaryFilter.field);return kd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Cf(t.unaryFilter.field);return kd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Cf(t.unaryFilter.field);return kd.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ml()}}function xf(t){var e=[];return t.fields.forEach(function(t){return e.push(t.J())}),{fieldPaths:e}}function jf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var kf=function(){this.cn=void 0};function Nf(t,e,n){return t instanceof Rf?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Lf?Vf(t,e):t instanceof Ff?Mf(t,e):function(t,e){var n=Pf(t,e),r=qf(n)+qf(t.nn);return Hh(n)&&Hh(t.nn)?Zh(r):Xh(t.serializer,r)}(t,e)}function Df(t,e,n){return t instanceof Lf?Vf(t,e):t instanceof Ff?Mf(t,e):n}function Pf(t,e){return t instanceof Uf?Hh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Rf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e}(kf),Lf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(to.c)(e,t),e}(kf);function Vf(t,e){for(var n=Bf(e),r=function(t){n.some(function(e){return Ph(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ff=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(to.c)(e,t),e}(kf);function Mf(t,e){for(var n=Bf(e),r=function(t){n=n.filter(function(e){return!Ph(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Uf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(to.c)(e,t),e}(kf);function qf(t){return qh(t.integerValue||t.doubleValue)}function Bf(t){return $h(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var zf=function(){function t(t){this.fields=t,t.sort(Ll.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return xl(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Hf=function(t,e){this.field=t,this.transform=e},$f=function(t,e){this.version=t,this.transformResults=e},Gf=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Wf(t,e){return void 0!==t.updateTime?e instanceof fd&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof fd}var Kf=function(){};function Qf(t,e,n){return t instanceof td?function(t,e,n){return new fd(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof ed?function(t,e,n){if(!Wf(t.rn,e))return new pd(t.key,n.version);var r=nd(t,e);return new fd(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof rd?function(t,e,n){if(yl(null!=n.transformResults),!Wf(t.rn,e))return new pd(t.key,n.version);var r=id(0,e),i=function(t,e,n){var r=[];yl(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof fd&&(a=e.field(s.field)),r.push(Df(o,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),s=n.version,o=sd(t,r.data(),i);return new fd(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new dd(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Jf(t,e,n,r){return t instanceof td?function(t,e){if(!Wf(t.rn,e))return e;var n=Xf(e);return new fd(t.key,n,t.value,{an:!0})}(t,e):t instanceof ed?function(t,e){if(!Wf(t.rn,e))return e;var n=Xf(e),r=nd(t,e);return new fd(t.key,n,r,{an:!0})}(t,e):t instanceof rd?function(t,e,n,r){if(!Wf(t.rn,e))return e;var i=id(0,e),s=function(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,c=null;n instanceof fd&&(c=n.field(a.field)),null===c&&r instanceof fd&&(c=r.field(a.field)),i.push(Nf(u,c,e))}return i}(t.fieldTransforms,n,e,r),o=sd(t,i.data(),s);return new fd(t.key,i.version,o,{an:!0})}(t,e,r,n):function(t,e){return Wf(t.rn,e)?new dd(t.key,Nl.min()):e}(t,e)}function Yf(t,e){return t instanceof rd?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e instanceof fd?e.field(s.field):void 0,a=Pf(s.transform,o||null);null!=a&&(n=null==n?(new cd).set(s.field,a):n.set(s.field,a))}return n?n.hn():null}(t,e):null}function Zf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||xl(t.fieldTransforms,t.fieldTransforms,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Lf&&e instanceof Lf||t instanceof Ff&&e instanceof Ff?xl(t.elements,e.elements,Ph):t instanceof Uf&&e instanceof Uf?Ph(t.nn,e.nn):t instanceof Rf&&e instanceof Rf}(t.transform,e.transform)}(t,e)}))}function Xf(t){return t instanceof fd?t.version:Nl.min()}var td=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(to.c)(e,t),e}(Kf),ed=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.en=r,s.rn=i,s.type=1,s}return Object(to.c)(e,t),e}(Kf);function nd(t,e){return function(t,e){var n=new cd(e);return t.en.fields.forEach(function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.hn()}(t,e instanceof fd?e.data():ud.empty())}var rd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=Gf.exists(!0),r}return Object(to.c)(e,t),e}(Kf);function id(t,e){return e}function sd(t,e,n){for(var r=new cd(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.hn()}var od=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(to.c)(e,t),e}(Kf),ad=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(to.c)(e,t),e}(Kf),ud=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Kh(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return Ph(this.proto,t.proto)},t}(),cd=function(){function t(t){void 0===t&&(t=ud.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Dh(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(Ll.X(),this._n);return null!=t?new ud(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),s=Kh(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var o=n.dn(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)}),r?{mapValue:{fields:s}}:null},t}();function ld(t){var e=[];return Ih(t.fields||{},function(t,n){var r=new Ll([t]);if(Kh(n)){var i=ld(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new zf(e)}var hd=function(t,e){this.key=t,this.version=e},fd=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).wn=r,s.an=!!i.an,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(to.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(hd),dd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(to.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(hd),pd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(hd),gd=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.In=null,this.mn=null};function md(t,e,n,r,i,s,o,a){return new gd(t,e,n,r,i,s,o,a)}function yd(t){return new gd(t)}function vd(t){return!Fl(t.limit)&&"F"===t.limitType}function bd(t){return!Fl(t.limit)&&"L"===t.limitType}function _d(t){return t.Tn.length>0?t.Tn[0].field:null}function wd(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function Ed(t){return null!==t.collectionGroup}function Od(t){var e=vl(t);if(null===e.In){e.In=[];var n=wd(e),r=_d(e);if(null!==n&&null===r)n.tt()||e.In.push(new Hd(n)),e.In.push(new Hd(Ll.et(),"asc"));else{for(var i=!1,s=0,o=e.Tn;s<o.length;s++){var a=o[s];e.In.push(a),a.field.tt()&&(i=!0)}if(!i){var u=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new Hd(Ll.et(),u))}}}return e.In}function Sd(t){var e=vl(t);if(!e.mn)if("F"===e.limitType)e.mn=Bl(e.path,e.collectionGroup,Od(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Od(e);r<i.length;r++){var s=i[r];n.push(new Hd(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Ud(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Ud(e.startAt.position,!e.startAt.before):null;e.mn=Bl(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.mn}function Td(t,e,n){return new gd(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cd(t,e){return Hl(Sd(t),Sd(e))&&t.limitType===e.limitType}function Id(t){return zl(Sd(t))+"|lt:"+t.limitType}function Ad(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.J()+" "+e.op+" "+Fh(e.value);var e}).join(", ")+"]"),Fl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+qd(t.startAt)),t.endAt&&(e+=", endAt: "+qd(t.endAt)),"Target("+e+")"}(Sd(t))+"; limitType="+t.limitType+")"}function xd(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):Vl.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Bd(t.startAt,Od(t),e)||t.endAt&&Bd(t.endAt,Od(t),e))}(t,e)}function jd(t){return function(e,n){for(var r=!1,i=0,s=Od(t);i<s.length;i++){var o=s[i],a=$d(o,e,n);if(0!==a)return a;r=r||o.field.tt()}return 0}}var kd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(to.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new Nd(t,n,r):"array-contains"===n?new Ld(t,r):"in"===n?new Vd(t,r):"not-in"===n?new Fd(t,r):"array-contains-any"===n?new Md(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new Dd(t,n):new Pd(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(Lh(e,this.value)):null!==e&&Dh(this.value)===Dh(e)&&this.Pn(Lh(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ml()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Nd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Vl.it(r.referenceValue),i}return Object(to.c)(e,t),e.prototype.matches=function(t){var e=Vl.$(t.key,this.key);return this.Pn(e)},e}(kd),Dd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Rd(0,n),r}return Object(to.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(kd),Pd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Rd(0,n),r}return Object(to.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(kd);function Rd(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Vl.it(t.referenceValue)})}var Ld=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(to.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return $h(e)&&Rh(e.arrayValue,this.value)},e}(kd),Vd=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(to.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Rh(this.value.arrayValue,e)},e}(kd),Fd=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(to.c)(e,t),e.prototype.matches=function(t){if(Rh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Rh(this.value.arrayValue,e)},e}(kd),Md=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(to.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!$h(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Rh(e.value.arrayValue,t)})},e}(kd),Ud=function(t,e){this.position=t,this.before=e};function qd(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Fh(t)}).join(",")}function Bd(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.tt()?Vl.$(Vl.it(o.referenceValue),n.key):Lh(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function zd(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ph(t.position[n],e.position[n]))return!1;return!0}var Hd=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function $d(t,e,n){var r=t.field.tt()?Vl.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Lh(r,i):ml()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ml()}}function Gd(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Wd=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=Qf(s,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Jf(i,e,e,this.gn))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var u=a[o];u.key.isEqual(t)&&(e=Jf(u,e,s,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},hh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&xl(this.mutations,t.mutations,function(t,e){return Zf(t,e)})&&xl(this.baseMutations,t.baseMutations,function(t,e){return Zf(t,e)})},t}(),Kd=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){yl(e.mutations.length===r.length);for(var i=ch,s=e.mutations,o=0;o<s.length;o++)i=i.Tt(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Qd=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.Cn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Ih(this.Nn,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.W=function(){return Ah(this.Nn)},t}(),Jd=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t(function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)},function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&ml(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t(function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}})},t.prototype.Ln=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn(function(){return e(n)}):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.qn=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.qn(r)},t}(),Yd=function(){function t(){this.Qn=new Qd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:Nl.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?Jd.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),Zd=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};function Xd(t){return new Yh(t,!0)}function tp(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var ep="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",np=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach(function(t){return t()})},t}(),rp=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next(function(r){return n.hs(t,e,r)})},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t})},t.prototype.ls=function(t,e,n){var r=oh();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].pn(t,e);r=r.Tt(t,e)}),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next(function(e){return n.fs(t,e)})},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next(function(r){var i=n.ls(t,e,r),s=sh();return i.forEach(function(t,e){e||(e=new dd(t,Nl.min())),s=s.Tt(t,e)}),s})},t.prototype.ws=function(t,e,n){return function(t){return Vl.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):Ed(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new Vl(e)).next(function(t){var e=uh();return t instanceof fd&&(e=e.Tt(t.key,t)),e})},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,s=uh();return this.os.As(t,i).next(function(o){return Jd.forEach(o,function(o){var a=function(t,e){return new gd(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.Is(t,a,n).next(function(t){t.forEach(function(t,e){s=s.Tt(t,e)})})}).next(function(){return s})})},t.prototype.Is=function(t,e,n){var r,i,s=this;return this.ss.ws(t,e,n).next(function(n){return r=n,s.rs.Rs(t,e)}).next(function(e){return s.Ps(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c),h=Jf(u,l,l,s.gn);r=h instanceof fd?r.Tt(c,h):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){xd(e,n)||(r=r.remove(t))}),r})},t.prototype.Ps=function(t,e,n){for(var r=hh(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof ed&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ss.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof fd&&(c=c.Tt(t,e))}),c})},t}(),ip=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=hh(),i=hh(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),sp=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();sp.Ds=-1;var op=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&fl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,function(){return e.$s=Date.now(),t()}),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),ap=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(Object(ro.g)())&&dl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return fl("SimpleDb","Removing database:",t),dp(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=Object(ro.g)(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return Object(to.b)(this,void 0,void 0,function(){var e,n=this;return Object(to.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(fl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new cp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new _l(bl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new cp(t,n))},i.onupgradeneeded=function(t){fl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Ws.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){fl("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}})})},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(to.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(to.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(to.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Xs(t)];case 2:return a.db=h.sent(),e=hp.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),Jd.reject(t)}).Ln(),u={},o.catch(function(){}),[4,e.ei];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return fl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),up=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return dp(this.ni.delete())},t}(),cp=function(t){function e(e,n){var r=this;return(r=t.call(this,bl.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(to.c)(e,t),e}(_l);function lp(t){return"IndexedDbTransactionError"===t.name}var hp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new Zd,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new cp(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=gp(e.target.error);n.ci.reject(new cp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new cp(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(fl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new fp(e)},t}(),fp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(fl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(fl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),dp(n)},t.prototype.add=function(t){return fl("SimpleDb","ADD",this.store.name,t,t),dp(this.store.add(t))},t.prototype.get=function(t){var e=this;return dp(this.store.get(t)).next(function(n){return void 0===n&&(n=null),fl("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return fl("SimpleDb","DELETE",this.store.name,t),dp(this.store.delete(t))},t.prototype.count=function(){return fl("SimpleDb","COUNT",this.store.name),dp(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.hi=function(t,e){fl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,function(t,e,n){return n.delete()})},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new Jd(function(n,r){e.onerror=function(t){var e=gp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.ai=function(t,e){var n=[];return new Jd(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new up(i),o=e(i.primaryKey,i.value,s);if(o instanceof Jd){var a=o.catch(function(t){return s.done(),Jd.reject(t)});n.push(a)}s.On?r():null===s.ri?i.continue():i.continue(s.ri)}else r()}}).next(function(){return Jd.qn(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function dp(t){return new Jd(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=gp(t.target.error);n(e)}})}var pp=!1;function gp(t){var e=ap.js(Object(ro.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new _l("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return pp||(pp=!0,setTimeout(function(){throw r},0)),r}}return t}function mp(){return"undefined"!=typeof window?window:null}function yp(){return"undefined"!=typeof document?document:null}var vp=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new Zd,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch(function(t){})}return t.Ii=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.mi=setTimeout(function(){return e.Ai()},t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new _l(bl.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri(function(){return null!==t.mi?(t.clearTimeout(),t.op().then(function(e){return t.Ti.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),bp=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new op(this,"async_queue_retry"),this.Di=function(){var e=yp();e&&fl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=yp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=yp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise(function(t){}):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri(function(){return e.gi.push(t),e.ki()})},t.prototype.ki=function(){return Object(to.b)(this,void 0,void 0,function(){var t,e=this;return Object(to.d)(this,function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!lp(t=n.sent()))throw t;return fl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs(function(){return e.ki()}),n.label=5;case 5:return[2]}})})},t.prototype.Fi=function(t){var e=this,n=this.Pi.then(function(){return e.vi=!0,t().catch(function(t){throw e.pi=t,e.vi=!1,dl("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.vi=!1,t})});return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=vp.Ii(this,t,e,n,function(t){return r.$i(t)});return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&ml()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(to.b)(this,void 0,void 0,function(){var t;return Object(to.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then(function(){e.Vi.sort(function(t,e){return t.wi-e.wi});for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()})},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function _p(t,e){if(dl("AsyncQueue",e+": "+t),lp(t))return new _l(bl.UNAVAILABLE,e+": "+t);throw t}function wp(t,e){var n=t[1],r=e[1],i=Al(t[0],e[0]);return 0===i?Al(n,r):i}var Ep=function(){function t(t){this.Ki=t,this.buffer=new nh(wp),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();wp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Op={zi:!1,Hi:0,Ji:0,Yi:0},Sp=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();Sp.nr=10,Sp.sr=1e3,Sp.ir=new Sp(41943040,Sp.nr,Sp.sr),Sp.rr=new Sp(-1,0,0);var Tp=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;fl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,function(){return Object(to.b)(e,void 0,void 0,function(){var e;return Object(to.d)(this,function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return lp(e=n.sent())?(fl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Xg(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}})})})},t}(),Cp=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Tr=function(t,e){var n=this;if(0===e)return Jd.resolve(sp.Ds);var r=new Ep(e);return this.dr.Ue(t,function(t){return r.Gi(t.sequenceNumber)}).next(function(){return n.dr.Ir(t,function(t){return r.Gi(t)})}).next(function(){return r.maxValue})},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(fl("LruGarbageCollector","Garbage collection skipped; disabled"),Jd.resolve(Op)):this.Pr(t).next(function(r){return r<n.params.Xi?(fl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),Op):n.gr(t,e)})},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.wr(t,this.params.Zi).next(function(e){return e>c.params.tr?(fl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.tr+" from "+e),r=c.params.tr):r=e,s=Date.now(),c.Tr(t,r)}).next(function(r){return n=r,o=Date.now(),c.mr(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.Ar(t,n)}).next(function(t){return u=Date.now(),hl()<=no.a.DEBUG&&fl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Jd.resolve({zi:!0,Hi:r,Ji:i,Yi:t})})},t}(),Ip=function(){function t(){}return t.prototype.yr=function(t){this.Vr=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(Nl.min())?this.pr(t,e):this.Vr._s(t,r).next(function(s){var o=i.vr(e,s);return(vd(e)||bd(e))&&i.br(e.limitType,o,r,n)?i.pr(t,e):(hl()<=no.a.DEBUG&&fl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ad(e)),i.Vr.ws(t,e,n).next(function(t){return o.forEach(function(e){t=t.Tt(e.key,e)}),t}))})},t.prototype.vr=function(t,e){var n=new nh(jd(t));return e.forEach(function(e,r){r instanceof fd&&xd(t,r)&&(n=n.add(r))}),n},t.prototype.br=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.pr=function(t,e){return hl()<=no.a.DEBUG&&fl("QueryEngine","Using full collection scan to execute query:",Ad(e)),this.Vr.ws(t,e,Nl.min())},t}();function Ap(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=jp(e)),e=xp(t.get(n),e);return jp(e)}function xp(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function jp(t){return t+"\x01\x01"}function kp(t){var e=t.length;if(yl(e>=2),2===e)return yl("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Pl.X();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&ml(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:ml()}s=o+2}return new Pl(r)}var Np=function(t){this.Sr=t};function Dp(t,e){if(e.document)return function(t,e,n){var r=cf(t,e.name),i=sf(e.updateTime),s=new ud({mapValue:{fields:e.fields}});return new fd(r,i,s,{hasCommittedMutations:!!n})}(t.Sr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Vl.ct(e.noDocument.path),r=Fp(e.noDocument.readTime);return new dd(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Vl.ct(e.unknownDocument.path),s=Fp(e.unknownDocument.version);return new pd(i,s)}return ml()}function Pp(t,e,n){var r=Rp(n),i=e.key.path.q().H();if(e instanceof fd){var s=function(t,e){return{name:uf(t,e.key),fields:e.En().mapValue.fields,updateTime:ef(t,e.version.M())}}(t.Sr,e);return new hg(null,null,s,e.hasCommittedMutations,r,i)}if(e instanceof dd){var o=e.key.path.H(),a=Vp(e.version),u=e.hasCommittedMutations;return new hg(null,new cg(o,a),null,u,r,i)}if(e instanceof pd){var c=e.key.path.H(),l=Vp(e.version);return new hg(new lg(c,l),null,null,!0,r,i)}return ml()}function Rp(t){var e=t.M();return[e.seconds,e.nanoseconds]}function Lp(t){var e=new kl(t[0],t[1]);return Nl.N(e)}function Vp(t){var e=t.M();return new ig(e.seconds,e.nanoseconds)}function Fp(t){var e=new kl(t.seconds,t.nanoseconds);return Nl.N(e)}function Mp(t,e){var n=(e.baseMutations||[]).map(function(e){return mf(t.Sr,e)}),r=e.mutations.map(function(e){return mf(t.Sr,e)}),i=kl.fromMillis(e.localWriteTimeMs);return new Wd(e.batchId,i,n,r)}function Up(t){var e,n,r=Fp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Fp(t.lastLimboFreeSnapshotVersion):Nl.min();return void 0!==t.query.documents?(yl(1===(n=t.query).documents.length),e=Sd(yd(hf(n.documents[0])))):e=function(t){return Sd(bf(t))}(t.query),new Ql(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Gl.fromBase64String(t.resumeToken))}function qp(t,e){var n,r=Vp(e.ft),i=Vp(e.lastLimboFreeSnapshotVersion);n=$l(e.target)?yf(t.Sr,e.target):vf(t.Sr,e.target);var s=e.resumeToken.toBase64();return new dg(e.targetId,zl(e.target),r,s,e.sequenceNumber,i,n)}function Bp(t){var e=bf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Td(e,e.limit,"L"):e}var zp=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Dr=r,this.Cr={}}return t.Nr=function(e,n,r,i){return yl(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.Fr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gp(t)._i({index:ag.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Or=function(t,e,n,r){var i=this,s=Wp(t),o=Gp(t);return o.add({}).next(function(a){yl("number"==typeof a);for(var u=new Wd(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return gf(t.Sr,e)}),i=n.mutations.map(function(e){return gf(t.Sr,e)});return new ag(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new nh(function(t,e){return Al(t.J(),e.J())}),f=0,d=r;f<d.length;f++){var p=d[f],g=ug.key(i.userId,p.key.path,a);h=h.add(p.key.path.q()),l.push(o.put(c)),l.push(s.put(g,ug.PLACEHOLDER))}return h.forEach(function(e){l.push(i.os.Mr(t,e))}),t.es(function(){i.Cr[a]=u.keys()}),Jd.qn(l).next(function(){return u})})},t.prototype.kr=function(t,e){var n=this;return Gp(t).get(e).next(function(t){return t?(yl(t.userId===n.userId),Mp(n.serializer,t)):null})},t.prototype.$r=function(t,e){var n=this;return this.Cr[e]?Jd.resolve(this.Cr[e]):this.kr(t,e).next(function(t){if(t){var r=t.keys();return n.Cr[e]=r,r}return null})},t.prototype.Lr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Gp(t)._i({index:ag.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(yl(e.batchId>=r),s=Mp(n.serializer,e)),i.done()}).next(function(){return s})},t.prototype.Br=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Gp(t)._i({index:ag.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.qr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gp(t).ui(ag.userMutationsIndex,n).next(function(t){return t.map(function(t){return Mp(e.serializer,t)})})},t.prototype.us=function(t,e){var n=this,r=ug.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Wp(t)._i({range:i},function(r,i,o){var a=r[0],u=r[2],c=kp(r[1]);if(a===n.userId&&e.path.isEqual(c))return Gp(t).get(u).next(function(t){if(!t)throw ml();yl(t.userId===n.userId),s.push(Mp(n.serializer,t))});o.done()}).next(function(){return s})},t.prototype.ds=function(t,e){var n=this,r=new nh(Al),i=[];return e.forEach(function(e){var s=ug.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Wp(t)._i({range:o},function(t,i,s){var o=t[0],a=t[2],u=kp(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),Jd.qn(i).next(function(){return n.Ur(t,r)})},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,s=ug.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new nh(Al);return Wp(t)._i({range:o},function(t,e,s){var o=t[0],u=t[2],c=kp(t[1]);o===n.userId&&r.j(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Ur(t,a)})},t.prototype.Ur=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Gp(t).get(e).next(function(t){if(null===t)throw ml();yl(t.userId===n.userId),r.push(Mp(n.serializer,t))}))}),Jd.qn(i).next(function(){return r})},t.prototype.Qr=function(t,e){var n=this;return $p(t.Kr,this.userId,e).next(function(r){return t.es(function(){n.Wr(e.batchId)}),Jd.forEach(r,function(e){return n.Dr.jr(t,e)})})},t.prototype.Wr=function(t){delete this.Cr[t]},t.prototype.Gr=function(t){var e=this;return this.Fr(t).next(function(n){if(!n)return Jd.resolve();var r=IDBKeyRange.lowerBound(ug.prefixForUser(e.userId)),i=[];return Wp(t)._i({range:r},function(t,n,r){if(t[0]===e.userId){var s=kp(t[1]);i.push(s)}else r.done()}).next(function(){yl(0===i.length)})})},t.prototype.zr=function(t,e){return Hp(t,this.userId,e)},t.prototype.Hr=function(t){var e=this;return Kp(t).get(this.userId).next(function(t){return t||new og(e.userId,-1,"")})},t}();function Hp(t,e,n){var r=ug.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Wp(t)._i({range:s,li:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function $p(t,e,n){var r=t.store(ag.store),i=t.store(ug.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r._i({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){yl(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=ug.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return Jd.qn(s).next(function(){return c})}function Gp(t){return Pg.Ys(t,ag.store)}function Wp(t){return Pg.Ys(t,ug.store)}function Kp(t){return Pg.Ys(t,og.store)}var Qp=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return Zp(t).put(Xp(e),n)},t.prototype.Hn=function(t,e){var n=Zp(t),r=Xp(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Jr(t,r)})},t.prototype.Jn=function(t,e){var n=this;return Zp(t).get(Xp(e)).next(function(t){return n.Yr(t)})},t.prototype.Xr=function(t,e){var n=this;return Zp(t).get(Xp(e)).next(function(t){var e=n.Yr(t);return e?{zn:e,size:tg(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=oh();return this.Zr(t,e,function(t,e){var i=n.Yr(e);r=r.Tt(t,i)}).next(function(){return r})},t.prototype.eo=function(t,e){var n=this,r=oh(),i=new Xl(Vl.$);return this.Zr(t,e,function(t,e){var s=n.Yr(e);s?(r=r.Tt(t,s),i=i.Tt(t,tg(e))):(r=r.Tt(t,null),i=i.Tt(t,0))}).next(function(){return{no:r,so:i}})},t.prototype.Zr=function(t,e,n){if(e.W())return Jd.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),s=i.Ct();return Zp(t)._i({range:r},function(t,e,r){for(var o=Vl.ct(t);s&&Vl.$(s,o)<0;)n(s,null),s=i.Ct();s&&s.isEqual(o)&&(n(s,e),s=i.Nt()?i.Ct():null),s?r.oi(s.path.H()):r.done()}).next(function(){for(;s;)n(s,null),s=i.Nt()?i.Ct():null})},t.prototype.ws=function(t,e,n){var r=this,i=uh(),s=e.path.length+1,o={};if(n.isEqual(Nl.min())){var a=e.path.H();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.H(),c=Rp(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=hg.collectionReadTimeIndex}return Zp(t)._i(o,function(t,n,o){if(t.length===s){var a=Dp(r.serializer,n);e.path.j(a.key.path)?a instanceof fd&&xd(e,a)&&(i=i.Tt(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.io=function(t){return new Jp(this,!!t&&t.ro)},t.prototype.oo=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Yp(t).get(fg.key).next(function(t){return yl(!!t),t})},t.prototype.Jr=function(t,e){return Yp(t).put(fg.key,e)},t.prototype.Yr=function(t){if(t){var e=Dp(this.serializer,t);return e instanceof dd&&e.version.isEqual(Nl.min())?null:e}return null},t}(),Jp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).co=e,r.ro=n,r.uo=new Qd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(to.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new nh(function(t,e){return Al(t.J(),e.J())});return this.Qn.forEach(function(s,o){var a=e.uo.get(s);if(o.zn){var u=Pp(e.co.serializer,o.zn,e.Wn(s));i=i.add(s.path.q());var c=tg(u);r+=c-a,n.push(e.co.jn(t,s,u))}else if(r-=a,e.ro){var l=Pp(e.co.serializer,new dd(s,Nl.min()),e.Wn(s));n.push(e.co.jn(t,s,l))}else n.push(e.co.Hn(t,s))}),i.forEach(function(r){n.push(e.co.os.Mr(t,r))}),n.push(this.co.updateMetadata(t,r)),Jd.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.co.Xr(t,e).next(function(t){return null===t?(n.uo.set(e,0),null):(n.uo.set(e,t.size),t.zn)})},e.prototype.Xn=function(t,e){var n=this;return this.co.eo(t,e).next(function(t){var e=t.no;return t.so.forEach(function(t,e){n.uo.set(t,e)}),e})},e}(Yd);function Yp(t){return Pg.Ys(t,fg.store)}function Zp(t){return Pg.Ys(t,hg.store)}function Xp(t){return t.path.H()}function tg(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ml();e=t.noDocument}return JSON.stringify(e).length}var eg=function(){function t(){this.ao=new ng}return t.prototype.Mr=function(t,e){return this.ao.add(e),Jd.resolve()},t.prototype.As=function(t,e){return Jd.resolve(this.ao.getEntries(e))},t}(),ng=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new nh(Pl.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new nh(Pl.$)).H()},t}(),rg=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;yl(n<r&&n>=0&&r<=11);var s=new hp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(sg.store)}(t),function(t){t.createObjectStore(og.store,{keyPath:og.keyPath}),t.createObjectStore(ag.store,{keyPath:ag.keyPath,autoIncrement:!0}).createIndex(ag.userMutationsIndex,ag.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ug.store)}(t),yg(t),function(t){t.createObjectStore(hg.store)}(t));var o=Jd.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(pg.store),t.deleteObjectStore(dg.store),t.deleteObjectStore(gg.store)}(t),yg(t)),o=o.next(function(){return function(t){var e=t.store(gg.store),n=new gg(0,0,Nl.min().M(),0);return e.put(gg.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(ag.store).ui().next(function(n){t.deleteObjectStore(ag.store),t.createObjectStore(ag.store,{keyPath:ag.keyPath,autoIncrement:!0}).createIndex(ag.userMutationsIndex,ag.userMutationsKeyPath,{unique:!0});var r=e.store(ag.store),i=n.map(function(t){return r.put(t)});return Jd.qn(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(vg.store,{keyPath:vg.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(fg.store)}(t),i.addDocumentGlobal(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ensureSequenceNumbers(s)})),n<8&&r>=8&&(o=o.next(function(){return i.createCollectionParentIndex(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(hg.store);e.createIndex(hg.readTimeIndex,hg.readTimeIndexPath,{unique:!1}),e.createIndex(hg.collectionReadTimeIndex,hg.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.rewriteCanonicalIds(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(bg.store,{keyPath:bg.keyPath})}(t),function(t){t.createObjectStore(_g.store,{keyPath:_g.keyPath})}(t)})),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(hg.store)._i(function(t,n){e+=tg(n)}).next(function(){var n=new fg(e);return t.store(fg.store).put(fg.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(og.store),r=t.store(ag.store);return n.ui().next(function(n){return Jd.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(ag.userMutationsIndex,i).next(function(r){return Jd.forEach(r,function(r){yl(r.userId===n.userId);var i=Mp(e.serializer,r);return $p(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(pg.store),n=t.store(hg.store);return t.store(gg.store).get(gg.key).next(function(t){var r=[];return n._i(function(n,i){var s=new Pl(n),o=function(t){return[0,Ap(t)]}(s);r.push(e.get(o).next(function(n){return n?Jd.resolve():function(n){return e.put(new pg(0,Ap(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Jd.qn(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(mg.store,{keyPath:mg.keyPath});var n=e.store(mg.store),r=new ng,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:Ap(i)})}};return e.store(hg.store)._i({li:!0},function(t,e){var n=new Pl(t);return i(n.q())}).next(function(){return e.store(ug.store)._i({li:!0},function(t,e){var n=kp(t[1]);return i(n.q())})})},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(dg.store);return n._i(function(t,r){var i=Up(r),s=qp(e.serializer,i);return n.put(s)})},t}(),ig=function(t,e){this.seconds=t,this.nanoseconds=e},sg=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};sg.store="owner",sg.key="owner";var og=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};og.store="mutationQueues",og.keyPath="userId";var ag=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ag.store="mutations",ag.keyPath="batchId",ag.userMutationsIndex="userMutationsIndex",ag.userMutationsKeyPath=["userId","batchId"];var ug=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ap(e)]},t.key=function(t,e,n){return[t,Ap(e),n]},t}();ug.store="documentMutations",ug.PLACEHOLDER=new ug;var cg=function(t,e){this.path=t,this.readTime=e},lg=function(t,e){this.path=t,this.version=e},hg=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};hg.store="remoteDocuments",hg.readTimeIndex="readTimeIndex",hg.readTimeIndexPath="readTime",hg.collectionReadTimeIndex="collectionReadTimeIndex",hg.collectionReadTimeIndexPath=["parentPath","readTime"];var fg=function(t){this.byteSize=t};fg.store="remoteDocumentGlobal",fg.key="remoteDocumentGlobalKey";var dg=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};dg.store="targets",dg.keyPath="targetId",dg.queryTargetsIndexName="queryTargetsIndex",dg.queryTargetsKeyPath=["canonicalId","targetId"];var pg=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};pg.store="targetDocuments",pg.keyPath=["targetId","path"],pg.documentTargetsIndex="documentTargetsIndex",pg.documentTargetsKeyPath=["path","targetId"];var gg=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};gg.key="targetGlobalKey",gg.store="targetGlobal";var mg=function(t,e){this.collectionId=t,this.parent=e};function yg(t){t.createObjectStore(pg.store,{keyPath:pg.keyPath}).createIndex(pg.documentTargetsIndex,pg.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(dg.store,{keyPath:dg.keyPath}).createIndex(dg.queryTargetsIndexName,dg.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(gg.store)}mg.store="collectionParents",mg.keyPath=["collectionId","parent"];var vg=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};vg.store="clientMetadata",vg.keyPath="clientId";var bg=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};bg.store="bundles",bg.keyPath="bundleId";var _g=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};_g.store="namedQueries",_g.keyPath="name";var wg=Object(to.g)(Object(to.g)(Object(to.g)(Object(to.g)([og.store,ag.store,ug.store,hg.store,dg.store,sg.store,gg.store,pg.store],[vg.store]),[fg.store]),[mg.store]),[bg.store,_g.store]),Eg=function(){function t(t){this.serializer=t}return t.prototype.ho=function(t,e){return Og(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Fp(e.createTime),version:e.version};var e})},t.prototype.lo=function(t,e){return Og(t).put({bundleId:(n=e).id,createTime:Vp(sf(n.createTime)),version:n.version});var n},t.prototype._o=function(t,e){return Sg(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Bp(e.bundledQuery),readTime:Fp(e.readTime)};var e})},t.prototype.fo=function(t,e){return Sg(t).put(function(t){return{name:t.name,readTime:Vp(sf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Og(t){return Pg.Ys(t,bg.store)}function Sg(t){return Pg.Ys(t,_g.store)}var Tg=function(){function t(){this.wo=new ng}return t.prototype.Mr=function(t,e){var n=this;if(!this.wo.has(e)){var r=e.K(),i=e.q();t.es(function(){n.wo.add(e)});var s={collectionId:r,parent:Ap(i)};return Cg(t).put(s)}return Jd.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[jl(e),""],!1,!0);return Cg(t).ui(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(kp(s.parent))}return n})},t}();function Cg(t){return Pg.Ys(t,mg.store)}var Ig=function(){function t(t){this.Eo=t}return t.prototype.next=function(){return this.Eo+=2,this.Eo},t.To=function(){return new t(0)},t.Io=function(){return new t(-1)},t}(),Ag=function(){function t(t,e){this.Dr=t,this.serializer=e}return t.prototype.mo=function(t){var e=this;return this.Ao(t).next(function(n){var r=new Ig(n.highestTargetId);return n.highestTargetId=r.next(),e.Ro(t,n).next(function(){return n.highestTargetId})})},t.prototype.Po=function(t){return this.Ao(t).next(function(t){return Nl.N(new kl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.yo=function(t){return this.Ao(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Vo=function(t,e,n){var r=this;return this.Ao(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ro(t,i)})},t.prototype.po=function(t,e){var n=this;return this.vo(t,e).next(function(){return n.Ao(t).next(function(r){return r.targetCount+=1,n.bo(e,r),n.Ro(t,r)})})},t.prototype.So=function(t,e){return this.vo(t,e)},t.prototype.Do=function(t,e){var n=this;return this.Co(t,e.targetId).next(function(){return xg(t).delete(e.targetId)}).next(function(){return n.Ao(t)}).next(function(e){return yl(e.targetCount>0),e.targetCount-=1,n.Ro(t,e)})},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return xg(t)._i(function(o,a){var u=Up(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.Do(t,u)))}).next(function(){return Jd.qn(s)}).next(function(){return i})},t.prototype.Ue=function(t,e){return xg(t)._i(function(t,n){var r=Up(n);e(r)})},t.prototype.Ao=function(t){return jg(t).get(gg.key).next(function(t){return yl(null!==t),t})},t.prototype.Ro=function(t,e){return jg(t).put(gg.key,e)},t.prototype.vo=function(t,e){return xg(t).put(qp(this.serializer,e))},t.prototype.bo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.No=function(t){return this.Ao(t).next(function(t){return t.targetCount})},t.prototype.xo=function(t,e){var n=zl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return xg(t)._i({range:r,index:dg.queryTargetsIndexName},function(t,n,r){var s=Up(n);Hl(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.Fo=function(t,e,n){var r=this,i=[],s=kg(t);return e.forEach(function(e){var o=Ap(e.path);i.push(s.put(new pg(n,o))),i.push(r.Dr.Oo(t,n,e))}),Jd.qn(i)},t.prototype.Mo=function(t,e,n){var r=this,i=kg(t);return Jd.forEach(e,function(e){var s=Ap(e.path);return Jd.qn([i.delete([n,s]),r.Dr.ko(t,n,e)])})},t.prototype.Co=function(t,e){var n=kg(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.$o=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=kg(t),i=hh();return r._i({range:n,li:!0},function(t,e,n){var r=kp(t[1]),s=new Vl(r);i=i.add(s)}).next(function(){return i})},t.prototype.zr=function(t,e){var n=Ap(e.path),r=IDBKeyRange.bound([n],[jl(n)],!1,!0),i=0;return kg(t)._i({index:pg.documentTargetsIndex,li:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Ze=function(t,e){return xg(t).get(e).next(function(t){return t?Up(t):null})},t}();function xg(t){return Pg.Ys(t,dg.store)}function jg(t){return Pg.Ys(t,gg.store)}function kg(t){return Pg.Ys(t,pg.store)}var Ng="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Dg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kr=e,r.Lo=n,r}return Object(to.c)(e,t),e}(np),Pg=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=s,this.window=o,this.document=a,this.Bo=c,this.qo=l,this.Uo=null,this.Qo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ko=null,this.inForeground=!1,this.Wo=null,this.jo=null,this.Go=Number.NEGATIVE_INFINITY,this.zo=function(t){return Promise.resolve()},!t.Gs())throw new _l(bl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Dr=new Vg(this,i),this.Ho=n+"main",this.serializer=new Np(u),this.Jo=new ap(this.Ho,11,new rg(this.serializer)),this.Yo=new Ag(this.Dr,this.serializer),this.os=new Tg,this.ss=function(t,e){return new Qp(t,e)}(this.serializer,this.os),this.Xo=new Eg(this.serializer),this.window&&this.window.localStorage?this.Zo=this.window.localStorage:(this.Zo=null,!1===l&&dl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof Dg)return ap.Ys(t.Kr,e);throw ml()},t.prototype.start=function(){var t=this;return this.tc().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new _l(bl.FAILED_PRECONDITION,Ng);return t.ec(),t.nc(),t.sc(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Yo.yo(e)})}).then(function(e){t.Uo=new sp(e,t.Bo)}).then(function(){t.Qo=!0}).catch(function(e){return t.Jo&&t.Jo.close(),Promise.reject(e)})},t.prototype.ic=function(t){var e=this;return this.zo=function(n){return Object(to.b)(e,void 0,void 0,function(){return Object(to.d)(this,function(e){return this.lr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.rc=function(t){var e=this;this.Jo.ti(function(n){return Object(to.b)(e,void 0,void 0,function(){return Object(to.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.oc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri(function(){return Object(to.b)(e,void 0,void 0,function(){return Object(to.d)(this,function(t){switch(t.label){case 0:return this.lr?[4,this.tc()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.tc=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Lg(e).put(new vg(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.cc(e).next(function(e){e||(t.isPrimary=!1,t.Cs.Mi(function(){return t.zo(!1)}))})}).next(function(){return t.uc(e)}).next(function(n){return t.isPrimary&&!n?t.ac(e).next(function(){return!1}):!!n&&t.hc(e).next(function(){return!0})})}).catch(function(e){if(lp(e))return fl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return fl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Cs.Mi(function(){return t.zo(e)}),t.isPrimary=e})},t.prototype.cc=function(t){var e=this;return Rg(t).get(sg.key).next(function(t){return Jd.resolve(e.lc(t))})},t.prototype._c=function(t){return Lg(t).delete(this.clientId)},t.prototype.fc=function(){return Object(to.b)(this,void 0,void 0,function(){var e,n,r,i=this;return Object(to.d)(this,function(s){switch(s.label){case 0:return!this.isPrimary||this.dc(this.Go,18e5)?[3,2]:(this.Go=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var n=t.Ys(e,vg.store);return n.ui().next(function(t){var e=i.wc(t,18e5),r=t.filter(function(t){return-1===e.indexOf(t)});return Jd.forEach(r,function(t){return n.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=s.sent(),this.Zo)for(n=0,r=e;n<r.length;n++)this.Zo.removeItem(this.Ec(r[n].clientId));s.label=2;case 2:return[2]}})})},t.prototype.sc=function(){var t=this;this.jo=this.Cs.Us("client_metadata_refresh",4e3,function(){return t.tc().then(function(){return t.fc()}).then(function(){return t.sc()})})},t.prototype.lc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.uc=function(t){var e=this;return this.qo?Jd.resolve(!0):Rg(t).get(sg.key).next(function(n){if(null!==n&&e.dc(n.leaseTimestampMs,5e3)&&!e.Tc(n.ownerId)){if(e.lc(n)&&e.networkEnabled)return!0;if(!e.lc(n)){if(!n.allowTabSynchronization)throw new _l(bl.FAILED_PRECONDITION,Ng);return!1}}return!(!e.networkEnabled||!e.inForeground)||Lg(t).ui().next(function(t){return void 0===e.wc(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&fl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Ic=function(){return Object(to.b)(this,void 0,void 0,function(){var t=this;return Object(to.d)(this,function(e){switch(e.label){case 0:return this.Qo=!1,this.mc(),this.jo&&(this.jo.cancel(),this.jo=null),this.Ac(),this.Rc(),[4,this.Jo.runTransaction("shutdown","readwrite",[sg.store,vg.store],function(e){var n=new Dg(e,sp.Ds);return t.ac(n).next(function(){return t._c(n)})})];case 1:return e.sent(),this.Jo.close(),this.Pc(),[2]}})})},t.prototype.wc=function(t,e){var n=this;return t.filter(function(t){return n.dc(t.updateTimeMs,e)&&!n.Tc(t.clientId)})},t.prototype.gc=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Lg(e).ui().next(function(e){return t.wc(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.yc=function(t){return zp.Nr(t,this.serializer,this.os,this.Dr)},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.bc=function(){return this.os},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return fl("IndexedDbPersistence","Starting transaction:",t),this.Jo.runTransaction(t,"readonly"===e?"readonly":"readwrite",wg,function(s){return r=new Dg(s,i.Uo?i.Uo.next():sp.Ds),"readwrite-primary"===e?i.cc(r).next(function(t){return!!t||i.uc(r)}).next(function(e){if(!e)throw dl("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Cs.Mi(function(){return i.zo(!1)}),new _l(bl.FAILED_PRECONDITION,ep);return n(r)}).next(function(t){return i.hc(r).next(function(){return t})}):i.Dc(r).next(function(){return n(r)})}).then(function(t){return r.ns(),t})},t.prototype.Dc=function(t){var e=this;return Rg(t).get(sg.key).next(function(t){if(null!==t&&e.dc(t.leaseTimestampMs,5e3)&&!e.Tc(t.ownerId)&&!e.lc(t)&&!(e.qo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new _l(bl.FAILED_PRECONDITION,Ng)})},t.prototype.hc=function(t){var e=new sg(this.clientId,this.allowTabSynchronization,Date.now());return Rg(t).put(sg.key,e)},t.Gs=function(){return ap.Gs()},t.prototype.ac=function(t){var e=this,n=Rg(t);return n.get(sg.key).next(function(t){return e.lc(t)?(fl("IndexedDbPersistence","Releasing primary lease."),n.delete(sg.key)):Jd.resolve()})},t.prototype.dc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(dl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.ec=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Wo=function(){t.Cs.Ri(function(){return t.inForeground="visible"===t.document.visibilityState,t.tc()})},this.document.addEventListener("visibilitychange",this.Wo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Ac=function(){this.Wo&&(this.document.removeEventListener("visibilitychange",this.Wo),this.Wo=null)},t.prototype.nc=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ko=function(){e.mc(),e.Cs.Ri(function(){return e.Ic()})},this.window.addEventListener("unload",this.Ko))},t.prototype.Rc=function(){this.Ko&&(this.window.removeEventListener("unload",this.Ko),this.Ko=null)},t.prototype.Tc=function(t){var e;try{var n=null!==(null===(e=this.Zo)||void 0===e?void 0:e.getItem(this.Ec(t)));return fl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return dl("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.mc=function(){if(this.Zo)try{this.Zo.setItem(this.Ec(this.clientId),String(Date.now()))}catch(t){dl("Failed to set zombie client id.",t)}},t.prototype.Pc=function(){if(this.Zo)try{this.Zo.removeItem(this.Ec(this.clientId))}catch(t){}},t.prototype.Ec=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Rg(t){return Pg.Ys(t,sg.store)}function Lg(t){return Pg.Ys(t,vg.store)}var Vg=function(){function t(t,e){this.db=t,this.cr=new Cp(this,e)}return t.prototype.Er=function(t){var e=this.Cc(t);return this.db.Vc().No(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Cc=function(t){var e=0;return this.Ir(t,function(t){e++}).next(function(){return e})},t.prototype.Ue=function(t,e){return this.db.Vc().Ue(t,e)},t.prototype.Ir=function(t,e){return this.Nc(t,function(t,n){return e(n)})},t.prototype.Oo=function(t,e,n){return Fg(t,n)},t.prototype.ko=function(t,e,n){return Fg(t,n)},t.prototype.mr=function(t,e,n){return this.db.Vc().mr(t,e,n)},t.prototype.jr=function(t,e){return Fg(t,e)},t.prototype.xc=function(t,e){return function(t,e){var n=!1;return Kp(t).fi(function(r){return Hp(t,r,e).next(function(t){return t&&(n=!0),Jd.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.vc().io(),i=[],s=0;return this.Nc(t,function(o,a){if(a<=e){var u=n.xc(t,o).next(function(e){if(!e)return s++,r.Jn(t,o).next(function(){return r.Hn(o),kg(t).delete([0,Ap(o.path)])})});i.push(u)}}).next(function(){return Jd.qn(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Lo);return this.db.Vc().So(t,n)},t.prototype.Fc=function(t,e){return Fg(t,e)},t.prototype.Nc=function(t,e){var n,r=kg(t),i=sp.Ds;return r._i({index:pg.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==sp.Ds&&e(new Vl(kp(n)),i),i=o,n=s):i=sp.Ds}).next(function(){i!==sp.Ds&&e(new Vl(kp(n)),i)})},t.prototype.Pr=function(t){return this.db.vc().oo(t)},t}();function Fg(t,e){return kg(t).put(function(t,e){return new pg(0,Ap(t.path),e)}(e,t.Lo))}function Mg(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Ug=function(){function t(t,e,n,r){this.persistence=t,this.Oc=e,this.serializer=r,this.Mc=new Xl(Al),this.kc=new Qd(function(t){return zl(t)},Hl),this.$c=Nl.min(),this.rs=t.yc(n),this.Lc=t.vc(),this.Yo=t.Vc(),this.Bc=new rp(this.Lc,this.rs,this.persistence.bc()),this.Xo=t.Sc(),this.Oc.yr(this.Bc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Rr(n,e.Mc)})},t}();function qg(t,e,n,r){return new Ug(t,e,n,r)}function Bg(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(to.d)(this,function(o){switch(o.label){case 0:return n=vl(t),r=n.rs,i=n.Bc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n.rs.qr(t).next(function(o){return s=o,r=n.persistence.yc(e),i=new rp(n.Lc,r,n.persistence.bc()),r.qr(t)}).next(function(e){for(var n=[],r=[],o=hh(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i._s(t,o).next(function(t){return{qc:t,Uc:n,Qc:r}})})})];case 1:return s=o.sent(),[2,(n.rs=r,n.Bc=i,n.Oc.yr(n.Bc),s)]}})})}function zg(t,e){var n=vl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Lc.io({ro:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Jd.resolve();return s.forEach(function(t){o=o.next(function(){return r.Jn(e,t)}).next(function(e){var s=e,o=n.Sn.get(t);yl(null!==o),(!s||s.version.F(o)<0)&&(s=i.yn(t,s,n))&&r.jn(s,n.bn)})}),o.next(function(){return t.rs.Qr(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.rs.Gr(t)}).next(function(){return n.Bc._s(t,r)})})}function Hg(t){var e=vl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Yo.Po(t)})}function $g(t,e){var n=vl(t),r=e.ft,i=n.Mc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Lc.io({ro:!0});i=n.Mc;var o=[];e.re.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.Yo.Mo(t,e.de,s).next(function(){return n.Yo.Fo(t,e._e,s)}));var u=e.resumeToken;if(u.ht()>0){var c=a.wt(u,r).dt(t.Lo);i=i.Tt(s,c),function(t,e,n){return yl(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(a,c,e)&&o.push(n.Yo.So(t,c))}}});var a=sh();if(e.ce.forEach(function(r,i){e.ue.has(r)&&o.push(n.persistence.Dr.Fc(t,r))}),o.push(function(t,e,n,r,i){var s=hh();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var i=sh();return n.forEach(function(n,s){var o=t.get(n),a=r;s instanceof dd&&s.version.isEqual(Nl.min())?(e.Hn(n,a),i=i.Tt(n,s)):null==o||s.version.F(o.version)>0||0===s.version.F(o.version)&&o.hasPendingWrites?(e.jn(s,a),i=i.Tt(n,s)):fl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),i})}(t,s,e.ce,r).next(function(t){a=t})),!r.isEqual(Nl.min())){var u=n.Yo.Po(t).next(function(e){return n.Yo.Vo(t,t.Lo,r)});o.push(u)}return Jd.qn(o).next(function(){return s.apply(t)}).next(function(){return n.Bc.fs(t,a)})}).then(function(t){return n.Mc=i,t})}function Gg(t,e){var n=vl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.rs.Lr(t,e)})}function Wg(t,e){var n=vl(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Yo.xo(t,e).next(function(i){return i?Jd.resolve(r=i):n.Yo.mo(t).next(function(i){return r=new Ql(e,i,0,t.Lo),n.Yo.po(t,r).next(function(){return r})})})}).then(function(t){var r=n.Mc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Mc=n.Mc.Tt(t.targetId,t),n.kc.set(e,t.targetId)),t})}function Kg(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(to.d)(this,function(a){switch(a.label){case 0:r=vl(t),i=r.Mc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.Dr.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!lp(o=a.sent()))throw o;return fl("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Mc=r.Mc.remove(e),r.kc.delete(i.target),[2]}})})}function Qg(t,e,n){var r=vl(t),i=Nl.min(),s=hh();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=vl(t),i=r.kc.get(n);return void 0!==i?Jd.resolve(r.Mc.get(i)):r.Yo.xo(e,n)}(r,t,Sd(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Yo.$o(t,e.targetId).next(function(t){s=t})}).next(function(){return r.Oc.ws(t,e,n?i:Nl.min(),n?s:hh())}).next(function(t){return{documents:t,Kc:s}})})}function Jg(t,e){var n=vl(t),r=vl(n.Yo),i=n.Mc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Ze(t,e).next(function(t){return t?t.target:null})})}function Yg(t){var e=vl(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=vl(t),i=sh(),s=Rp(n),o=Zp(e),a=IDBKeyRange.lowerBound(s,!0);return o._i({index:hg.readTimeIndex,range:a},function(t,e){var n=Dp(r.serializer,e);i=i.Tt(n.key,n),s=e.readTime}).next(function(){return{Wc:i,readTime:Lp(s)}})}(e.Lc,t,e.$c)}).then(function(t){var n=t.Wc;return e.$c=t.readTime,n})}function Zg(t){return Object(to.b)(this,void 0,void 0,function(){var e;return Object(to.d)(this,function(n){return[2,(e=vl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Zp(t),n=Nl.min();return e._i({index:hg.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Lp(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$c=t})]})})}function Xg(t){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(e){if(t.code!==bl.FAILED_PRECONDITION||t.message!==ep)throw t;return fl("LocalStore","Unexpectedly lost primary lease"),[2]})})}var tm=function(){function t(t,e,n,r,i,s){this.Cs=t,this.jc=n,this.Gc=r,this.zc=i,this.listener=s,this.state=0,this.Hc=0,this.Jc=null,this.stream=null,this.Si=new op(t,e)}return t.prototype.Yc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Xc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Zc()},t.prototype.stop=function(){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(t){switch(t.label){case 0:return this.Yc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.tu=function(){this.state=0,this.Si.reset()},t.prototype.eu=function(){var t=this;this.Xc()&&null===this.Jc&&(this.Jc=this.Cs.Us(this.jc,6e4,function(){return t.nu()}))},t.prototype.su=function(t){this.iu(),this.stream.send(t)},t.prototype.nu=function(){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(t){return this.Xc()?[2,this.close(0)]:[2]})})},t.prototype.iu=function(){this.Jc&&(this.Jc.cancel(),this.Jc=null)},t.prototype.close=function(t,e){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(n){switch(n.label){case 0:return this.iu(),this.Si.cancel(),this.Hc++,3!==t?this.Si.reset():e&&e.code===bl.RESOURCE_EXHAUSTED?(dl(e.toString()),dl("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===bl.UNAUTHENTICATED&&this.zc.m(),null!==this.stream&&(this.ru(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ou(e)];case 1:return n.sent(),[2]}})})},t.prototype.ru=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.cu(this.Hc),n=this.Hc;this.zc.getToken().then(function(e){t.Hc===n&&t.uu(e)},function(n){e(function(){var e=new _l(bl.UNKNOWN,"Fetching auth token failed: "+n.message);return t.au(e)})})},t.prototype.uu=function(t){var e=this,n=this.cu(this.Hc);this.stream=this.hu(t),this.stream.lu(function(){n(function(){return e.state=2,e.listener.lu()})}),this.stream.ou(function(t){n(function(){return e.au(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Zc=function(){var t=this;this.state=4,this.Si.Bs(function(){return Object(to.b)(t,void 0,void 0,function(){return Object(to.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.au=function(t){return fl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.cu=function(t){var e=this;return function(n){e.Cs.Ri(function(){return e.Hc===t?n():(fl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),em=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return Object(to.c)(e,t),e.prototype.hu=function(t){return this.Gc._u("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ml()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.tn?(yl(void 0===e||"string"==typeof e),Gl.fromBase64String(e||"")):(yl(void 0===e||e instanceof Uint8Array),Gl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?bl.UNKNOWN:Zl(t.code);return new _l(e,t.message||"")}(o);n=new wh(r,i,s,a||null)}else if("documentChange"in e){var u=e.documentChange,c=cf(t,u.document.name),l=sf(u.document.updateTime),h=new ud({mapValue:{fields:u.document.fields}}),f=new fd(c,l,h,{});n=new bh(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=cf(t,d.document),g=d.readTime?sf(d.readTime):Nl.min(),m=new dd(p,g);n=new bh([],d.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){var y=e.documentRemove,v=cf(t,y.document);n=new bh([],y.removedTargetIds||[],v,null)}else{if(!("filter"in e))return ml();var b=e.filter,_=new Jl(b.count||0);n=new _h(b.targetId,_)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Nl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Nl.min():e.readTime?sf(e.readTime):Nl.min()}(t);return this.listener.fu(e,n)},e.prototype.du=function(t){var e={};e.database=ff(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=$l(r)?{documents:yf(t,r)}:{query:vf(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=nf(t,e.resumeToken):e.ft.F(Nl.min())>0&&(n.readTime=ef(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ml()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.su(e)},e.prototype.wu=function(t){var e={};e.database=ff(this.serializer),e.removeTarget=t,this.su(e)},e}(tm),nm=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o.Eu=!1,o}return Object(to.c)(e,t),Object.defineProperty(e.prototype,"Tu",{get:function(){return this.Eu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Eu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ru=function(){this.Eu&&this.Iu([])},e.prototype.hu=function(t){return this.Gc._u("Write",t)},e.prototype.onMessage=function(t){if(yl(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Eu){this.Si.reset();var e=function(t,e){return t&&t.length>0?(yl(void 0!==e),t.map(function(t){return function(t,e){var n=sf(t.updateTime?t.updateTime:e);n.isEqual(Nl.min())&&(n=sf(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new $f(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=sf(t.commitTime);return this.listener.mu(n,e)}return yl(!t.writeResults||0===t.writeResults.length),this.Eu=!0,this.listener.Au()},e.prototype.Ru=function(){var t={};t.database=ff(this.serializer),this.su(t)},e.prototype.Iu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return gf(e.serializer,t)})};this.su(n)},e}(tm),rm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Gc=n,i.serializer=r,i.Pu=!1,i}return Object(to.c)(e,t),e.prototype.gu=function(){if(this.Pu)throw new _l(bl.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.yu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then(function(i){return r.Gc.yu(t,e,n,i)}).catch(function(t){throw t.code===bl.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.Vu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then(function(i){return r.Gc.Vu(t,e,n,i)}).catch(function(t){throw t.code===bl.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.terminate=function(){this.Pu=!1},e}(function(){}),im=function(){function t(t,e){this.di=t,this.pu=e,this.state="Unknown",this.vu=0,this.bu=null,this.Su=!0}return t.prototype.Du=function(){var t=this;0===this.vu&&(this.Cu("Unknown"),this.bu=this.di.Us("online_state_timeout",1e4,function(){return t.bu=null,t.Nu("Backend didn't respond within 10 seconds."),t.Cu("Offline"),Promise.resolve()}))},t.prototype.xu=function(t){"Online"===this.state?this.Cu("Unknown"):(this.vu++,this.vu>=1&&(this.Fu(),this.Nu("Connection failed 1 times. Most recent error: "+t.toString()),this.Cu("Offline")))},t.prototype.set=function(t){this.Fu(),this.vu=0,"Online"===t&&(this.Su=!1),this.Cu(t)},t.prototype.Cu=function(t){t!==this.state&&(this.state=t,this.pu(t))},t.prototype.Nu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Su?(dl(e),this.Su=!1):fl("OnlineStateTracker",e)},t.prototype.Fu=function(){null!==this.bu&&(this.bu.cancel(),this.bu=null)},t}(),sm=function(t,e,n,r,i){var s=this;this.Ou=t,this.Mu=e,this.di=n,this.ku={},this.$u=[],this.Lu=new Map,this.Bu=new Set,this.qu=[],this.Uu=i,this.Uu.Qu(function(t){n.Ri(function(){return Object(to.b)(s,void 0,void 0,function(){return Object(to.d)(this,function(t){switch(t.label){case 0:return pm(this)?(fl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(to.b)(this,void 0,void 0,function(){var e;return Object(to.d)(this,function(n){switch(n.label){case 0:return(e=vl(t)).Bu.add(4),[4,am(e)];case 1:return n.sent(),e.Ku.set("Unknown"),e.Bu.delete(4),[4,om(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Ku=new im(n,r)};function om(t){return Object(to.b)(this,void 0,void 0,function(){var e,n;return Object(to.d)(this,function(r){switch(r.label){case 0:if(!pm(t))return[3,4];e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function am(t){return Object(to.b)(this,void 0,void 0,function(){var e,n;return Object(to.d)(this,function(r){switch(r.label){case 0:e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function um(t,e){var n=vl(t);n.Lu.has(e.targetId)||(n.Lu.set(e.targetId,e),dm(n)?fm(n):xm(n).Xc()&&lm(n,e))}function cm(t,e){var n=vl(t),r=xm(n);n.Lu.delete(e),r.Xc()&&hm(n,e),0===n.Lu.size&&(r.Xc()?r.eu():pm(n)&&n.Ku.set("Unknown"))}function lm(t,e){t.Wu.De(e.targetId),xm(t).du(e)}function hm(t,e){t.Wu.De(e),xm(t).wu(e)}function fm(t){t.Wu=new Oh({Xe:function(e){return t.ku.Xe(e)},Ze:function(e){return t.Lu.get(e)||null}}),xm(t).start(),t.Ku.Du()}function dm(t){return pm(t)&&!xm(t).Yc()&&t.Lu.size>0}function pm(t){return 0===vl(t).Bu.size}function gm(t){t.Wu=void 0}function mm(t){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(e){return t.Lu.forEach(function(e,n){lm(t,e)}),[2]})})}function ym(t,e){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(n){return gm(t),dm(t)?(t.Ku.xu(e),fm(t)):t.Ku.set("Unknown"),[2]})})}function vm(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r,i,s;return Object(to.d)(this,function(o){switch(o.label){case 0:if(t.Ku.set("Online"),!(e instanceof wh&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(to.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Lu.has(s=i[r])?[4,t.ku.ju(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Lu.delete(s),t.Wu.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),fl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,bm(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof bh?t.Wu.$e(e):e instanceof _h?t.Wu.je(e):t.Wu.qe(e),n.isEqual(Nl.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Hg(t.Ou)];case 8:return i=o.sent(),n.F(i)>=0?[4,function(t,e){var n=t.Wu.He(e);return n.re.forEach(function(n,r){if(n.resumeToken.ht()>0){var i=t.Lu.get(r);i&&t.Lu.set(r,i.wt(n.resumeToken,e))}}),n.oe.forEach(function(e){var n=t.Lu.get(e);if(n){t.Lu.set(e,n.wt(Gl.lt,n.ft)),hm(t,e);var r=new Ql(n.target,e,1,n.sequenceNumber);lm(t,r)}}),t.ku.Gu(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return fl("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,bm(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function bm(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r=this;return Object(to.d)(this,function(i){switch(i.label){case 0:if(!lp(e))throw e;return t.Bu.add(1),[4,am(t)];case 1:return i.sent(),t.Ku.set("Offline"),n||(n=function(){return Hg(t.Ou)}),t.di.Mi(function(){return Object(to.b)(r,void 0,void 0,function(){return Object(to.d)(this,function(e){switch(e.label){case 0:return fl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Bu.delete(1),[4,om(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function _m(t,e){return e().catch(function(n){return bm(t,n,e)})}function wm(t){return Object(to.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(to.d)(this,function(o){switch(o.label){case 0:e=vl(t),n=jm(e),r=e.$u.length>0?e.$u[e.$u.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return pm(t)&&t.$u.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Gg(e.Ou,r)];case 3:return null===(i=o.sent())?(0===e.$u.length&&n.eu(),[3,7]):(r=i.batchId,function(t,e){t.$u.push(e);var n=jm(t);n.Xc()&&n.Tu&&n.Iu(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,bm(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Em(e)&&Om(e),[2]}})})}function Em(t){return pm(t)&&!jm(t).Yc()&&t.$u.length>0}function Om(t){jm(t).start()}function Sm(t){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(e){return jm(t).Ru(),[2]})})}function Tm(t){return Object(to.b)(this,void 0,void 0,function(){var e,n,r;return Object(to.d)(this,function(i){for(e=jm(t),n=0,r=t.$u;n<r.length;n++)e.Iu(r[n].mutations);return[2]})})}function Cm(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r,i;return Object(to.d)(this,function(s){switch(s.label){case 0:return r=t.$u.shift(),i=Kd.from(r,e,n),[4,_m(t,function(){return t.ku.zu(i)})];case 1:return s.sent(),[4,wm(t)];case 2:return s.sent(),[2]}})})}function Im(t,e){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(n){switch(n.label){case 0:return e&&jm(t).Tu?[4,function(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r;return Object(to.d)(this,function(i){switch(i.label){case 0:return Yl(r=e.code)&&r!==bl.ABORTED?(n=t.$u.shift(),jm(t).tu(),[4,_m(t,function(){return t.ku.Hu(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,wm(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Em(t)&&Om(t),[2]}})})}function Am(t,e){return Object(to.b)(this,void 0,void 0,function(){var n;return Object(to.d)(this,function(r){switch(r.label){case 0:return n=vl(t),e?(n.Bu.delete(2),[4,om(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Bu.add(2),[4,am(n)]);case 3:r.sent(),n.Ku.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function xm(t){var e=this;return t.Ju||(t.Ju=function(t,e,n){var r=vl(t);return r.gu(),new em(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:mm.bind(null,t),ou:ym.bind(null,t),fu:vm.bind(null,t)}),t.qu.push(function(n){return Object(to.b)(e,void 0,void 0,function(){return Object(to.d)(this,function(e){switch(e.label){case 0:return n?(t.Ju.tu(),dm(t)?fm(t):t.Ku.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ju.stop()];case 2:e.sent(),gm(t),e.label=3;case 3:return[2]}})})})),t.Ju}function jm(t){var e=this;return t.Yu||(t.Yu=function(t,e,n){var r=vl(t);return r.gu(),new nm(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:Sm.bind(null,t),ou:Im.bind(null,t),Au:Tm.bind(null,t),mu:Cm.bind(null,t)}),t.qu.push(function(n){return Object(to.b)(e,void 0,void 0,function(){return Object(to.d)(this,function(e){switch(e.label){case 0:return n?(t.Yu.tu(),[4,wm(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Yu.stop()];case 3:e.sent(),t.$u.length>0&&(fl("RemoteStore","Stopping write stream with "+t.$u.length+" pending writes"),t.$u=[]),e.label=4;case 4:return[2]}})})})),t.Yu}var km=function(){this.Xu=void 0,this.listeners=[]},Nm=function(){this.queries=new Qd(function(t){return Id(t)},Cd),this.onlineState="Unknown",this.Zu=new Set};function Dm(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(to.d)(this,function(c){switch(c.label){case 0:if(n=vl(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new km),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.ta(r)];case 2:return o.Xu=c.sent(),[3,4];case 3:return a=c.sent(),u=_p(a,"Initialization of query '"+Ad(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.ea(n.onlineState),s.Xu&&e.na(s.Xu)&&Vm(n),[2]}})})}function Pm(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(to.d)(this,function(a){return n=vl(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.sa(r))]:[2]})})}function Rm(t,e){for(var n=vl(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].na(o)&&(r=!0);a.Xu=o}}r&&Vm(n)}function Lm(t,e,n){var r=vl(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Vm(t){t.Zu.forEach(function(t){t.next()})}var Fm=function(){function t(t,e,n){this.query=t,this.ia=e,this.ra=!1,this.oa=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.na=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new mh(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var s=!1;return this.ra?this.ca(t)&&(this.ia.next(t),s=!0):this.ua(t,this.onlineState)&&(this.aa(t),s=!0),this.oa=t,s},t.prototype.onError=function(t){this.ia.error(t)},t.prototype.ea=function(t){this.onlineState=t;var e=!1;return this.oa&&!this.ra&&this.ua(this.oa,t)&&(this.aa(this.oa),e=!0),e},t.prototype.ua=function(t,e){return!t.fromCache||!(this.options.ha&&"Offline"!==e||t.docs.W()&&"Offline"!==e)},t.prototype.ca=function(t){return t.docChanges.length>0||!!(t.ne||this.oa&&this.oa.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.aa=function(t){t=mh.ie(t.query,t.docs,t.ee,t.fromCache),this.ra=!0,this.ia.next(t)},t}(),Mm=function(){function t(){this.la=new nh(Um._a),this.fa=new nh(Um.da)}return t.prototype.W=function(){return this.la.W()},t.prototype.Oo=function(t,e){var n=new Um(t,e);this.la=this.la.add(n),this.fa=this.fa.add(n)},t.prototype.wa=function(t,e){var n=this;t.forEach(function(t){return n.Oo(t,e)})},t.prototype.ko=function(t,e){this.Ea(new Um(t,e))},t.prototype.Ta=function(t,e){var n=this;t.forEach(function(t){return n.ko(t,e)})},t.prototype.Ia=function(t){var e=this,n=new Vl(new Pl([])),r=new Um(n,t),i=new Um(n,t+1),s=[];return this.fa.Kt([r,i],function(t){e.Ea(t),s.push(t.key)}),s},t.prototype.ma=function(){var t=this;this.la.forEach(function(e){return t.Ea(e)})},t.prototype.Ea=function(t){this.la=this.la.delete(t),this.fa=this.fa.delete(t)},t.prototype.Aa=function(t){var e=new Vl(new Pl([])),n=new Um(e,t),r=new Um(e,t+1),i=hh();return this.fa.Kt([n,r],function(t){i=i.add(t.key)}),i},t.prototype.zr=function(t){var e=new Um(t,0),n=this.la.jt(e);return null!==n&&t.isEqual(n.key)},t}(),Um=function(){function t(t,e){this.key=t,this.Ra=e}return t._a=function(t,e){return Vl.$(t.key,e.key)||Al(t.Ra,e.Ra)},t.da=function(t,e){return Al(t.Ra,e.Ra)||Vl.$(t.key,e.key)},t}();function qm(t,e){return"firestore_clients_"+t+"_"+e}function Bm(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function zm(t,e){return"firestore_targets_"+t+"_"+e}var Hm=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Pa=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new _l(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(dl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),$m=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Pa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new _l(r.error.code,r.error.message)),i?new t(e,r.state,s):(dl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Gm=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Pa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=dh(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ul(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(dl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Wm=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Pa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(dl("SharedClientState","Failed to parse online state: "+e),null)},t}(),Km=function(){function t(){this.activeTargetIds=dh()}return t.prototype.ya=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Va=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ga=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Qm=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.pa=r,this.va=null,this.pu=null,this.ps=null,this.ba=this.Sa.bind(this),this.Da=new Xl(Al),this.lr=!1,this.Ca=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Na=qm(this.persistenceKey,this.pa),this.xa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Da=this.Da.Tt(this.pa,new Km),this.Fa=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Oa=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Ma=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ka=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.$a=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ba)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(to.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(to.d)(this,function(h){switch(h.label){case 0:return[4,this.va.gc()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.pa&&(i=this.getItem(qm(this.persistenceKey,r)))&&(s=Gm.Pa(r,i))&&(this.Da=this.Da.Tt(s.clientId,s));for(this.La(),(o=this.storage.getItem(this.ka))&&(a=this.Ba(o))&&this.qa(a),u=0,c=this.Ca;u<c.length;u++)this.Sa(c[u]);return this.Ca=[],this.window.addEventListener("unload",function(){return l.Ic()}),this.lr=!0,[2]}})})},t.prototype.Ss=function(t){this.setItem(this.xa,JSON.stringify(t))},t.prototype.Ua=function(){return this.Qa(this.Da)},t.prototype.Ka=function(t){var e=!1;return this.Da.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Wa=function(t){this.ja(t,"pending")},t.prototype.Ga=function(t,e,n){this.ja(t,e,n),this.za(t)},t.prototype.Ha=function(t){var e="not-current";if(this.Ka(t)){var n=this.storage.getItem(zm(this.persistenceKey,t));if(n){var r=$m.Pa(t,n);r&&(e=r.state)}}return this.Ja.ya(t),this.La(),e},t.prototype.Ya=function(t){this.Ja.Va(t),this.La()},t.prototype.Xa=function(t){return this.Ja.activeTargetIds.has(t)},t.prototype.Za=function(t){this.removeItem(zm(this.persistenceKey,t))},t.prototype.th=function(t,e,n){this.eh(t,e,n)},t.prototype.nh=function(t,e,n){var r=this;e.forEach(function(t){r.za(t)}),this.currentUser=t,n.forEach(function(t){r.Wa(t)})},t.prototype.sh=function(t){this.ih(t)},t.prototype.rh=function(){this.oh()},t.prototype.Ic=function(){this.lr&&(this.window.removeEventListener("storage",this.ba),this.removeItem(this.Na),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return fl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){fl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){fl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Sa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(fl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Na)return void dl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi(function(){return Object(to.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(to.d)(this,function(a){if(this.lr){if(null!==n.key)if(this.Fa.test(n.key)){if(null==n.newValue)return t=this.uh(n.key),[2,this.ah(t,null)];if(e=this.hh(n.key,n.newValue))return[2,this.ah(e.clientId,e)]}else if(this.Oa.test(n.key)){if(null!==n.newValue&&(r=this.lh(n.key,n.newValue)))return[2,this._h(r)]}else if(this.Ma.test(n.key)){if(null!==n.newValue&&(i=this.fh(n.key,n.newValue)))return[2,this.dh(i)]}else if(n.key===this.ka){if(null!==n.newValue&&(s=this.Ba(n.newValue)))return[2,this.qa(s)]}else if(n.key===this.xa)(o=function(t){var e=sp.Ds;if(null!=t)try{var n=JSON.parse(t);yl("number"==typeof n),e=n}catch(t){dl("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==sp.Ds&&this.ps(o);else if(n.key===this.$a)return[2,this.va.wh()]}else this.Ca.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ja",{get:function(){return this.Da.get(this.pa)},enumerable:!1,configurable:!0}),t.prototype.La=function(){this.setItem(this.Na,this.Ja.ga())},t.prototype.ja=function(t,e,n){var r=new Hm(this.currentUser,t,e,n),i=Bm(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ga())},t.prototype.za=function(t){var e=Bm(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ih=function(t){this.storage.setItem(this.ka,JSON.stringify({clientId:this.pa,onlineState:t}))},t.prototype.eh=function(t,e,n){var r=zm(this.persistenceKey,t),i=new $m(t,e,n);this.setItem(r,i.ga())},t.prototype.oh=function(){this.setItem(this.$a,"value-not-used")},t.prototype.uh=function(t){var e=this.Fa.exec(t);return e?e[1]:null},t.prototype.hh=function(t,e){var n=this.uh(t);return Gm.Pa(n,e)},t.prototype.lh=function(t,e){var n=this.Oa.exec(t),r=Number(n[1]);return Hm.Pa(new cl(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fh=function(t,e){var n=this.Ma.exec(t),r=Number(n[1]);return $m.Pa(r,e)},t.prototype.Ba=function(t){return Wm.Pa(t)},t.prototype._h=function(t){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.va.Eh(t.batchId,t.state,t.error)]:(fl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.dh=function(t){return this.va.Th(t.targetId,t.state,t.error)},t.prototype.ah=function(t,e){var n=this,r=e?this.Da.Tt(t,e):this.Da.remove(t),i=this.Qa(this.Da),s=this.Qa(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.va.Ih(o,a).then(function(){n.Da=r})},t.prototype.qa=function(t){this.Da.get(t.clientId)&&this.pu(t.onlineState)},t.prototype.Qa=function(t){var e=dh();return t.forEach(function(t,n){e=e.Gt(n.activeTargetIds)}),e},t}(),Jm=function(){function t(){this.mh=new Km,this.Ah={},this.pu=null,this.ps=null}return t.prototype.Wa=function(t){},t.prototype.Ga=function(t,e,n){},t.prototype.Ha=function(t){return this.mh.ya(t),this.Ah[t]||"not-current"},t.prototype.th=function(t,e,n){this.Ah[t]=e},t.prototype.Ya=function(t){this.mh.Va(t)},t.prototype.Xa=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.Za=function(t){delete this.Ah[t]},t.prototype.Ua=function(){return this.mh.activeTargetIds},t.prototype.Ka=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.start=function(){return this.mh=new Km,Promise.resolve()},t.prototype.nh=function(t,e,n){},t.prototype.sh=function(t){},t.prototype.Ic=function(){},t.prototype.Ss=function(t){},t.prototype.rh=function(){},t}(),Ym=function(t){this.key=t},Zm=function(t){this.key=t},Xm=function(){function t(t,e){this.query=t,this.Rh=e,this.Ph=null,this.le=!1,this.gh=hh(),this.ee=hh(),this.yh=jd(t),this.Vh=new ph(this.yh)}return Object.defineProperty(t.prototype,"ph",{get:function(){return this.Rh},enumerable:!1,configurable:!0}),t.prototype.bh=function(t,e){var n=this,r=e?e.Sh:new gh,i=e?e.Vh:this.Vh,s=e?e.ee:this.ee,o=i,a=!1,u=vd(this.query)&&i.size===this.query.limit?i.last():null,c=bd(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt(function(t,e){var l=i.get(t),h=e instanceof fd?e:null;h&&(h=xd(n.query,h)?h:null);var f=!!l&&n.ee.has(l.key),d=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Dh(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.yh(h,u)>0||c&&n.yh(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),vd(this.query)||bd(this.query))for(;o.size>this.query.limit;){var l=vd(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Vh:o,Sh:r,br:a,ee:s}},t.prototype.Dh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Vh;this.Vh=t.Vh,this.ee=t.ee;var s=t.Sh.Zt();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ml()}};return n(t)-n(e)}(t.type,e.type)||r.yh(t.doc,e.doc)}),this.Ch(n);var o=e?this.Nh():[],a=0===this.gh.size&&this.le?1:0,u=a!==this.Ph;return this.Ph=a,0!==s.length||u?{snapshot:new mh(this.query,t.Vh,i,s,t.ee,0===a,u,!1),xh:o}:{xh:o}},t.prototype.ea=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Vh:this.Vh,Sh:new gh,ee:this.ee,br:!1},!1)):{xh:[]}},t.prototype.Fh=function(t){return!this.Rh.has(t)&&!!this.Vh.has(t)&&!this.Vh.get(t).an},t.prototype.Ch=function(t){var e=this;t&&(t._e.forEach(function(t){return e.Rh=e.Rh.add(t)}),t.fe.forEach(function(t){}),t.de.forEach(function(t){return e.Rh=e.Rh.delete(t)}),this.le=t.le)},t.prototype.Nh=function(){var t=this;if(!this.le)return[];var e=this.gh;this.gh=hh(),this.Vh.forEach(function(e){t.Fh(e.key)&&(t.gh=t.gh.add(e.key))});var n=[];return e.forEach(function(e){t.gh.has(e)||n.push(new Zm(e))}),this.gh.forEach(function(t){e.has(t)||n.push(new Ym(t))}),n},t.prototype.Oh=function(t){this.Rh=t.Kc,this.gh=hh();var e=this.bh(t.documents);return this.Zn(e,!0)},t.prototype.Mh=function(){return mh.ie(this.query,this.Vh,this.ee,0===this.Ph)},t}(),ty=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ey=function(t){this.key=t,this.kh=!1},ny=function(){function t(t,e,n,r,i,s){this.Ou=t,this.$h=e,this.Lh=n,this.Bh=r,this.currentUser=i,this.qh=s,this.Uh={},this.Qh=new Qd(function(t){return Id(t)},Cd),this.Kh=new Map,this.Wh=[],this.jh=new Xl(Vl.$),this.Gh=new Map,this.zh=new Mm,this.Hh={},this.Jh=new Map,this.Yh=Ig.Io(),this.onlineState="Unknown",this.Xh=void 0}return Object.defineProperty(t.prototype,"Zh",{get:function(){return!0===this.Xh},enumerable:!1,configurable:!0}),t}();function ry(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(to.d)(this,function(a){switch(a.label){case 0:return n=Ny(t),(i=n.Qh.get(e))?(n.Bh.Ha(i.targetId),r=i.view.Mh(),[3,4]):[3,1];case 1:return[4,Wg(n.Ou,Sd(e))];case 2:return s=a.sent(),o=n.Bh.Ha(s.targetId),[4,iy(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.Zh&&um(n.$h,s),a.label=4;case 4:return[2,r]}})})}function iy(t,e,n,r){return Object(to.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(to.d)(this,function(l){switch(l.label){case 0:return t.tl=function(e,n,r){return function(t,e,n,r){return Object(to.b)(this,void 0,void 0,function(){var i,s,o;return Object(to.d)(this,function(a){switch(a.label){case 0:return(i=e.view.bh(n)).br?[4,Qg(t.Ou,e.query,!1).then(function(t){return e.view.bh(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.re.get(e.targetId),o=e.view.Zn(i,t.Zh,s),[2,(yy(t,e.targetId,o.xh),o.snapshot)]}})})}(t,e,n,r)},[4,Qg(t.Ou,e,!0)];case 1:return i=l.sent(),s=new Xm(e,i.Kc),o=s.bh(i.documents),a=vh.he(n,r&&"Offline"!==t.onlineState),u=s.Zn(o,t.Zh,a),yy(t,n,u.xh),c=new ty(e,n,s),[2,(t.Qh.set(e,c),t.Kh.has(n)?t.Kh.get(n).push(e):t.Kh.set(n,[e]),u.snapshot)]}})})}function sy(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i;return Object(to.d)(this,function(s){switch(s.label){case 0:return n=vl(t),r=n.Qh.get(e),(i=n.Kh.get(r.targetId)).length>1?[2,(n.Kh.set(r.targetId,i.filter(function(t){return!Cd(t,e)})),void n.Qh.delete(e))]:n.Zh?(n.Bh.Ya(r.targetId),n.Bh.Ka(r.targetId)?[3,2]:[4,Kg(n.Ou,r.targetId,!1).then(function(){n.Bh.Za(r.targetId),cm(n.$h,r.targetId),gy(n,r.targetId)}).catch(Xg)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return gy(n,r.targetId),[4,Kg(n.Ou,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function oy(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(to.d)(this,function(a){switch(a.label){case 0:r=Dy(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=vl(t),i=kl.now(),s=e.reduce(function(t,e){return t.add(e.key)},hh());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Bc._s(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Yf(c,n.get(c.key));null!=l&&o.push(new ed(c.key,l,ld(l.proto.mapValue),Gf.exists(!0)))}return r.rs.Or(t,i,o,e)})}).then(function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}})}(r.Ou,e)];case 2:return i=a.sent(),r.Bh.Wa(i.batchId),function(t,e,n){var r=t.Hh[t.currentUser.h()];r||(r=new Xl(Al)),r=r.Tt(e,n),t.Hh[t.currentUser.h()]=r}(r,i.batchId,n),[4,_y(r,i.Qn)];case 3:return a.sent(),[4,wm(r.$h)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=_p(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function ay(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r;return Object(to.d)(this,function(i){switch(i.label){case 0:n=vl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,$g(n.Ou,e)];case 2:return r=i.sent(),e.re.forEach(function(t,e){var r=n.Gh.get(e);r&&(yl(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.kh=!0:t.fe.size>0?yl(r.kh):t.de.size>0&&(yl(r.kh),r.kh=!1))}),[4,_y(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Xg(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function uy(t,e,n){var r=vl(t);if(r.Zh&&0===n||!r.Zh&&1===n){var i=[];r.Qh.forEach(function(t,n){var r=n.view.ea(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=vl(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].ea(e)&&(r=!0)}),r&&Vm(n)}(r.Lh,e),i.length&&r.Uh.fu(i),r.onlineState=e,r.Zh&&r.Bh.sh(e)}}function cy(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(to.d)(this,function(c){switch(c.label){case 0:return(r=vl(t)).Bh.th(e,"rejected",n),i=r.Gh.get(e),(s=i&&i.key)?(o=(o=new Xl(Vl.$)).Tt(s,new dd(s,Nl.min())),a=hh().add(s),u=new yh(Nl.min(),new Map,new nh(Al),o,a),[4,ay(r,u)]):[3,2];case 1:return c.sent(),r.jh=r.jh.remove(s),r.Gh.delete(e),by(r),[3,4];case 2:return[4,Kg(r.Ou,e,!1).then(function(){return gy(r,e,n)}).catch(Xg)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function ly(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i;return Object(to.d)(this,function(s){switch(s.label){case 0:n=vl(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,zg(n.Ou,e)];case 2:return i=s.sent(),py(n,r,null),dy(n,r),n.Bh.Ga(r,"acknowledged"),[4,_y(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Xg(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function hy(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r,i;return Object(to.d)(this,function(s){switch(s.label){case 0:r=vl(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=vl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.rs.kr(t,e).next(function(e){return yl(null!==e),r=e.keys(),n.rs.Qr(t,e)}).next(function(){return n.rs.Gr(t)}).next(function(){return n.Bc._s(t,r)})})}(r.Ou,e)];case 2:return i=s.sent(),py(r,e,n),dy(r,e),r.Bh.Ga(e,"rejected",n),[4,_y(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Xg(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function fy(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(to.d)(this,function(a){switch(a.label){case 0:pm((n=vl(t)).$h)||fl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=vl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.rs.Br(t)})}(n.Ou)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Jh.get(r)||[]).push(e),n.Jh.set(r,i),[3,4]);case 3:return s=a.sent(),o=_p(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function dy(t,e){(t.Jh.get(e)||[]).forEach(function(t){t.resolve()}),t.Jh.delete(e)}function py(t,e,n){var r=vl(t),i=r.Hh[r.currentUser.h()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Hh[r.currentUser.h()]=i}}function gy(t,e,n){void 0===n&&(n=null),t.Bh.Ya(e);for(var r=0,i=t.Kh.get(e);r<i.length;r++){var s=i[r];t.Qh.delete(s),n&&t.Uh.el(s,n)}t.Kh.delete(e),t.Zh&&t.zh.Ia(e).forEach(function(e){t.zh.zr(e)||my(t,e)})}function my(t,e){var n=t.jh.get(e);null!==n&&(cm(t.$h,n),t.jh=t.jh.remove(e),t.Gh.delete(n),by(t))}function yy(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Ym?(t.zh.Oo(s.key,e),vy(t,s)):s instanceof Zm?(fl("SyncEngine","Document no longer in limbo: "+s.key),t.zh.ko(s.key,e),t.zh.zr(s.key)||my(t,s.key)):ml()}}function vy(t,e){var n=e.key;t.jh.get(n)||(fl("SyncEngine","New document in limbo: "+n),t.Wh.push(n),by(t))}function by(t){for(;t.Wh.length>0&&t.jh.size<t.qh;){var e=t.Wh.shift(),n=t.Yh.next();t.Gh.set(n,new ey(e)),t.jh=t.jh.Tt(e,n),um(t.$h,new Ql(Sd(yd(e.path)),n,2,sp.Ds))}}function _y(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(to.d)(this,function(a){switch(a.label){case 0:return r=vl(t),i=[],s=[],o=[],r.Qh.W()?[3,3]:(r.Qh.forEach(function(t,a){o.push(r.tl(a,e,n).then(function(t){if(t){r.Zh&&r.Bh.th(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=ip.Vs(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.Uh.fu(i),[4,function(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(to.d)(this,function(l){switch(l.label){case 0:n=vl(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Jd.forEach(e,function(e){return Jd.forEach(e.gs,function(r){return n.persistence.Dr.Oo(t,e.targetId,r)}).next(function(){return Jd.forEach(e.ys,function(r){return n.persistence.Dr.ko(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!lp(r=l.sent()))throw r;return fl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Mc.get(a),c=u.Et(u.ft),n.Mc=n.Mc.Tt(a,c));return[2]}})})}(r.Ou,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function wy(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r;return Object(to.d)(this,function(i){switch(i.label){case 0:return(n=vl(t)).currentUser.isEqual(e)?[3,3]:(fl("SyncEngine","User change. New user:",e.h()),[4,Bg(n.Ou,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Jh.forEach(function(t){t.forEach(function(t){t.reject(new _l(bl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Jh.clear()}(n),n.Bh.nh(e,r.Uc,r.Qc),[4,_y(n,r.qc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Ey(t,e){var n=vl(t),r=n.Gh.get(e);if(r&&r.kh)return hh().add(r.key);var i=hh(),s=n.Kh.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Qh.get(a[o]);i=i.Gt(u.view.ph)}return i}function Oy(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i;return Object(to.d)(this,function(s){switch(s.label){case 0:return[4,Qg((n=vl(t)).Ou,e.query,!0)];case 1:return r=s.sent(),i=e.view.Oh(r),[2,(n.Zh&&yy(n,e.targetId,i.xh),i)]}})})}function Sy(t){return Object(to.b)(this,void 0,void 0,function(){var e;return Object(to.d)(this,function(n){return[2,Yg((e=vl(t)).Ou).then(function(t){return _y(e,t)})]})})}function Ty(t,e,n,r){return Object(to.b)(this,void 0,void 0,function(){var i,s;return Object(to.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=vl(t),r=vl(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.$r(t,e).next(function(e){return e?n.Bc._s(t,e):Jd.resolve(null)})})}((i=vl(t)).Ou,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,wm(i.$h)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(py(i,e,r||null),dy(i,e),function(t,e){vl(vl(t).rs).Wr(e)}(i.Ou,e)):ml(),o.label=4;case 4:return[4,_y(i,s)];case 5:return o.sent(),[3,7];case 6:fl("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function Cy(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(to.d)(this,function(c){switch(c.label){case 0:return Ny(n=vl(t)),Dy(n),!0!==e||!0===n.Xh?[3,3]:(r=n.Bh.Ua(),[4,Iy(n,r.H())]);case 1:return i=c.sent(),n.Xh=!0,[4,Am(n.$h,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)um(n.$h,o[s]);return[3,7];case 3:return!1!==e||!1===n.Xh?[3,7]:(a=[],u=Promise.resolve(),n.Kh.forEach(function(t,e){n.Bh.Xa(e)?a.push(e):u=u.then(function(){return gy(n,e),Kg(n.Ou,e,!0)}),cm(n.$h,e)}),[4,u]);case 4:return c.sent(),[4,Iy(n,a)];case 5:return c.sent(),function(t){var e=vl(t);e.Gh.forEach(function(t,n){cm(e.$h,n)}),e.zh.ma(),e.Gh=new Map,e.jh=new Xl(Vl.$)}(n),n.Xh=!1,[4,Am(n.$h,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Iy(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return Object(to.d)(this,function(g){switch(g.label){case 0:n=vl(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(u=void 0,(c=n.Kh.get(a=o[s]))&&0!==c.length?[4,Wg(n.Ou,Sd(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Qh.get(h[l]),[4,Oy(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Jg(n.Ou,a)];case 8:return p=g.sent(),[4,Wg(n.Ou,p)];case 9:return u=g.sent(),[4,iy(n,Ay(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Uh.fu(i),r)]}})})}function Ay(t){return md(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function xy(t){var e=vl(t);return vl(vl(e.Ou).persistence).gc()}function jy(t,e,n,r){return Object(to.b)(this,void 0,void 0,function(){var i,s,o;return Object(to.d)(this,function(a){switch(a.label){case 0:return(i=vl(t)).Xh?(fl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Kh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Yg(i.Ou)];case 3:return s=a.sent(),o=yh.ae(e,"current"===n),[4,_y(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,Kg(i.Ou,e,!0)];case 6:return a.sent(),gy(i,e,r),[3,8];case 7:ml(),a.label=8;case 8:return[2]}})})}function ky(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(to.d)(this,function(f){switch(f.label){case 0:if(!(r=Ny(t)).Xh)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.Kh.has(o=s[i])?(fl("SyncEngine","Adding an already active target "+o),[3,5]):[4,Jg(r.Ou,o)]:[3,6];case 2:return a=f.sent(),[4,Wg(r.Ou,a)];case 3:return u=f.sent(),[4,iy(r,Ay(a),u.targetId,!1)];case 4:f.sent(),um(r.$h,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(to.d)(this,function(e){switch(e.label){case 0:return r.Kh.has(t)?[4,Kg(r.Ou,t,!1).then(function(){cm(r.$h,t),gy(r,t)}).catch(Xg)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Ny(t){var e=vl(t);return e.$h.ku.Gu=ay.bind(null,e),e.$h.ku.Xe=Ey.bind(null,e),e.$h.ku.ju=cy.bind(null,e),e.Uh.fu=Rm.bind(null,e.Lh),e.Uh.el=Lm.bind(null,e.Lh),e}function Dy(t){var e=vl(t);return e.$h.ku.zu=ly.bind(null,e),e.$h.ku.Hu=hy.bind(null,e),e}var Py=function(){function t(t,e){this.os=t,this.Dr=e,this.rs=[],this.nl=1,this.sl=new nh(Um._a)}return t.prototype.Fr=function(t){return Jd.resolve(0===this.rs.length)},t.prototype.Or=function(t,e,n,r){var i=this.nl;this.nl++;var s=new Wd(i,e,n,r);this.rs.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.sl=this.sl.add(new Um(u.key,i)),this.os.Mr(t,u.key.path.q())}return Jd.resolve(s)},t.prototype.kr=function(t,e){return Jd.resolve(this.il(e))},t.prototype.Lr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return Jd.resolve(this.rs.length>r?this.rs[r]:null)},t.prototype.Br=function(){return Jd.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.qr=function(t){return Jd.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new Um(e,0),i=new Um(e,Number.POSITIVE_INFINITY),s=[];return this.sl.Kt([r,i],function(t){var e=n.il(t.Ra);s.push(e)}),Jd.resolve(s)},t.prototype.ds=function(t,e){var n=this,r=new nh(Al);return e.forEach(function(t){var e=new Um(t,0),i=new Um(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],function(t){r=r.add(t.Ra)})}),Jd.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;Vl.ot(i)||(i=i.child(""));var s=new Um(new Vl(i),0),o=new nh(Al);return this.sl.Wt(function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(o=o.add(t.Ra)),!0)},s),Jd.resolve(this.ol(o))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.il(t);null!==r&&n.push(r)}),n},t.prototype.Qr=function(t,e){var n=this;yl(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return Jd.forEach(e.mutations,function(i){var s=new Um(i.key,e.batchId);return r=r.delete(s),n.Dr.jr(t,i.key)}).next(function(){n.sl=r})},t.prototype.Wr=function(t){},t.prototype.zr=function(t,e){var n=new Um(e,0),r=this.sl.jt(n);return Jd.resolve(e.isEqual(r&&r.key))},t.prototype.Gr=function(t){return Jd.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),Ry=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new Xl(Vl.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:o,readTime:n}),this.size+=o-s,this.os.Mr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return Jd.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=oh();return e.forEach(function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)}),Jd.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=uh(),i=new Vl(e.path.child("")),s=this.docs.Vt(i);s.Nt();){var o=s.Ct(),a=o.value,u=a.zn,c=a.readTime;if(!e.path.j(o.key.path))break;c.F(n)<=0||u instanceof fd&&xd(e,u)&&(r=r.Tt(u.key,u))}return Jd.resolve(r)},t.prototype.al=function(t,e){return Jd.forEach(this.docs,function(t){return e(t)})},t.prototype.io=function(t){return new Ly(this)},t.prototype.oo=function(t){return Jd.resolve(this.size)},t}(),Ly=function(t){function e(e){var n=this;return(n=t.call(this)||this).co=e,n}return Object(to.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach(function(r,i){i&&i.zn?n.push(e.co.jn(t,i.zn,e.Wn(r))):e.co.Hn(r)}),Jd.qn(n)},e.prototype.Yn=function(t,e){return this.co.Jn(t,e)},e.prototype.Xn=function(t,e){return this.co.getEntries(t,e)},e}(Yd),Vy=function(){function t(t){this.persistence=t,this.hl=new Qd(function(t){return zl(t)},Hl),this.lastRemoteSnapshotVersion=Nl.min(),this.highestTargetId=0,this.ll=0,this._l=new Mm,this.targetCount=0,this.fl=Ig.To()}return t.prototype.Ue=function(t,e){return this.hl.forEach(function(t,n){return e(n)}),Jd.resolve()},t.prototype.Po=function(t){return Jd.resolve(this.lastRemoteSnapshotVersion)},t.prototype.yo=function(t){return Jd.resolve(this.ll)},t.prototype.mo=function(t){return this.highestTargetId=this.fl.next(),Jd.resolve(this.highestTargetId)},t.prototype.Vo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),Jd.resolve()},t.prototype.vo=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new Ig(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.po=function(t,e){return this.vo(e),this.targetCount+=1,Jd.resolve()},t.prototype.So=function(t,e){return this.vo(e),Jd.resolve()},t.prototype.Do=function(t,e){return this.hl.delete(e.target),this._l.Ia(e.targetId),this.targetCount-=1,Jd.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return this.hl.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.hl.delete(o),s.push(r.Co(t,a.targetId)),i++)}),Jd.qn(s).next(function(){return i})},t.prototype.No=function(t){return Jd.resolve(this.targetCount)},t.prototype.xo=function(t,e){var n=this.hl.get(e)||null;return Jd.resolve(n)},t.prototype.Fo=function(t,e,n){return this._l.wa(e,n),Jd.resolve()},t.prototype.Mo=function(t,e,n){this._l.Ta(e,n);var r=this.persistence.Dr,i=[];return r&&e.forEach(function(e){i.push(r.jr(t,e))}),Jd.qn(i)},t.prototype.Co=function(t,e){return this._l.Ia(e),Jd.resolve()},t.prototype.$o=function(t,e){var n=this._l.Aa(e);return Jd.resolve(n)},t.prototype.zr=function(t,e){return Jd.resolve(this._l.zr(e))},t}(),Fy=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ho=function(t,e){return Jd.resolve(this.dl.get(e))},t.prototype.lo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:sf(n.createTime)}),Jd.resolve()},t.prototype._o=function(t,e){return Jd.resolve(this.wl.get(e))},t.prototype.fo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:Bp(n.bundledQuery),readTime:sf(n.readTime)}),Jd.resolve()},t}(),My=function(){function t(t,e){var n=this;this.El={},this.Uo=new sp(0),this.Qo=!1,this.Qo=!0,this.Dr=t(this),this.Yo=new Vy(this),this.os=new eg,this.ss=function(t,e){return new Ry(t,function(t){return n.Dr.Tl(t)})}(this.os),this.serializer=new Np(e),this.Xo=new Fy(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Ic=function(){return this.Qo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.rc=function(){},t.prototype.oc=function(){},t.prototype.bc=function(){return this.os},t.prototype.yc=function(t){var e=this.El[t.h()];return e||(e=new Py(this.os,this.Dr),this.El[t.h()]=e),e},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r=this;fl("MemoryPersistence","Starting transaction:",t);var i=new Uy(this.Uo.next());return this.Dr.Il(),n(i).next(function(t){return r.Dr.ml(i).next(function(){return t})}).Ln().then(function(t){return i.ns(),t})},t.prototype.Al=function(t,e){return Jd.Un(Object.values(this.El).map(function(n){return function(){return n.zr(t,e)}}))},t}(),Uy=function(t){function e(e){var n=this;return(n=t.call(this)||this).Lo=e,n}return Object(to.c)(e,t),e}(np),qy=function(){function t(t){this.persistence=t,this.Rl=new Mm,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw ml()},enumerable:!1,configurable:!0}),t.prototype.Oo=function(t,e,n){return this.Rl.Oo(n,e),this.yl.delete(n.toString()),Jd.resolve()},t.prototype.ko=function(t,e,n){return this.Rl.ko(n,e),this.yl.add(n.toString()),Jd.resolve()},t.prototype.jr=function(t,e){return this.yl.add(e.toString()),Jd.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.Ia(e.targetId).forEach(function(t){return n.yl.add(t.toString())});var r=this.persistence.Vc();return r.$o(t,e.targetId).next(function(t){t.forEach(function(t){return n.yl.add(t.toString())})}).next(function(){return r.Do(t,e)})},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.vc().io();return Jd.forEach(this.yl,function(r){var i=Vl.st(r);return e.Vl(t,i).next(function(t){t||n.Hn(i)})}).next(function(){return e.Pl=null,n.apply(t)})},t.prototype.Fc=function(t,e){var n=this;return this.Vl(t,e).next(function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())})},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return Jd.Un([function(){return Jd.resolve(n.Rl.zr(e))},function(){return n.persistence.Vc().zr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),By=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.lu=function(t){this.bl=t},t.prototype.ou=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),zy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Hy=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(to.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise(function(i,s){var o=new sl;o.listenOnce(nl.COMPLETE,function(){try{switch(o.getLastErrorCode()){case el.NO_ERROR:var e=o.getResponseJson();fl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case el.TIMEOUT:fl("Connection",'RPC "'+t+'" timed out'),s(new _l(bl.DEADLINE_EXCEEDED,"Request time out"));break;case el.HTTP_ERROR:var n=o.getStatus();if(fl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(bl).indexOf(e)>=0?e:bl.UNKNOWN}(r.status);s(new _l(a,r.message))}else s(new _l(bl.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new _l(bl.UNAVAILABLE,"Connection failed."));break;default:ml()}}finally{fl("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype._u=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Jc,i=Xa(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(s.initMessageHeaders,e),Object(ro.l)()||Object(ro.n)()||Object(ro.j)()||Object(ro.k)()||Object(ro.o)()||Object(ro.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");fl("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new By({pl:function(t){c?fl("Connection","Not sending because WebChannel is closed:",t):(u||(fl("Connection","Opening WebChannel transport."),a.open(),u=!0),fl("Connection","WebChannel sending:",t),a.send(t))},vl:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,il.EventType.OPEN,function(){c||fl("Connection","WebChannel transport opened.")}),h(a,il.EventType.CLOSE,function(){c||(c=!0,fl("Connection","WebChannel transport closed"),l.Nl())}),h(a,il.EventType.ERROR,function(t){c||(c=!0,pl("Connection","WebChannel transport errored:",t),l.Nl(new _l(bl.UNAVAILABLE,"The operation could not be completed")))}),h(a,il.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];yl(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){fl("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Wl[t];if(void 0!==e)return Zl(e)}(i),o=r.message;void 0===s&&(s=bl.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Nl(new _l(s,o)),a.close()}else fl("Connection","WebChannel received:",n),l.xl(n)}}),h(i,rl.STAT_EVENT,function(t){10===t.stat?fl("Connection","Detected buffering proxy"):11===t.stat&&fl("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Cl()},0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.yu=function(t,e,n,r){var i=this.kl(t,e);fl("RestConnection","Sending: ",i,n);var s={};return this.$l(s,r),this.Ll(t,i,s,n).then(function(t){return fl("RestConnection","Received: ",t),t},function(e){throw pl("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Vu=function(t,e,n,r){return this.yu(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.2",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+zy[t]},t}()),$y=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Qu=function(t){this.Kl.push(t)},t.prototype.Ic=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){fl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){fl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Gy=function(){function t(){}return t.prototype.Qu=function(t){},t.prototype.Ic=function(){},t}(),Wy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(e){switch(e.label){case 0:return this.serializer=Xd(t.Fl.t),this.Bh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Ou=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return qg(this.persistence,new Ip,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new My(qy.gl,this.serializer)},t.prototype.jl=function(t){return new Jm},t.prototype.terminate=function(){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.Bh.Ic()];case 1:return t.sent(),[4,this.persistence.Ic()];case 2:return t.sent(),[2]}})})},t}(),Ky=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(to.c)(e,t),e.prototype.initialize=function(e){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Zg(this.Ou)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Dy(this.Xl.va)];case 4:return n.sent(),[4,wm(this.Xl.$h)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return qg(this.persistence,new Ip,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new Tp(this.persistence.Dr.cr,t.di)},e.prototype.Gl=function(t){var e=Mg(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?Sp.er(this.cacheSizeBytes):Sp.ir;return new Pg(this.synchronizeTabs,e,t.clientId,n,t.di,mp(),yp(),this.serializer,this.Bh,!!this.forceOwnership)},e.prototype.jl=function(t){return new Jm},e}(Wy),Qy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(to.c)(e,t),e.prototype.initialize=function(e){return Object(to.b)(this,void 0,void 0,function(){var n,r=this;return Object(to.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.va,this.Bh instanceof Qm?(this.Bh.va={Eh:Ty.bind(null,n),Th:jy.bind(null,n),Ih:ky.bind(null,n),gc:xy.bind(null,n),wh:Sy.bind(null,n)},[4,this.Bh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.ic(function(t){return Object(to.b)(r,void 0,void 0,function(){return Object(to.d)(this,function(e){switch(e.label){case 0:return[4,Cy(this.Xl.va,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Ou):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=mp();if(!Qm.Gs(e))throw new _l(bl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Mg(t.Fl.t,t.Fl.persistenceKey);return new Qm(e,t.di,n,t.clientId,t.Yl)},e}(Ky),Jy=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(to.b)(this,void 0,void 0,function(){var n=this;return Object(to.d)(this,function(r){switch(r.label){case 0:return this.Ou?[3,2]:(this.Ou=t.Ou,this.Bh=t.Bh,this.Mu=this.Zl(e),this.$h=this.t_(e),this.Lh=this.e_(e),this.va=this.n_(e,!t.synchronizeTabs),this.Bh.pu=function(t){return uy(n.va,t,1)},this.$h.ku.s_=wy.bind(null,this.va),[4,Am(this.$h,this.va.Zh)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new Nm},t.prototype.Zl=function(t){var e=Xd(t.Fl.t),n=new Hy(t.Fl);return function(t,e,n){return new rm(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Ou,n=this.Mu,r=t.di,i=function(t){return uy(o.va,t,0)},s=$y.Gs()?new $y:new Gy,new sm(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new ny(t,e,n,r,i,s);return o&&(a.Xh=!0),a}(this.Ou,this.$h,this.Lh,this.Bh,t.Yl,t.qh,e)},t.prototype.terminate=function(){return function(t){return Object(to.b)(this,void 0,void 0,function(){var e;return Object(to.d)(this,function(n){switch(n.label){case 0:return e=vl(t),fl("RemoteStore","RemoteStore shutting down."),e.Bu.add(5),[4,am(e)];case 1:return n.sent(),e.Uu.Ic(),e.Ku.set("Unknown"),[2]}})})}(this.$h)},t}(),Yy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}();function Zy(t,e,n){if(!n)throw new _l(bl.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Xy(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _l(bl.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function tv(t,e,n,r){if(!0===e&&!0===r)throw new _l(bl.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function ev(t){if(!Vl.ot(t))throw new _l(bl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function nv(t){if(Vl.ot(t))throw new _l(bl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function rv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ml()}function iv(t,e){if("_delegate"in t&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new _l(bl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=rv(t);throw new _l(bl.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function sv(t,e){if(e<=0)throw new _l(bl.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var ov=function(t){this._methodName=t},av=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e.prototype.c_=function(t){if(2!==t.u_)throw t.a_(1===t.u_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ov);function uv(t,e,n){return new fb({u_:3,h_:e.settings.h_,methodName:t._methodName,l_:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var cv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e.prototype.c_=function(t){return new Hf(t.path,new Rf)},e.prototype.isEqual=function(t){return t instanceof e},e}(ov),lv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(to.c)(e,t),e.prototype.c_=function(t){var e=uv(this,t,!0),n=this.__.map(function(t){return vb(t,e)}),r=new Lf(n);return new Hf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ov),hv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(to.c)(e,t),e.prototype.c_=function(t){var e=uv(this,t,!0),n=this.__.map(function(t){return vb(t,e)}),r=new Ff(n);return new Hf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ov),fv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(to.c)(e,t),e.prototype.c_=function(t){var e=new Uf(t.serializer,tf(t.serializer,this.f_));return new Hf(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ov),dv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new _l(bl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new _l(bl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.d_=t,this.w_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.d_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.d_===t.d_&&this.w_===t.w_},t.prototype.toJSON=function(){return{latitude:this.d_,longitude:this.w_}},t.prototype.C=function(t){return Al(this.d_,t.d_)||Al(this.w_,t.w_)},t}(),pv=function(){function t(t){this.E_=t}return t.fromBase64String=function(e){try{return new t(Gl.fromBase64String(e))}catch(e){throw new _l(bl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Gl.fromUint8Array(e))},t.prototype.toBase64=function(){return this.E_.toBase64()},t.prototype.toUint8Array=function(){return this.E_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.E_.isEqual(t.E_)},t}(),gv=function(t){this.o_=t},mv=new Map,yv=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new _l(bl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new _l(bl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,tv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),vv=function(){function t(t,e){this.T_="(lite)",this.I_=new yv({}),this.m_=!1,t instanceof ul?(this.A_=t,this.R_=new El):(this.P_=t,this.A_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new _l(bl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ul(t.options.projectId)}(t),this.R_=new Ol(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.P_)throw new _l(bl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.P_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"g_",{get:function(){return this.m_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return void 0!==this.V_},enumerable:!1,configurable:!0}),t.prototype.p_=function(t){if(this.m_)throw new _l(bl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.I_=new yv(t),void 0!==t.credentials&&(this.R_=function(t){if(!t)return new El;switch(t.type){case"gapi":var e=t.client;return yl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Tl(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new _l(bl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.v_=function(){return this.I_},t.prototype.b_=function(){return this.m_=!0,this.I_},t.prototype._delete=function(){return this.V_||(this.V_=this.S_()),this.V_},t.prototype.S_=function(){return function(t){var e=mv.get(t);e&&(fl("ComponentProvider","Removing Datastore"),mv.delete(t),e.terminate())}(this),Promise.resolve()},t}();function bv(){if("undefined"==typeof Uint8Array)throw new _l(bl.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function _v(){if("undefined"==typeof atob)throw new _l(bl.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var wv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e.fromBase64String=function(t){return _v(),new e(pv.fromBase64String(t))},e.fromUint8Array=function(t){return bv(),new e(pv.fromUint8Array(t))},e.prototype.toBase64=function(){return _v(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return bv(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(gv),Ev=function(){function t(){}return t.prototype.D_=function(t,e){switch(void 0===e&&(e="none"),Dh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return qh(t.integerValue||t.doubleValue);case 3:return this.C_(t.timestampValue);case 4:return this.N_(t,e);case 5:return t.stringValue;case 6:return this.x_(Bh(t.bytesValue));case 7:return this.F_(t.referenceValue);case 8:return this.O_(t.geoPointValue);case 9:return this.M_(t.arrayValue,e);case 10:return this.k_(t.mapValue,e);default:throw ml()}},t.prototype.k_=function(t,e){var n=this,r={};return Ih(t.fields||{},function(t,i){r[t]=n.D_(i,e)}),r},t.prototype.O_=function(t){return new dv(qh(t.latitude),qh(t.longitude))},t.prototype.M_=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.D_(t,e)})},t.prototype.N_=function(t,e){switch(e){case"previous":var n=jh(t);return null==n?null:this.D_(n,e);case"estimate":return this.C_(kh(t));default:return null}},t.prototype.C_=function(t){var e=Uh(t);return new kl(e.seconds,e.nanos)},t.prototype.L_=function(t,e){var n=Pl.Y(t);yl(jf(n));var r=new ul(n.get(1),n.get(3)),i=new Vl(n.B(5));return r.isEqual(e)||dl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Ov=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(to.c)(e,t),e.prototype.x_=function(t){return new wv(new pv(t))},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return Jb.B_(e,this.firestore,null)},e}(Ev),Sv=function(){function t(t,e,n,r,i){this.q_=t,this.U_=e,this.Q_=n,this.K_=r,this.W_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new qv(this.q_,this.W_,this.Q_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.K_},t.prototype.data=function(){if(this.K_){if(this.W_){var t=new Tv(this.q_,this.U_,this.Q_,this.K_,null);return this.W_.fromFirestore(t)}return this.U_.D_(this.K_.En())}},t.prototype.get=function(t){if(this.K_){var e=this.K_.data().field(Cv("DocumentSnapshot.get",t));if(null!==e)return this.U_.D_(e)}},t}(),Tv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Sv);function Cv(t,e){return"string"==typeof e?Sb(t,e):e instanceof gv?e.o_.j_:e.j_}var Iv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new _l(bl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.j_=new Ll(t)}return t.prototype.isEqual=function(t){return this.j_.isEqual(t.j_)},t}(),Av=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).G_=new bp,r.T_="name"in e?e.name:"[DEFAULT]",r}return Object(to.c)(e,t),e.prototype.S_=function(){return this.z_||Wb(this),this.z_.terminate()},e}(vv);function xv(t,e,n){var r=this,i=new Zd;return t.di.enqueue(function(){return Object(to.b)(r,void 0,void 0,function(){var r;return Object(to.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,jb(t,n)];case 1:return s.sent(),[4,kb(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===bl.FAILED_PRECONDITION||t.code===bl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function jv(t){if(t.g_||t.y_)throw new _l(bl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var kv=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).q_=e,a.H_=e,a.metadata=s,a}return Object(to.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.K_){if(this.W_){var e=new Nv(this.q_,this.U_,this.Q_,this.K_,this.metadata,null);return this.W_.fromFirestore(e,t)}return this.U_.D_(this.K_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.K_){var n=this.K_.data().field(Cv("DocumentSnapshot.get",t));if(null!==n)return this.U_.D_(n,e.serverTimestamps)}},e}(Sv),Nv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(kv),Dv=function(){function t(t,e,n,r){this.q_=t,this.U_=e,this.J_=r,this.metadata=new t_(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.J_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.J_.docs.forEach(function(r){t.call(e,new Nv(n.q_,n.U_,r.key,r,new t_(n.J_.ee.has(r.key),n.J_.fromCache),n.query.W_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.J_.se)throw new _l(bl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Y_&&this.X_===e||(this.Y_=function(t,e){if(t.J_.te.W()){var n=0;return t.J_.docChanges.map(function(e){return{type:"added",doc:new Nv(t.q_,t.U_,e.doc.key,e.doc,new t_(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),oldIndex:-1,newIndex:n++}})}var r=t.J_.te;return t.J_.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Nv(t.q_,t.U_,e.doc.key,e.doc,new t_(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Pv(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this.X_=e),this.Y_},t}();function Pv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ml()}}function Rv(t,e){return t instanceof kv&&e instanceof kv?t.q_===e.q_&&t.Q_.isEqual(e.Q_)&&(null===t.K_?null===e.K_:t.K_.isEqual(e.K_))&&t.W_===e.W_:t instanceof Dv&&e instanceof Dv&&t.q_===e.q_&&ob(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.J_.isEqual(e.J_)}var Lv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(to.c)(e,t),e.prototype.x_=function(t){return new pv(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new qv(this.firestore,null,e)},e}(Ev);function Vv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=iv(t,qv);var s=iv(t.firestore,Av),o=ab(s);return e instanceof gv&&(e=e.o_),Mv(s,("string"==typeof e||e instanceof Iv?mb(o,"updateDoc",t.Q_,e,n,r):gb(o,"updateDoc",t.Q_,e)).tf(t.Q_,Gf.exists(!0)))}function Fv(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof gv&&(t=t.o_);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||tp(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(tp(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof qv)c=iv(t.firestore,Av),l=yd(t.Q_.path),u={next:function(e){i[a]&&i[a](Uv(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=iv(t,Bv);c=iv(d.firestore,Av),l=d.Z_;var p=new Lv(c);u={next:function(t){i[a]&&i[a](new Dv(c,p,d,t))},error:i[a+1],complete:i[a+2]},tb(t.Z_)}return function(t,e,n,r){var i=this,s=new Yy(r),o=new Fm(e,s,n);return t.di.Ri(function(){return Object(to.b)(i,void 0,void 0,function(){var e;return Object(to.d)(this,function(n){switch(n.label){case 0:return e=Dm,[4,Fb(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.r_(),t.di.Ri(function(){return Object(to.b)(i,void 0,void 0,function(){var e;return Object(to.d)(this,function(n){switch(n.label){case 0:return e=Pm,[4,Fb(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(Gb(c),l,h,u)}function Mv(t,e){return function(t,e){var n=this,r=new Zd;return t.di.Ri(function(){return Object(to.b)(n,void 0,void 0,function(){var n;return Object(to.d)(this,function(i){switch(i.label){case 0:return n=oy,[4,Vb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Gb(t),e)}function Uv(t,e,n){var r=n.docs.get(e.Q_),i=new Lv(t);return new kv(t,i,e.Q_,r,new t_(n.hasPendingWrites,n.fromCache),e.W_)}var qv=function(){function t(t,e,n){this.W_=e,this.Q_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"ef",{get:function(){return this.Q_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Q_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new eb(this.firestore,this.W_,this.Q_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Q_)},t}(),Bv=function(){function t(t,e,n){this.W_=e,this.Z_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Z_)},t}(),zv=function(){};function Hv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.nf(t)}return t}var $v=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).sf=e,i.rf=n,i.cf=r,i.type="where",i}return Object(to.c)(e,t),e.prototype.nf=function(t){var e=ab(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.tt()){if("array-contains"===s||"array-contains-any"===s)throw new _l(bl.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Zv(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(Yv(r,t,l[c]));a={arrayValue:{values:u}}}else a=Yv(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Zv(o,s),a=yb(n,"where",o,"in"===s||"not-in"===s);var h=kd.create(i,s,a);return function(t,e){if(e.An()){var n=wd(t);if(null!==n&&!n.isEqual(e.field))throw new _l(bl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=_d(t);null!==r&&Xv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new _l(bl.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.Z_,0,e,t.firestore.A_,this.sf,this.rf,this.cf);return new Bv(t.firestore,t.W_,function(t,e){var n=t.filters.concat([e]);return new gd(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,n))},e}(zv),Gv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).sf=e,r.uf=n,r.type="orderBy",r}return Object(to.c)(e,t),e.prototype.nf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new _l(bl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new _l(bl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Hd(e,n);return function(t,e){if(null===_d(t)){var n=wd(t);null!==n&&Xv(0,n,e.field)}}(t,r),r}(t.Z_,this.sf,this.uf);return new Bv(t.firestore,t.W_,function(t,e){var n=t.Tn.concat([e]);return new gd(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,e))},e}(zv),Wv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.af=n,i.hf=r,i}return Object(to.c)(e,t),e.prototype.nf=function(t){return new Bv(t.firestore,t.W_,Td(t.Z_,this.af,this.hf))},e}(zv),Kv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(to.c)(e,t),e.prototype.nf=function(t){var e=Jv(t,this.type,this.lf,this._f);return new Bv(t.firestore,t.W_,function(t,e){return new gd(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.Z_,e))},e}(zv),Qv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(to.c)(e,t),e.prototype.nf=function(t){var e=Jv(t,this.type,this.lf,this._f);return new Bv(t.firestore,t.W_,function(t,e){return new gd(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.Z_,e))},e}(zv);function Jv(t,e,n,r){if(n[0]instanceof gv&&(n[0]=n[0].o_),n[0]instanceof Sv)return function(t,e,n,r,i){if(!r)throw new _l(bl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Od(t);o<a.length;o++){var u=a[o];if(u.field.tt())s.push(zh(e,r.key));else{var c=r.field(u.field);if(xh(c))throw new _l(bl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.J();throw new _l(bl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Ud(s,i)}(t.Z_,t.firestore.A_,e,n[0].K_,r);var i=ab(t.firestore);return function(t,e,n,r,i,s){var o=t.Tn;if(i.length>o.length)throw new _l(bl.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.tt()){if("string"!=typeof c)throw new _l(bl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Ed(t)&&-1!==c.indexOf("/"))throw new _l(bl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Pl.Y(c));if(!Vl.ot(l))throw new _l(bl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Vl(l);a.push(zh(e,h))}else{var f=yb(n,r,c);a.push(f)}}return new Ud(a,s)}(t.Z_,t.firestore.A_,i,e,n,r)}function Yv(t,e,n){if(n instanceof gv&&(n=n.o_),"string"==typeof n){if(""===n)throw new _l(bl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ed(e)&&-1!==n.indexOf("/"))throw new _l(bl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Pl.Y(n));if(!Vl.ot(r))throw new _l(bl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return zh(t,new Vl(r))}if(n instanceof qv)return zh(t,n.Q_);throw new _l(bl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+rv(n)+".")}function Zv(t,e){if(!Array.isArray(t)||0===t.length)throw new _l(bl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new _l(bl.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Xv(t,e,n){if(!n.isEqual(e))throw new _l(bl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function tb(t){if(bd(t)&&0===t.Tn.length)throw new _l(bl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var eb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,yd(r))||this).firestore=e,i.ef=r,i.type="collection",i}return Object(to.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Z_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Z_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.ef.q();return t.W()?null:new qv(this.firestore,null,new Vl(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.ef)},e}(Bv);function nb(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof gv&&(t=t.o_),Zy("collection","path",e),t instanceof vv){var i=Pl.Y.apply(Pl,Object(to.g)([e],n));return nv(i),new eb(t,null,i)}if(!(t instanceof qv||t instanceof eb))throw new _l(bl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=Pl.Y.apply(Pl,Object(to.g)([t.path],n)).child(Pl.Y(e));return nv(s),new eb(t.firestore,null,s)}function rb(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof gv&&(t=t.o_),1===arguments.length&&(e=Il.D()),Zy("doc","path",e),t instanceof vv){var i=Pl.Y.apply(Pl,Object(to.g)([e],n));return ev(i),new qv(t,null,new Vl(i))}if(!(t instanceof qv||t instanceof eb))throw new _l(bl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=t.ef.child(Pl.Y.apply(Pl,Object(to.g)([e],n)));return ev(s),new qv(t.firestore,t instanceof eb?t.W_:null,new Vl(s))}var ib=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(to.c)(e,t),e.prototype.x_=function(t){return new pv(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new qv(this.firestore,null,e)},e}(Ev);function sb(t,e){return t instanceof gv&&(t=t.o_),e instanceof gv&&(e=e.o_),(t instanceof qv||t instanceof eb)&&(e instanceof qv||e instanceof eb)&&t.firestore===e.firestore&&t.path===e.path&&t.W_===e.W_}function ob(t,e){return t instanceof gv&&(t=t.o_),e instanceof gv&&(e=e.o_),t instanceof Bv&&e instanceof Bv&&t.firestore===e.firestore&&Cd(t.Z_,e.Z_)&&t.W_===e.W_}function ab(t){var e=t.b_(),n=Xd(t.A_);return new db(t.A_,!!e.ignoreUndefinedProperties,n)}var ub=/^__.*__$/,cb=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[];return n.push(null!==this.en?new ed(t,this.data,this.en,e):new td(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new rd(t,this.fieldTransforms)),n},t}(),lb=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[new ed(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new rd(t,this.fieldTransforms)),n},t}();function hb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ml()}}var fb=function(){function t(t,e,n,r,i,s){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ff(),this.fieldTransforms=i||[],this.en=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),t.prototype.df=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.wf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.Ef(t),r},t.prototype.Tf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.ff(),r},t.prototype.If=function(t){return this.df({path:void 0,l_:!0})},t.prototype.a_=function(t){return Tb(t,this.settings.methodName,this.settings.mf||!1,this.path,this.settings.h_)},t.prototype.contains=function(t){return void 0!==this.en.find(function(e){return t.j(e)})||void 0!==this.fieldTransforms.find(function(e){return t.j(e.field)})},t.prototype.ff=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Ef(this.path.get(t))},t.prototype.Ef=function(t){if(0===t.length)throw this.a_("Document fields must not be empty");if(hb(this.u_)&&ub.test(t))throw this.a_('Document fields cannot begin and end with "__"')},t}(),db=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||Xd(t)}return t.prototype.Af=function(t,e,n,r){return void 0===r&&(r=!1),new fb({u_:t,methodName:e,h_:n,path:Ll.X(),l_:!1,mf:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function pb(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Af(s.merge||s.mergeFields?2:0,e,n,i);wb("Data must be an object, but it was:",o,r);var a,u,c=bb(r,o);if(s.merge)a=new zf(o.en),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=Eb(e,f[h],n);if(!o.contains(d))throw new _l(bl.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Cb(l,d)||l.push(d)}a=new zf(l),u=o.fieldTransforms.filter(function(t){return a.un(t.field)})}else a=null,u=o.fieldTransforms;return new cb(new ud(c),a,u)}function gb(t,e,n,r){var i=t.Af(1,e,n);wb("Data must be an object, but it was:",i,r);var s=[],o=new cd;Ih(r,function(t,r){var a=Sb(e,t,n);r instanceof gv&&(r=r.o_);var u=i.Tf(a);if(r instanceof av)s.push(a);else{var c=vb(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new zf(s);return new lb(o.hn(),a,i.fieldTransforms)}function mb(t,e,n,r,i,s){var o=t.Af(1,e,n),a=[Eb(e,r,n)],u=[i];if(s.length%2!=0)throw new _l(bl.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(Eb(e,s[c])),u.push(s[c+1]);for(var l=[],h=new cd,f=a.length-1;f>=0;--f)if(!Cb(l,a[f])){var d=a[f],p=u[f];p instanceof gv&&(p=p.o_);var g=o.Tf(d);if(p instanceof av)l.push(d);else{var m=vb(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new zf(l);return new lb(h.hn(),y,o.fieldTransforms)}function yb(t,e,n,r){return void 0===r&&(r=!1),vb(n,t.Af(r?4:3,e))}function vb(t,e){if(t instanceof gv&&(t=t.o_),_b(t))return wb("Unsupported field value:",e,t),bb(t,e);if(t instanceof ov)return function(t,e){if(!hb(e.u_))throw e.a_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.a_(t._methodName+"() is not currently supported inside arrays");var n=t.c_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.l_&&4!==e.u_)throw e.a_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=vb(s[i],e.If(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof gv&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return tf(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=kl.fromDate(t);return{timestampValue:ef(e.serializer,n)}}if(t instanceof kl){var r=new kl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ef(e.serializer,r)}}if(t instanceof dv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof pv)return{bytesValue:nf(e.serializer,t.E_)};if(t instanceof qv){var i=e.t,s=t.firestore.A_;if(!s.isEqual(i))throw e.a_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:of(t.firestore.A_||e.t,t.Q_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.a_("Unsupported field value: "+rv(t))}(t,e)}function bb(t,e){var n={};return Ah(t)?e.path&&e.path.length>0&&e.en.push(e.path):Ih(t,function(t,r){var i=vb(r,e.wf(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function _b(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof kl||t instanceof dv||t instanceof pv||t instanceof qv||t instanceof ov)}function wb(t,e,n){if(!_b(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=rv(n);throw e.a_("an object"===r?t+" a custom object":t+" "+r)}}function Eb(t,e,n){if(e instanceof gv&&(e=e.o_),e instanceof Iv)return e.j_;if("string"==typeof e)return Sb(t,e);throw Tb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Ob=new RegExp("[~\\*/\\[\\]]");function Sb(t,e,n){if(e.search(Ob)>=0)throw Tb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Iv.bind.apply(Iv,Object(to.g)([void 0],e.split("."))))).j_}catch(r){throw Tb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Tb(t,e,n,r,i){var s=r&&!r.W(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new _l(bl.INVALID_ARGUMENT,(a+=". ")+t+u)}function Cb(t,e){return t.some(function(t){return t.isEqual(e)})}var Ib=function(){function t(t){this.Mu=t,this.Rf=new Map,this.mutations=[],this.Pf=!1,this.gf=null,this.yf=new Set}return t.prototype.Vf=function(t){return Object(to.b)(this,void 0,void 0,function(){var e,n=this;return Object(to.d)(this,function(r){switch(r.label){case 0:if(this.pf(),this.mutations.length>0)throw new _l(bl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(to.d)(this,function(u){switch(u.label){case 0:return n=vl(t),r=ff(n.serializer)+"/documents",i={documents:e.map(function(t){return uf(n.serializer,t)})},[4,n.Vu("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){yl(!!e.found);var n=cf(t,e.found.name),r=sf(e.found.updateTime),i=new ud({mapValue:{fields:e.found.fields}});return new fd(n,r,i,{})}(t,e):"missing"in e?function(t,e){yl(!!e.missing),yl(!!e.readTime);var n=cf(t,e.missing),r=sf(e.readTime);return new dd(n,r)}(t,e):ml()}(n.serializer,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());yl(!!e),a.push(e)}),a)]}})})}(this.Mu,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof dd||t instanceof fd?n.vf(t):ml()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.tf(t,this.rn(t))),this.yf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.tf(t,this.bf(t)))}catch(t){this.gf=t}this.yf.add(t.toString())},t.prototype.delete=function(t){this.write([new od(t,this.rn(t))]),this.yf.add(t.toString())},t.prototype.commit=function(){return Object(to.b)(this,void 0,void 0,function(){var t,e=this;return Object(to.d)(this,function(n){switch(n.label){case 0:if(this.pf(),this.gf)throw this.gf;return t=this.Rf,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Vl.st(n);e.mutations.push(new ad(r,e.rn(r)))}),[4,function(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i;return Object(to.d)(this,function(s){switch(s.label){case 0:return n=vl(t),r=ff(n.serializer)+"/documents",i={writes:e.map(function(t){return gf(n.serializer,t)})},[4,n.yu("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.Mu,this.mutations)];case 1:return n.sent(),this.Pf=!0,[2]}})})},t.prototype.vf=function(t){var e;if(t instanceof fd)e=t.version;else{if(!(t instanceof dd))throw ml();e=Nl.min()}var n=this.Rf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new _l(bl.ABORTED,"Document version changed between two reads.")}else this.Rf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Rf.get(t.toString());return!this.yf.has(t.toString())&&e?Gf.updateTime(e):Gf.on()},t.prototype.bf=function(t){var e=this.Rf.get(t.toString());if(!this.yf.has(t.toString())&&e){if(e.isEqual(Nl.min()))throw new _l(bl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gf.updateTime(e)}return Gf.exists(!0)},t.prototype.write=function(t){this.pf(),this.mutations=this.mutations.concat(t)},t.prototype.pf=function(){},t}(),Ab=function(){function t(t,e,n,r){this.di=t,this.Mu=e,this.updateFunction=n,this.Ti=r,this.Sf=5,this.Si=new op(this.di,"transaction_retry")}return t.prototype.run=function(){this.Df()},t.prototype.Df=function(){var t=this;this.Si.Bs(function(){return Object(to.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(to.d)(this,function(r){return t=new Ib(this.Mu),(e=this.Cf(t))&&e.then(function(e){n.di.Ri(function(){return t.commit().then(function(){n.Ti.resolve(e)}).catch(function(t){n.Nf(t)})})}).catch(function(t){n.Nf(t)}),[2]})})})},t.prototype.Cf=function(t){try{var e=this.updateFunction(t);return!Fl(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.Nf=function(t){var e=this;this.Sf>0&&this.xf(t)?(this.Sf-=1,this.di.Ri(function(){return e.Df(),Promise.resolve()})):this.Ti.reject(t)},t.prototype.xf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Yl(e)}return!1},t}(),xb=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=cl.UNAUTHENTICATED,this.clientId=Il.D(),this.Ff=function(){},this.g=new Zd,this.credentials.A(function(t){fl("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Ff(t)),r.g.resolve()})}return t.prototype.getConfiguration=function(){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,qh:100})]}})})},t.prototype.Of=function(t){var e=this;this.Ff=t,this.g.promise.then(function(){return e.Ff(e.user)})},t.prototype.Mf=function(){if(this.di.Ci)throw new _l(bl.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new Zd;return this.di.Ni(function(){return Object(to.b)(t,void 0,void 0,function(){var t,n;return Object(to.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.kf?[4,this.kf.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.$f?[4,this.$f.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=_p(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function jb(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r=this;return Object(to.d)(this,function(i){switch(i.label){case 0:return t.di.Li(),fl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Of(function(n){return t.di.Mi(function(){return Object(to.b)(r,void 0,void 0,function(){return Object(to.d)(this,function(t){switch(t.label){case 0:return[4,Bg(e.Ou,n)];case 1:return t.sent(),[2]}})})})}),e.persistence.rc(function(){return t.terminate()}),t.$f=e,[2]}})})}function kb(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r;return Object(to.d)(this,function(i){switch(i.label){case 0:return t.di.Li(),[4,Nb(t)];case 1:return n=i.sent(),fl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Of(function(n){return t.di.Mi(function(){return function(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r;return Object(to.d)(this,function(i){switch(i.label){case 0:return(n=vl(t)).di.Li(),fl("RemoteStore","RemoteStore received new credentials"),r=pm(n),n.Bu.add(3),[4,am(n)];case 1:return i.sent(),r&&n.Ku.set("Unknown"),[4,n.ku.s_(e)];case 2:return i.sent(),n.Bu.delete(3),[4,om(n)];case 3:return i.sent(),[2]}})})}(e.$h,n)})}),t.kf=e,[2]}})})}function Nb(t){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(e){switch(e.label){case 0:return t.$f?[3,2]:(fl("FirestoreClient","Using default OfflineComponentProvider"),[4,jb(t,new Wy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}})})}function Db(t){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(e){switch(e.label){case 0:return t.kf?[3,2]:(fl("FirestoreClient","Using default OnlineComponentProvider"),[4,kb(t,new Jy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.kf]}})})}function Pb(t){return Nb(t).then(function(t){return t.persistence})}function Rb(t){return Nb(t).then(function(t){return t.Ou})}function Lb(t){return Db(t).then(function(t){return t.$h})}function Vb(t){return Db(t).then(function(t){return t.va})}function Fb(t){return Object(to.b)(this,void 0,void 0,function(){var e,n;return Object(to.d)(this,function(r){switch(r.label){case 0:return[4,Db(t)];case 1:return e=r.sent(),[2,((n=e.Lh).ta=ry.bind(null,e.va),n.sa=sy.bind(null,e.va),n)]}})})}function Mb(t,e,n){var r=this;void 0===n&&(n={});var i=new Zd;return t.di.Ri(function(){return Object(to.b)(r,void 0,void 0,function(){var r;return Object(to.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Yy({next:function(s){e.Ri(function(){return Pm(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new _l(bl.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new _l(bl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Fm(yd(n.path),s,{includeMetadataChanges:!0,ha:!0});return Dm(t,o)},[4,Fb(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.di,e,n,i])]}})})}),i.promise}function Ub(t,e,n){var r=this;void 0===n&&(n={});var i=new Zd;return t.di.Ri(function(){return Object(to.b)(r,void 0,void 0,function(){var r;return Object(to.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Yy({next:function(n){e.Ri(function(){return Pm(t,o)}),n.fromCache&&"server"===r.source?i.reject(new _l(bl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Fm(n,s,{includeMetadataChanges:!0,ha:!0});return Dm(t,o)},[4,Fb(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.di,e,n,i])]}})})}),i.promise}var qb=function(){function t(t,e){this.q_=t,this.Lf=e,this.Bf=[],this.qf=!1,this.Uf=ab(t)}return t.prototype.set=function(t,e,n){this.Qf();var r=Bb(t,this.q_),i=u_(r.W_,e,n),s=pb(this.Uf,"WriteBatch.set",r.Q_,i,null!==r.W_,n);return this.Bf=this.Bf.concat(s.tf(r.Q_,Gf.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Qf();var s,o=Bb(t,this.q_);return e instanceof gv&&(e=e.o_),s="string"==typeof e||e instanceof Iv?mb(this.Uf,"WriteBatch.update",o.Q_,e,n,r):gb(this.Uf,"WriteBatch.update",o.Q_,e),this.Bf=this.Bf.concat(s.tf(o.Q_,Gf.exists(!0))),this},t.prototype.delete=function(t){this.Qf();var e=Bb(t,this.q_);return this.Bf=this.Bf.concat(new od(e.Q_,Gf.on())),this},t.prototype.commit=function(){return this.Qf(),this.qf=!0,this.Bf.length>0?this.Lf(this.Bf):Promise.resolve()},t.prototype.Qf=function(){if(this.qf)throw new _l(bl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Bb(t,e){if(t instanceof gv&&(t=t.o_),t.firestore!==e)throw new _l(bl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var zb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).q_=e,r}return Object(to.c)(e,t),e.prototype.get=function(e){var n=this,r=Bb(e,this.q_),i=new Lv(this.q_);return t.prototype.get.call(this,e).then(function(t){return new kv(n.q_,i,r.Q_,t.K_,new t_(!1,!1),r.W_)})},e}(function(){function t(t,e){this.q_=t,this.Kf=e,this.Uf=ab(t)}return t.prototype.get=function(t){var e=this,n=Bb(t,this.q_),r=new ib(this.q_);return this.Kf.Vf([n.Q_]).then(function(t){if(!t||1!==t.length)return ml();var i=t[0];if(i instanceof dd)return new Sv(e.q_,r,n.Q_,null,n.W_);if(i instanceof fd)return new Sv(e.q_,r,i.key,i,n.W_);throw ml()})},t.prototype.set=function(t,e,n){var r=Bb(t,this.q_),i=u_(r.W_,e,n),s=pb(this.Uf,"Transaction.set",r.Q_,i,null!==r.W_,n);return this.Kf.set(r.Q_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Bb(t,this.q_);return e instanceof gv&&(e=e.o_),s="string"==typeof e||e instanceof Iv?mb(this.Uf,"Transaction.update",o.Q_,e,n,r):gb(this.Uf,"Transaction.update",o.Q_,e),this.Kf.update(o.Q_,s),this},t.prototype.delete=function(t){var e=Bb(t,this.q_);return this.Kf.delete(e.Q_),this},t}()),Hb=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){jv(t=iv(t,Av));var n=Gb(t),r=t.b_(),i=new Jy;return xv(n,i,new Ky(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){jv(t=iv(t,Av));var e=Gb(t),n=t.b_(),r=new Jy;return xv(e,r,new Qy(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.g_&&!t.y_)throw new _l(bl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Zd;return t.G_.Ni(function(){return Object(to.b)(e,void 0,void 0,function(){var e;return Object(to.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(e){switch(e.label){case 0:return ap.Gs()?[4,ap.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Mg(t.A_,t.T_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.o_)},t}(),$b=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Wf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof ul||(i.jf=e),i}return Object(to.c)(e,t),Object.defineProperty(e.prototype,"A_",{get:function(){return this.o_.A_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.v_()),t)).merge,this.o_.p_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.v_().host&&pl("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.di.enqueue(function(){return Object(to.b)(e,void 0,void 0,function(){var e,n;return Object(to.d)(this,function(r){switch(r.label){case 0:return[4,Pb(t)];case 1:return e=r.sent(),[4,Lb(t)];case 2:return n=r.sent(),[2,(e.oc(!0),function(t){var e=vl(t);return e.Bu.delete(0),om(e)}(n))]}})})})}(Gb(iv(this.o_,Av)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.di.enqueue(function(){return Object(to.b)(e,void 0,void 0,function(){var e,n;return Object(to.d)(this,function(r){switch(r.label){case 0:return[4,Pb(t)];case 1:return e=r.sent(),[4,Lb(t)];case 2:return n=r.sent(),[2,(e.oc(!1),function(t){return Object(to.b)(this,void 0,void 0,function(){var e;return Object(to.d)(this,function(n){switch(n.label){case 0:return(e=vl(t)).Bu.add(0),[4,am(e)];case 1:return n.sent(),e.Ku.set("Offline"),[2]}})})}(n))]}})})})}(Gb(iv(this.o_,Av)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&tv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Wf.enableMultiTabIndexedDbPersistence(this):this.Wf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Wf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Zd;return t.di.Ri(function(){return Object(to.b)(e,void 0,void 0,function(){var e;return Object(to.d)(this,function(r){switch(r.label){case 0:return e=fy,[4,Vb(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Gb(iv(this.o_,Av)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Yy(e);return t.di.Ri(function(){return Object(to.b)(n,void 0,void 0,function(){var e;return Object(to.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){vl(t).Zu.add(e),e.next()},[4,Fb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.di.Ri(function(){return Object(to.b)(n,void 0,void 0,function(){var e;return Object(to.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){vl(t).Zu.delete(e)},[4,Fb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Gb(t=iv(t,Av)),tp(e)?e:{next:e})}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.jf)throw new _l(bl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.jf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new o_(this,nb(this.o_,t))}catch(t){throw Yb(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Jb(this,rb(this.o_,t))}catch(t){throw Yb(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new r_(this,function(t,e){if(t=iv(t,vv),Zy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _l(bl.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Bv(t,null,function(t){return new gd(Pl.X(),t)}(e))}(this.o_,t))}catch(t){throw Yb(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Zd;return t.di.Ri(function(){return Object(to.b)(n,void 0,void 0,function(){var n;return Object(to.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Db(t).then(function(t){return t.Mu})}(t)];case 1:return n=i.sent(),new Ab(t.di,n,e,r).run(),[2]}})})}),r.promise}(Gb(t),function(n){return e(new zb(t,n))})}(this.o_,function(n){return t(new Kb(e,n))})},e.prototype.batch=function(){var t=this;return Gb(this.o_),new Qb(new qb(this.o_,function(e){return Mv(t.o_,e)}))},e}(gv);function Gb(t){return t.z_||Wb(t),t.z_.Mf(),t.z_}function Wb(t){var e=t.b_(),n=function(t,e,n){return new al(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.A_,t.T_,e);t.z_=new xb(t.R_,t.G_,n)}var Kb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(to.c)(e,t),e.prototype.get=function(t){var e=this,n=a_(t);return this.o_.get(n).then(function(t){return new e_(e.q_,t)})},e.prototype.set=function(t,e,n){var r=a_(t);return n?(Xy("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=a_(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(to.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=a_(t);return this.o_.delete(e),this},e}(gv),Qb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e.prototype.set=function(t,e,n){var r=a_(t);return n?(Xy("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=a_(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(to.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=a_(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(gv),Jb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new Ov(e),r}return Object(to.c)(e,t),e.Gf=function(t,n,r){if(t.length%2!=0)throw new _l(bl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new qv(n.o_,r,new Vl(t)))},e.B_=function(t,n,r){return new e(n,new qv(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new o_(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new o_(this.firestore,nb(this.o_,t))}catch(t){throw Yb(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof gv&&(t=t.o_),t instanceof qv&&sb(this.o_,t)},e.prototype.set=function(t,e){e=Xy("DocumentReference.set",e);try{return function(t,e,n){t=iv(t,qv);var r=iv(t.firestore,Av),i=u_(t.W_,e,n);return Mv(r,pb(ab(r),"setDoc",t.Q_,i,null!==t.W_,n).tf(t.Q_,Gf.on()))}(this.o_,t,e)}catch(t){throw Yb(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Vv(this.o_,t):Vv.apply(void 0,Object(to.g)([this.o_,t,e],n))}catch(t){throw Yb(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Mv(iv((t=this.o_).firestore,Av),[new od(t.Q_,Gf.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Zb(e),i=Xb(e,function(e){return new e_(t.firestore,new kv(t.firestore.o_,t.U_,e.Q_,e.K_,e.metadata,t.o_.W_))});return Fv(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=iv(t,qv);var e=iv(t.firestore,Av),n=Gb(e),r=new Lv(e);return function(t,e){var n=this,r=new Zd;return t.di.Ri(function(){return Object(to.b)(n,void 0,void 0,function(){var n;return Object(to.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r,i,s;return Object(to.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=vl(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Bc.cs(t,e)})}(t,e)];case 1:return(r=o.sent())instanceof fd?n.resolve(r):r instanceof dd?n.resolve(null):n.reject(new _l(bl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),s=_p(i,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,Rb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.Q_).then(function(n){return new kv(e,r,t.Q_,n,new t_(n instanceof fd&&n.an,!0),t.W_)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=iv(t,qv);var e=iv(t.firestore,Av);return Mb(Gb(e),t.Q_,{source:"server"}).then(function(n){return Uv(e,t,n)})}(this.o_):function(t){t=iv(t,qv);var e=iv(t.firestore,Av);return Mb(Gb(e),t.Q_).then(function(n){return Uv(e,t,n)})}(this.o_)).then(function(t){return new e_(e.firestore,new kv(e.firestore.o_,e.U_,t.Q_,t.K_,t.metadata,e.o_.W_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(gv);function Yb(t,e,n){return t.message=t.message.replace(e,n),t}function Zb(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!tp(r))return r}return{}}function Xb(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=tp(t[0])?t[0]:tp(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var t_=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),e_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(to.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Jb(this.q_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return Rv(this.o_,t.o_)},e}(gv),n_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(e_),r_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new Ov(e),r}return Object(to.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Hv(this.o_,function(t,e,n){var r=e,i=Cv("where",t);return new $v(i,r,n)}(t,n,r)))}catch(t){throw Yb(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Hv(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=Cv("orderBy",t);return new Gv(r,n)}(t,n)))}catch(t){throw Yb(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Hv(this.o_,function(t){return sv("limit",t),new Wv("limit",t,"F")}(t)))}catch(t){throw Yb(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Hv(this.o_,function(t){return sv("limitToLast",t),new Wv("limitToLast",t,"L")}(t)))}catch(t){throw Yb(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Hv(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Kv("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Yb(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Hv(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Kv("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Yb(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Hv(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qv("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Yb(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Hv(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qv("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Yb(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return ob(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=iv(t,Bv);var e=iv(t.firestore,Av),n=Gb(e),r=new Lv(e);return function(t,e){var n=this,r=new Zd;return t.di.Ri(function(){return Object(to.b)(n,void 0,void 0,function(){var n;return Object(to.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(to.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Qg(t,e,!0)];case 1:return r=c.sent(),i=new Xm(e,r.Kc),s=i.bh(r.documents),o=i.Zn(s,!1),n.resolve(o.snapshot),[3,3];case 2:return a=c.sent(),u=_p(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,Rb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.Z_).then(function(n){return new Dv(e,r,t,n)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=iv(t,Bv);var e=iv(t.firestore,Av),n=Gb(e),r=new Lv(e);return Ub(n,t.Z_,{source:"server"}).then(function(n){return new Dv(e,r,t,n)})}(this.o_):function(t){t=iv(t,Bv);var e=iv(t.firestore,Av),n=Gb(e),r=new Lv(e);return tb(t.Z_),Ub(n,t.Z_).then(function(n){return new Dv(e,r,t,n)})}(this.o_)).then(function(t){return new s_(e.firestore,new Dv(e.firestore.o_,e.U_,e.o_,t.J_))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Zb(e),i=Xb(e,function(e){return new s_(t.firestore,new Dv(t.firestore.o_,t.U_,t.o_,e.J_))});return Fv(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(gv),i_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(to.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new n_(this.q_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(gv),s_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(to.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new r_(this.q_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map(function(e){return new n_(t.q_,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map(function(t){return new i_(e.q_,t)})},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach(function(r){t.call(e,new n_(n.q_,r))})},e.prototype.isEqual=function(t){return Rv(this.o_,t.o_)},e}(gv),o_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(to.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new Jb(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Jb(this.firestore,void 0===t?rb(this.o_):rb(this.o_,t))}catch(t){throw Yb(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=iv(t.firestore,Av),r=rb(t),i=u_(t.W_,e);return Mv(n,pb(ab(t.firestore),"addDoc",r.Q_,i,null!==t.W_,{}).tf(r.Q_,Gf.exists(!1))).then(function(){return r})}(this.o_,t).then(function(t){return new Jb(e.firestore,t)})},e.prototype.isEqual=function(t){return sb(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(r_);function a_(t){return t instanceof gv&&(t=t.o_),iv(t,qv)}function u_(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var c_,l_=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Iv.bind.apply(Iv,Object(to.g)([void 0],e))))||this}return Object(to.c)(e,t),e.documentId=function(){return new e(Ll.et().J())},e.prototype.isEqual=function(t){return t instanceof gv&&(t=t.o_),t instanceof Iv&&this.o_.j_.isEqual(t.j_)},e}(gv),h_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e.serverTimestamp=function(){var t=new cv("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new av("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lv("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hv("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new fv("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(gv),f_={Firestore:$b,GeoPoint:dv,Timestamp:kl,Blob:wv,Transaction:Kb,WriteBatch:Qb,DocumentReference:Jb,DocumentSnapshot:e_,Query:r_,QueryDocumentSnapshot:n_,QuerySnapshot:s_,CollectionReference:o_,FieldPath:l_,FieldValue:h_,setLogLevel:function(t){ll.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new ol.a("firestore",function(t){return function(t,e){return new $b(t,new Av(t,e),new Hb)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},f_)))})(c_=eo.a),c_.registerVersion("@firebase/firestore","2.0.5");var d_=n("VRyK"),p_=n("qgXg"),g_=n("Ylt2");class m_ extends At.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new y_(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new xt.a;if(this.isStopped||this.hasError?s=xe.a.EMPTY:(this.observers.push(t),s=new g_.a(this,t)),r&&t.add(t=new Ys.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||p_.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class y_{constructor(t,e){this.time=t,this.value=e}}function v_(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new m_(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function b_(t,e){return e?he(()=>t,e):he(()=>t)}var __=n("tf+s");const w_=new r.q("angularfire2.auth.use-emulator"),E_=new r.q("angularfire2.auth.settings"),O_=new r.q("angularfire2.auth.tenant-id"),S_=new r.q("angularfire2.auth.langugage-code"),T_=new r.q("angularfire2.auth.use-device-language"),C_=new r.q("angularfire.auth.persistence");let I_=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new Zs.d(i),f=Object(Zs.h)(h),d=new At.a,p=Object(Ct.a)(void 0).pipe(Object(Ys.b)(h.outsideAngular),he(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Gt.a)(()=>Object(Zs.g)(t,i,e)),Object(Gt.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(Zs.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),v_({bufferSize:1,refCount:!1}));if($(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ct.a)(null);else{p.pipe(Ie()).subscribe();const t=p.pipe(he(t=>t.getRedirectResult().then(t=>t,()=>null)),f,v_({bufferSize:1,refCount:!1})),e=t=>new Vt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(he(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(he(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(b_(n),Object(__.a)(h.outsideAngular),Object(Ys.b)(h.insideAngular)),this.user=t.pipe(b_(r),Object(__.a)(h.outsideAngular),Object(Ys.b)(h.insideAngular)),this.idToken=this.user.pipe(he(t=>t?Object(It.a)(t.getIdToken()):Object(Ct.a)(null))),this.idTokenResult=this.user.pipe(he(t=>t?Object(It.a)(t.getIdTokenResult()):Object(Ct.a)(null))),this.credential=Object(d_.a)(t,d,this.authState.pipe(Qt(t=>!t))).pipe(Object(Gt.a)(t=>(null==t?void 0:t.user)?t:null),Object(__.a)(h.outsideAngular),Object(Ys.b)(h.insideAngular))}return Object(Zs.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Zs.c),r.Sb(Zs.b,8),r.Sb(r.B),r.Sb(r.z),r.Sb(w_,8),r.Sb(E_,8),r.Sb(O_,8),r.Sb(S_,8),r.Sb(T_,8),r.Sb(C_,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(Zs.c),Object(r.Sb)(Zs.b,8),Object(r.Sb)(r.B),Object(r.Sb)(r.z),Object(r.Sb)(w_,8),Object(r.Sb)(E_,8),Object(r.Sb)(O_,8),Object(r.Sb)(S_,8),Object(r.Sb)(T_,8),Object(r.Sb)(C_,8))},token:t,providedIn:"any"}),t})();function A_(t,e){return function(t,e=$s.a){return new Vt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function x_(t,e){return A_(t,e).pipe(Object(Gt.a)(t=>({payload:t,type:"query"})))}function j_(t,e){return x_(t,e).pipe(ve(void 0),Gs(),Object(Gt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function k_(t,e,n){return j_(t,n).pipe(be((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return N_(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return N_(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return N_(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Qs(void 0,void 0)),Object(Gt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function N_(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function D_(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Zs.e)(I_,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class P_{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=j_(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Gt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(ve(void 0),Gs(),Qt(([t,e])=>e.length>0||!t),Object(Gt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(be((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=D_(t);return k_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return x_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Gt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(It.a)(this.query.get(t)).pipe(Object(Ys.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new R_(this.ref.doc(t),this.afs)}}class R_{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=q_(n,e);return new P_(r,i,this.afs)}snapshotChanges(){return A_(this.ref,this.afs.schedulers.outsideAngular).pipe(ve(void 0),Gs(),Object(Gt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Gt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(It.a)(this.ref.get(t)).pipe(Object(Ys.b)(this.afs.schedulers.insideAngular))}}class L_{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?j_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Gt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Qt(t=>t.length>0),this.afs.keepUnstableUntilFirst):j_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(be((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=D_(t);return k_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return x_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Gt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(It.a)(this.query.get(t)).pipe(Object(Ys.b)(this.afs.schedulers.insideAngular))}}const V_=new r.q("angularfire2.enableFirestorePersistence"),F_=new r.q("angularfire2.firestore.persistenceSettings"),M_=new r.q("angularfire2.firestore.settings"),U_=new r.q("angularfire2.firestore.use-emulator");function q_(t,e=(t=>t)){return{query:e(t),ref:t}}let B_=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new Zs.d(s),this.keepUnstableUntilFirst=Object(Zs.h)(this.schedulers);const c=Object(Zs.g)(t,s,e);!Xs.a.auth&&u&&Object(Zs.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Zs.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!$(i)){const e=()=>{try{return Object(It.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(Ct.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Ct.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=q_(n,e),s=this.schedulers.ngZone.run(()=>r);return new P_(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new L_(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new R_(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Zs.c),r.Sb(Zs.b,8),r.Sb(V_,8),r.Sb(M_,8),r.Sb(r.B),r.Sb(r.z),r.Sb(F_,8),r.Sb(U_,8),r.Sb(w_,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(Zs.c),Object(r.Sb)(Zs.b,8),Object(r.Sb)(V_,8),Object(r.Sb)(M_,8),Object(r.Sb)(r.B),Object(r.Sb)(r.z),Object(r.Sb)(F_,8),Object(r.Sb)(U_,8),Object(r.Sb)(w_,8))},token:t,providedIn:"any"}),t})(),z_=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:V_,useValue:!0},{provide:F_,useValue:e}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[B_]}),t})(),H_=(()=>{class t{constructor(t){this.firestore=t}agregarEmpleado(t){return this.firestore.collection("empleados").add(t)}getEmpleados(){return this.firestore.collection("empleados",t=>t.orderBy("fechaCreacion","asc")).snapshotChanges()}getEditEmpleado(t){return this.firestore.collection("empleados").doc(t).snapshotChanges()}actualizarEmpleado(t,e){return this.firestore.collection("empleados").doc(t).update(e)}eliminarEmpleado(t){return this.firestore.collection("empleados").doc(t).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(B_))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class $_{}const G_="*";function W_(t,e){return{type:7,name:t,definitions:e,options:{}}}function K_(t,e=null){return{type:4,styles:e,timings:t}}function Q_(t,e=null){return{type:2,steps:t,options:e}}function J_(t){return{type:6,styles:t,offset:null}}function Y_(t,e,n){return{type:0,name:t,styles:e,options:n}}function Z_(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function X_(t){Promise.resolve(null).then(t)}class tw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){X_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ew{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?X_(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const nw=["toast-component",""];function rw(t,e){if(1&t){const t=r.Pb();r.Ob(0,"button",5),r.Vb("click",function(){return r.dc(t),r.Xb().remove()}),r.Ob(1,"span",6),r.kc(2,"\xd7"),r.Nb(),r.Nb()}}function iw(t,e){if(1&t&&(r.Mb(0),r.kc(1),r.Lb()),2&t){const t=r.Xb(2);r.yb(1),r.mc("[",t.duplicatesCount+1,"]")}}function sw(t,e){if(1&t&&(r.Ob(0,"div"),r.kc(1),r.jc(2,iw,2,1,"ng-container",4),r.Nb()),2&t){const t=r.Xb();r.Ab(t.options.titleClass),r.zb("aria-label",t.title),r.yb(1),r.mc(" ",t.title," "),r.yb(1),r.ac("ngIf",t.duplicatesCount)}}function ow(t,e){if(1&t&&r.Kb(0,"div",7),2&t){const t=r.Xb();r.Ab(t.options.messageClass),r.ac("innerHTML",t.message,r.ec)}}function aw(t,e){if(1&t&&(r.Ob(0,"div",8),r.kc(1),r.Nb()),2&t){const t=r.Xb();r.Ab(t.options.messageClass),r.zb("aria-label",t.message),r.yb(1),r.mc(" ",t.message," ")}}function uw(t,e){if(1&t&&(r.Ob(0,"div"),r.Kb(1,"div",9),r.Nb()),2&t){const t=r.Xb();r.yb(1),r.hc("width",t.width+"%")}}function cw(t,e){if(1&t){const t=r.Pb();r.Ob(0,"button",5),r.Vb("click",function(){return r.dc(t),r.Xb().remove()}),r.Ob(1,"span",6),r.kc(2,"\xd7"),r.Nb(),r.Nb()}}function lw(t,e){if(1&t&&(r.Mb(0),r.kc(1),r.Lb()),2&t){const t=r.Xb(2);r.yb(1),r.mc("[",t.duplicatesCount+1,"]")}}function hw(t,e){if(1&t&&(r.Ob(0,"div"),r.kc(1),r.jc(2,lw,2,1,"ng-container",4),r.Nb()),2&t){const t=r.Xb();r.Ab(t.options.titleClass),r.zb("aria-label",t.title),r.yb(1),r.mc(" ",t.title," "),r.yb(1),r.ac("ngIf",t.duplicatesCount)}}function fw(t,e){if(1&t&&r.Kb(0,"div",7),2&t){const t=r.Xb();r.Ab(t.options.messageClass),r.ac("innerHTML",t.message,r.ec)}}function dw(t,e){if(1&t&&(r.Ob(0,"div",8),r.kc(1),r.Nb()),2&t){const t=r.Xb();r.Ab(t.options.messageClass),r.zb("aria-label",t.message),r.yb(1),r.mc(" ",t.message," ")}}function pw(t,e){if(1&t&&(r.Ob(0,"div"),r.Kb(1,"div",9),r.Nb()),2&t){const t=r.Xb();r.yb(1),r.hc("width",t.width+"%")}}class gw{constructor(t,e,n,r,i,s){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=i,this.toastRef=s,this._onTap=new At.a,this._onAction=new At.a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const mw={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},yw=new r.q("ToastConfig");class vw{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class bw extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let _w=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(a))},token:t,providedIn:"root"}),t})();class ww{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let Ew=(()=>{class t{constructor(t,e,n,r){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=r,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new bw(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new ww(this._createPortalHost(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(_w),r.Sb(r.j),r.Sb(r.g),r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(_w),Object(r.Sb)(r.j),Object(r.Sb)(r.g),Object(r.Sb)(a))},token:t,providedIn:"root"}),t})();class Ow{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new At.a,this._activate=new At.a,this._manualClose=new At.a,this._resetTimeout=new At.a,this._countDuplicate=new At.a}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class Sw{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===gw?this._toastPackage:this._parentInjector.get(t,e,n)}}let Tw=(()=>{class t{constructor(t,e,n,r,i){this.overlay=e,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,e,n={},r=""){return this._preBuildNotification(r,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t="",e="",n,r){const{includeTitleDuplicates:i}=this.toastrConfig;for(const s of this.toasts){const o=i&&s.title===t;if((!i||o)&&s.message===e)return s.toastRef.onDuplicate(n,r),s}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,r)):this._buildNotification(t,e,n,r)}_buildNotification(t,e,n,i){if(!i.toastComponent)throw new Error("toastComponent required");const s=this.findDuplicate(n,e,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||e)&&this.toastrConfig.preventDuplicates&&null!==s)return s;this.previousToastMessage=e;let o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const a=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;let u=e;e&&i.enableHtml&&(u=this.sanitizer.sanitize(r.H.HTML,e));const c=new Ow(a),l=new gw(this.index,i,u,n,t,c),h=new Sw(l,this._injector),f=new vw(i.toastComponent,h),d=a.attach(f,this.toastrConfig.newestOnTop);c.componentInstance=d.instance;const p={toastId:this.index,title:n||"",message:e||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:d};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{p.toastRef.activate()})),this.toasts.push(p),p}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(yw),r.Sb(Ew),r.Sb(r.r),r.Sb(_t),r.Sb(r.z))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(yw),Object(r.Sb)(Ew),Object(r.Sb)(r.o),Object(r.Sb)(_t),Object(r.Sb)(r.z))},token:t,providedIn:"root"}),t})(),Cw=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Tw),r.Jb(gw),r.Jb(r.z))},t.\u0275cmp=r.Db({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&r.Vb("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.ic("@flyInOut",e.state),r.Ab(e.toastClasses),r.hc("display",e.displayStyle))},attrs:nw,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.jc(0,rw,3,0,"button",0),r.jc(1,sw,3,5,"div",1),r.jc(2,ow,1,3,"div",2),r.jc(3,aw,2,4,"div",3),r.jc(4,uw,2,2,"div",4)),2&t&&(r.ac("ngIf",e.options.closeButton),r.yb(1),r.ac("ngIf",e.title),r.yb(1),r.ac("ngIf",e.message&&e.options.enableHtml),r.yb(1),r.ac("ngIf",e.message&&!e.options.enableHtml),r.yb(1),r.ac("ngIf",e.options.progressBar))},directives:[U],encapsulation:2,data:{animation:[W_("flyInOut",[Y_("inactive",J_({opacity:0})),Y_("active",J_({opacity:1})),Y_("removed",J_({opacity:0})),Z_("inactive => active",K_("{{ easeTime }}ms {{ easing }}")),Z_("active => removed",K_("{{ easeTime }}ms {{ easing }}"))])]}}),t})();const Iw=Object.assign(Object.assign({},mw),{toastComponent:Cw});let Aw=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:yw,useValue:{default:Iw,config:e}}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[H]]}),t})(),xw=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.appRef=n,this.width=-1,this.toastClasses="",this.state="inactive",this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state&&(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Tw),r.Jb(gw),r.Jb(r.g))},t.\u0275cmp=r.Db({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,e){1&t&&r.Vb("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.Ab(e.toastClasses),r.hc("display",e.displayStyle))},attrs:nw,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.jc(0,cw,3,0,"button",0),r.jc(1,hw,3,5,"div",1),r.jc(2,fw,1,3,"div",2),r.jc(3,dw,2,4,"div",3),r.jc(4,pw,2,2,"div",4)),2&t&&(r.ac("ngIf",e.options.closeButton),r.yb(1),r.ac("ngIf",e.title),r.yb(1),r.ac("ngIf",e.message&&e.options.enableHtml),r.yb(1),r.ac("ngIf",e.message&&!e.options.enableHtml),r.yb(1),r.ac("ngIf",e.options.progressBar))},directives:[U],encapsulation:2}),t})();function jw(t,e){1&t&&(r.Ob(0,"div",16),r.Ob(1,"span",17),r.kc(2,"Loading..."),r.Nb(),r.Nb())}function kw(t,e){1&t&&(r.Ob(0,"span",18),r.kc(1,"TODOS LOS CAMPOS SON REQUERIDOS"),r.Nb())}Object.assign(Object.assign({},mw),{toastComponent:xw});let Nw=(()=>{class t{constructor(t,e,n,r,i){this.fb=t,this._empleadoService=e,this.router=n,this.toastr=r,this.submitted=!1,this.loading=!1,this.titulo="",this.btnValue="",this.createEmpleado=this.fb.group({nombre:["",Fi.required],apellido:["",Fi.required],documento:["",Fi.required],salario:["",Fi.required]}),this.id=i.snapshot.paramMap.get("id")}agregarEmpleado(){if(this.submitted=!0,this.createEmpleado.invalid)return;const t={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,documento:this.createEmpleado.value.documento,salario:this.createEmpleado.value.salario,fechaCreacion:new Date,fechaActualizacion:new Date};this.loading=!0,this._empleadoService.agregarEmpleado(t).then(()=>{this.toastr.success("Registro exitoso !","Empleado Registrado",{positionClass:"toast-top-center"}),this.router.navigate(["list-empleados"])}).catch(t=>{console.log(t),this.loading=!1})}esEditar(){this.titulo="Agregar Empleado",this.btnValue="Crear Empleado",null!==this.id&&(this.loading=!0,this.titulo="Editar Empleado",this.btnValue="Modificar Empleado",this._empleadoService.getEditEmpleado(this.id).subscribe(t=>{this.loading=!1,this.createEmpleado.setValue({nombre:t.payload.data().nombre,apellido:t.payload.data().apellido,documento:t.payload.data().documento,salario:t.payload.data().salario})}))}AddOrEdit(){this.submitted=!0,this.createEmpleado.invalid||(null===this.id?this.agregarEmpleado():this.actualizar(this.id))}actualizar(t){const e={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,documento:this.createEmpleado.value.documento,salario:this.createEmpleado.value.salario,fechaActualizacion:new Date};this.loading=!0,this._empleadoService.actualizarEmpleado(t,e).then(()=>{this.loading=!1,this.toastr.info("Empleado modificado con exito!","Empleado Modificado",{positionClass:"toast-top-center"}),this.router.navigate(["/list-empleados"])}).catch(t=>{console.log(t)})}ngOnInit(){this.esEditar()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(zs),r.Jb(H_),r.Jb(ri),r.Jb(Tw),r.Jb(Mn))},t.\u0275cmp=r.Db({type:t,selectors:[["app-create-empleado"]],decls:22,vars:5,consts:[[1,"container","pt-4"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"card","text-center"],[1,"card-body"],["class","spinner-border float-right","role","status",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[1,"mt-4",3,"formGroup","ngSubmit"],[1,"col"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control","form-control-lg"],["type","tel","formControlName","documento","maxlength","11","placeholder","Documento",1,"form-control","form-control-lg","mt-3"],["type","number","formControlName","salario","placeholder","Salario",1,"form-control","form-control-lg","mt-3"],[1,"mt-3"],["routerLink","/",1,"btn","btn-danger","btn-lg","mr-2"],[1,"btn","btn-success","btn-lg"],["role","status",1,"spinner-border","float-right"],[1,"sr-only"],[1,"badge","badge-danger"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"div",2),r.Ob(3,"div",3),r.Ob(4,"div",4),r.Ob(5,"h3"),r.kc(6),r.jc(7,jw,3,0,"div",5),r.Nb(),r.jc(8,kw,2,0,"span",6),r.Ob(9,"form",7),r.Vb("ngSubmit",function(){return e.AddOrEdit()}),r.Ob(10,"div",1),r.Ob(11,"div",8),r.Kb(12,"input",9),r.Nb(),r.Ob(13,"div",8),r.Kb(14,"input",10),r.Nb(),r.Nb(),r.Kb(15,"input",11),r.Kb(16,"input",12),r.Ob(17,"div",13),r.Ob(18,"button",14),r.kc(19,"Volver"),r.Nb(),r.Ob(20,"button",15),r.kc(21),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.yb(6),r.mc("",e.titulo," "),r.yb(1),r.ac("ngIf",e.loading),r.yb(1),r.ac("ngIf",e.submitted&&e.createEmpleado.invalid),r.yb(1),r.ac("formGroup",e.createEmpleado),r.yb(12),r.lc(e.btnValue))},directives:[U,Ps,es,Vs,Ni,ts,Ms,qs,rs,ii],styles:[""]}),t})();function Dw(t,e){1&t&&(r.Ob(0,"h3",7),r.kc(1,"Listado Vacio"),r.Nb())}const Pw=function(t){return["/editEmpleado/",t]};function Rw(t,e){if(1&t){const t=r.Pb();r.Ob(0,"tr"),r.Ob(1,"td"),r.kc(2),r.Nb(),r.Ob(3,"td"),r.kc(4),r.Nb(),r.Ob(5,"td"),r.kc(6),r.Nb(),r.Ob(7,"td"),r.kc(8),r.Yb(9,"currency"),r.Nb(),r.Ob(10,"td"),r.Kb(11,"i",11),r.Ob(12,"i",12),r.Vb("click",function(){r.dc(t);const n=e.$implicit;return r.Xb(2).eliminarEmpleado(n.id)}),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=e.$implicit;r.yb(2),r.lc(t.nombre),r.yb(2),r.lc(t.apellido),r.yb(2),r.lc(t.documento),r.yb(2),r.lc(r.Zb(9,5,t.salario)),r.yb(3),r.ac("routerLink",r.bc(7,Pw,t.id))}}function Lw(t,e){if(1&t&&(r.Ob(0,"table",8),r.Ob(1,"thead",9),r.Ob(2,"tr"),r.Ob(3,"th"),r.kc(4,"Nombre"),r.Nb(),r.Ob(5,"th"),r.kc(6,"Apellido"),r.Nb(),r.Ob(7,"th"),r.kc(8,"Documento"),r.Nb(),r.Ob(9,"th"),r.kc(10,"Salario"),r.Nb(),r.Ob(11,"th"),r.kc(12,"Acciones"),r.Nb(),r.Nb(),r.Nb(),r.Ob(13,"tbody"),r.jc(14,Rw,13,9,"tr",10),r.Nb(),r.Nb()),2&t){const t=r.Xb();r.yb(14),r.ac("ngForOf",t.empleados)}}const Vw=[{path:"list-empleados",component:(()=>{class t{constructor(t,e){this._empleadoService=t,this.toastr=e,this.empleados=[]}getEmpleados(){this._empleadoService.getEmpleados().subscribe(t=>{this.empleados=[],t.forEach(t=>{this.empleados.push(Object.assign({id:t.payload.doc.id},t.payload.doc.data()))})})}eliminarEmpleado(t){this._empleadoService.eliminarEmpleado(t).then(()=>{this.toastr.error("Registro Eliminado !","Empleado Eliminado con \xc9xito",{positionClass:"toast-top-center"}),console.log("Empleado eliminado con exito")}).catch(t=>{console.log(t)})}ngOnInit(){this.getEmpleados()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(H_),r.Jb(Tw))},t.\u0275cmp=r.Db({type:t,selectors:[["app-list-empleados"]],decls:9,vars:2,consts:[[1,"container","mt-4"],[1,"card"],[1,"card-body"],[1,"h3","text-center"],["routerLink","/create-empleado",1,"btn","btn-success","btn-lg","float-right"],["class","mt-5 text-center font-weight-light",4,"ngIf"],["class","table table-hover mt-5",4,"ngIf"],[1,"mt-5","text-center","font-weight-light"],[1,"table","table-hover","mt-5"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[1,"fas","fa-edit","fa-lg","text-info","mr-3",3,"routerLink"],[1,"fas","fa-trash-alt","fa-lg","text-danger",3,"click"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"div",2),r.Ob(3,"label",3),r.kc(4,"Listado de Empleados"),r.Nb(),r.Ob(5,"button",4),r.kc(6,"Agregar"),r.Nb(),r.jc(7,Dw,2,0,"h3",5),r.jc(8,Lw,15,1,"table",6),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.yb(7),r.ac("ngIf",0==e.empleados.length),r.yb(1),r.ac("ngIf",e.empleados.length>0))},directives:[ii,U,F],pipes:[z],styles:["i[_ngcontent-%COMP%]{cursor:pointer}"]}),t})()},{path:"create-empleado",component:Nw},{path:"editEmpleado/:id",component:Nw},{path:"**",redirectTo:"list-empleados",pathMatch:"full"}];let Fw=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[mi.forRoot(Vw)],mi]}),t})();function Mw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Uw(t){switch(t.length){case 0:return new tw;case 1:return t[0];default:return new ew(t)}}function qw(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case G_:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Bw(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&zw(n,"start",t)));break;case"done":t.onDone(()=>r(n&&zw(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&zw(n,"destroy",t)))}}function zw(t,e,n){const r=n.totalTime,i=Hw(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Hw(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function $w(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Gw(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Ww=(t,e)=>!1,Kw=(t,e)=>!1,Qw=(t,e,n)=>[];const Jw=Mw();(Jw||"undefined"!=typeof Element)&&(Ww=(t,e)=>t.contains(e),Kw=(()=>{if(Jw||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Kw}})(),Qw=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Yw=null,Zw=!1;function Xw(t){Yw||(Yw=("undefined"!=typeof document?document.body:null)||{},Zw=!!Yw.style&&"WebkitAppearance"in Yw.style);let e=!0;return Yw.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Yw.style,!e&&Zw)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Yw.style),e}const tE=Kw,eE=Ww,nE=Qw;function rE(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let iE=(()=>{class t{validateStyleProperty(t){return Xw(t)}matchesElement(t,e){return tE(t,e)}containsElement(t,e){return eE(t,e)}query(t,e,n){return nE(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new tw(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),sE=(()=>{class t{}return t.NOOP=new iE,t})();const oE="ng-enter",aE="ng-leave",uE="ng-trigger",cE=".ng-trigger",lE="ng-animating",hE=".ng-animating";function fE(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:dE(parseFloat(e[1]),e[2])}function dE(t,e){switch(e){case"s":return 1e3*t;default:return t}}function pE(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=dE(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=dE(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function gE(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function mE(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else gE(t,n);return n}function yE(t,e,n){return n?e+":"+n+";":""}function vE(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=yE(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=yE(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function bE(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=IE(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Mw()&&vE(t))}function _E(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=IE(e);t.style[n]=""}),Mw()&&vE(t))}function wE(t){return Array.isArray(t)?1==t.length?t[0]:Q_(t):t}const EE=new RegExp("{{\\s*(.+?)\\s*}}","g");function OE(t){let e=[];if("string"==typeof t){let n;for(;n=EE.exec(t);)e.push(n[1]);EE.lastIndex=0}return e}function SE(t,e,n){const r=t.toString(),i=r.replace(EE,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function TE(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const CE=/-+([a-z0-9])/g;function IE(t){return t.replace(CE,(...t)=>t[1].toUpperCase())}function AE(t,e){return 0===t||0===e}function xE(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=kE(t,e)})}}return e}function jE(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function kE(t,e){return window.getComputedStyle(t)[e]}const NE="*";function DE(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(LE(i,o)),"<"!=s[0]||i==NE&&o==NE||e.push(LE(o,i))}(t,n,e)):n.push(t),n}const PE=new Set(["true","1"]),RE=new Set(["false","0"]);function LE(t,e){const n=PE.has(t)||RE.has(t),r=PE.has(e)||RE.has(e);return(i,s)=>{let o=t==NE||t==i,a=e==NE||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?PE.has(t):RE.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?PE.has(e):RE.has(e)),o&&a}}const VE=new RegExp("s*:selfs*,?","g");function FE(t,e,n){return new ME(t).build(e,n)}class ME{constructor(t){this._driver=t}build(t,e){const n=new UE(e);return this._resetContextStyleTimingState(n),jE(this,wE(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(qE(t)){const e=t;Object.keys(e).forEach(t=>{OE(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=TE(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=jE(this,wE(t.animation),e);return{type:1,matchers:DE(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:BE(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>jE(this,t,e)),options:BE(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=jE(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:BE(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return zE(pE(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=zE(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||pE(r,e),zE(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:J_({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=J_(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==G_?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(qE(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=OE(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(qE(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(qE(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:jE(this,wE(t.animation),e),options:BE(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:BE(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:BE(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(VE,"")),[t=t.replace(/@\*/g,cE).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,hE),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,$w(e.collectedStyles,e.currentQuerySelector,{});const o=jE(this,wE(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:BE(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:pE(t.timings,e.errors,!0);return{type:12,animation:jE(this,wE(t.animation),e),timings:n,options:null}}}class UE{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function qE(t){return!Array.isArray(t)&&"object"==typeof t}function BE(t){var e;return t?(t=gE(t)).params&&(t.params=(e=t.params)?gE(e):null):t={},t}function zE(t,e,n){return{duration:t,delay:e,easing:n}}function HE(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class $E{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const GE=new RegExp(":enter","g"),WE=new RegExp(":leave","g");function KE(t,e,n,r,i,s={},o={},a,u,c=[]){return(new QE).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class QE{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new $E;const l=new YE(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),jE(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[HE(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?fE(n.duration):null,s=null!=n.delay?fE(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),jE(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=JE);const t=fE(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>jE(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?fE(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),jE(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return pE(e.params?SE(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?fE(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=JE);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),jE(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;jE(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const JE={};class YE{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=JE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new ZE(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=fE(n.duration)),null!=n.delay&&(r.delay=fE(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=SE(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new YE(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=JE,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new XE(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(GE,"."+this._enterClassName)).replace(WE,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class ZE{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ZE(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||G_,this._currentKeyframe[t]=G_}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=G_})):mE(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=SE(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:G_),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=mE(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==G_&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?TE(t.values()):[],s=e.size?TE(e.values()):[];if(n){const t=r[0],e=gE(t);t.offset=0,e.offset=1,r=[t,e]}return HE(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class XE extends ZE{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=mE(t[0],!1);a.offset=0,i.push(a);const u=mE(t[0],!1);u.offset=tO(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=mE(t[r],!1);o.offset=tO((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return HE(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function tO(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class eO{}class nO extends eO{normalizePropertyName(t,e){return IE(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(rO[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const rO=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function iO(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const sO={};class oO{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||sO,f=this.buildStyles(n,o&&o.params||sO,l),d=a&&a.params||sO,p=this.buildStyles(r,d,l),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},_=c?[]:KE(t,e,this.ast.animation,i,s,f,p,b,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return iO(e,this._triggerName,n,r,v,f,p,[],[],m,y,w,l);_.forEach(t=>{const n=t.element,r=$w(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=$w(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const E=TE(g.values());return iO(e,this._triggerName,n,r,v,f,p,_,E,m,y,w)}}class aO{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=gE(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=SE(s,r,e)),n[t]=s})}}),n}}class uO{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new aO(t.style,t.options&&t.options.params||{})}),cO(this.states,"true","1"),cO(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new oO(t,e,this.states))}),this.fallbackTransition=new oO(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function cO(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const lO=new $E;class hO{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=FE(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=qw(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=KE(this._driver,e,i,oE,aE,{},{},n,lO,r),s.forEach(t=>{const e=$w(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,G_)})});const a=Uw(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=Hw(e,"","","");return Bw(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const fO="ng-animate-queued",dO="ng-animate-disabled",pO=".ng-animate-disabled",gO=[],mO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},yO={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class vO{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=gE(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const bO="void",_O=new vO(bO);class wO{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,AO(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=$w(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=$w(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(AO(t,uE),AO(t,"ng-trigger-"+e),a[e]=_O),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new OO(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(AO(t,uE),AO(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new vO(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=_O),u.value!==bO&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{_E(t,n),bE(t,r)})}return}const c=$w(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(AO(t,fO),s.onStart(()=>{xO(t,fO)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,cE,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,bO,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Uw(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||_O,o=new vO(bO),a=new OO(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==mO||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){AO(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Hw(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Bw(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class EO{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new wO(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(SO(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!SO(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),AO(t,dO)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),xO(t,dO))}removeNode(t,e,n,r){if(SO(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return SO(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,cE,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,hE,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Uw(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=mO,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,pO)&&this.markElementAsDisabled(t,!1),this.driver.query(t,pO,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)AO(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Uw(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new $E,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=IO(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=oE+p++;d.set(e,n),t.forEach(t=>AO(t,n))});const g=[],m=new Set,y=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){const t=this.collectedLeaveElements[j],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=IO(h,Array.from(m));b.forEach((t,e)=>{const n=aE+p++;v.set(e,n),t.forEach(t=>AO(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>xO(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>xO(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>_E(i,p.fromStyles)),e.onDestroy(()=>bE(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>_E(i,p.fromStyles)),e.onDestroy(()=>bE(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>$w(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,O=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(O.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{$w(E,e,[]).push(t),t.destroy()})});const S=g.filter(t=>NO(t,a,u)),T=new Map;CO(T,this.driver,y,u,G_).forEach(t=>{NO(t,a,u)&&S.push(t)});const C=new Map;f.forEach((t,e)=>{CO(C,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=T.get(t),n=C.get(t);T.set(t,Object.assign(Object.assign({},e),n))});const I=[],A=[],x={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>bE(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=x;if(O.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=O.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>O.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,C,T);if(s.setRealPlayer(n),t===x)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Uw(e)),r.push(s)}}else _E(e,o.fromStyles),s.onDestroy(()=>bE(e,o.toStyles)),A.push(s),c.has(e)&&r.push(s)}),A.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Uw(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let j=0;j<g.length;j++){const t=g[j],e=t.__ng_removed;if(xO(t,aE),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,hE,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?jO(this,t,r):this.processLeaveNode(t)}return g.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==bO;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=$w(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}_E(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new tw(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return kO(t,e),e}((n.get(h)||gO).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=qw(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new OO(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{$w(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>AO(t,lE));const f=Uw(h);return f.onDestroy(()=>{c.forEach(t=>xO(t,lE)),bE(a,e.toStyles)}),l.forEach(t=>{$w(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new tw(t.duration,t.delay)}}class OO{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new tw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Bw(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){$w(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function SO(t){return t&&1===t.nodeType}function TO(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function CO(t,e,n,r,i){const s=[];n.forEach(t=>s.push(TO(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=yO,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>TO(t,s[a++])),o}function IO(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function AO(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function xO(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function jO(t,e,n){Uw(n).onDone(()=>t.processLeaveNode(e))}function kO(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof ew?kO(r.players,e):e.push(r)}}function NO(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class DO{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new EO(t,e,n),this._timelineEngine=new hO(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=FE(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new uO(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Gw(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Gw(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function PO(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=LO(e[0]),e.length>1&&(r=LO(e[e.length-1]))):e&&(n=LO(e)),n||r?new RO(t,n,r):null}let RO=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&bE(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bE(this._element,this._initialStyles),this._endStyles&&(bE(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(_E(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_E(this._element,this._endStyles),this._endStyles=null),bE(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function LO(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];VO(i)&&(e=e||{},e[i]=t[i])}return e}function VO(t){return"display"===t||"position"===t}const FO="animation",MO="animationend";class UO{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=GO(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),$O(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),HO(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){qO(this._element,this._name,"paused")}resume(){qO(this._element,this._name,"running")}setPosition(t){const e=BO(this._element,this._name);this._position=t*this._duration,$O(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),HO(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=GO(t,"").split(","),r=zO(n,e);r>=0&&(n.splice(r,1),$O(t,"",n.join(",")))}(this._element,this._name))}}function qO(t,e,n){$O(t,"PlayState",n,BO(t,e))}function BO(t,e){const n=GO(t,"");return n.indexOf(",")>0?zO(n.split(","),e):zO([n],e)}function zO(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function HO(t,e,n){n?t.removeEventListener(MO,e):t.addEventListener(MO,e)}function $O(t,e,n,r){const i=FO+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function GO(t,e){return t.style[FO+e]||""}class WO{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new UO(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:kE(this.element,n))})}this.currentSnapshot=t}}class KO extends tw{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=rE(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class QO{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return Xw(t)}matchesElement(t,e){return tE(t,e)}containsElement(t,e){return eE(t,e)}query(t,e,n){return nE(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>rE(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof WO),u={};AE(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=xE(t,e,u));if(0==n)return new KO(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=PO(t,e),d=new WO(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}}class JO{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:kE(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class YO{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ZO().toString()),this._cssKeyframesDriver=new QO}validateStyleProperty(t){return Xw(t)}matchesElement(t,e){return tE(t,e)}containsElement(t,e){return eE(t,e)}query(t,e,n){return nE(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof JO);AE(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=PO(t,e=xE(t,e=e.map(t=>mE(t,!1)),u));return new JO(t,e,a,l)}}function ZO(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let XO=(()=>{class t extends $_{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Q_(t):t;return nS(this._renderer,null,e,"register",[n]),new tS(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.E),r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class tS extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new eS(this._id,t,e||{},this._renderer)}}class eS{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return nS(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function nS(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const rS="@",iS="@.disabled";let sS=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new oS("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new aS(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.E),r.Sb(DO),r.Sb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class oS{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==rS&&e==iS?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class aS extends oS{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==rS?"."==e.charAt(1)&&e==iS?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==rS){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=rS&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let uS=(()=>{class t extends DO{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a),r.Sb(sE),r.Sb(eO))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const cS=[{provide:sE,useFactory:function(){return"function"==typeof ZO()?new YO:new QO}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:$_,useClass:XO},{provide:eO,useFactory:function(){return new nO}},{provide:DO,useClass:uS},{provide:r.E,useFactory:function(t,e,n){return new sS(t,e,n)},deps:[lt,DO,r.z]}];let lS=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:cS,imports:[Tt]}),t})(),hS=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-navbar"]],decls:3,vars:0,consts:[[1,"navbar","navbar-dark","bg-dark"],["routerLink","/",1,"navbar-brand","mb-0","h1","spanName"]],template:function(t,e){1&t&&(r.Ob(0,"nav",0),r.Ob(1,"span",1),r.kc(2,"App Empleados - Firebase"),r.Nb(),r.Nb())},directives:[ii],styles:[".spanName[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),fS=(()=>{class t{constructor(){this.title="Empleados"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Kb(0,"app-navbar"),r.Kb(1,"router-outlet"))},directives:[hS,oi],styles:[""]}),t})(),dS=(()=>{class t{}return t.\u0275mod=r.Hb({type:t,bootstrap:[fS]}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[],imports:[[Tt,Fw,Zs.a.initializeApp(i),z_,Hs,Aw.forRoot(),lS]]}),t})();Object(r.S)(),Ot().bootstrapModule(dS).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);